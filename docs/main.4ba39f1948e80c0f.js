"use strict";(self.webpackChunkIbm=self.webpackChunkIbm||[]).push([[179],{2011:(yt,Ne,F)=>{F.d(Ne,{Dh:()=>we,GT:()=>he,cc:()=>xe,hO:()=>je,on:()=>Z,pX:()=>oe,xv:()=>pe});var s=F(4650),ee=F(1274),O=F(2088);yt=F.hmd(yt);const ae=["ngOnDestroy"],oe=(ye,mt,Et,ke={})=>new Proxy(ye,{get:(Ce,me)=>Et.runOutsideAngular(()=>{var qe;if(ye[me])return!(null===(qe=ke?.spy)||void 0===qe)&&qe.get&&ke.spy.get(me,ye[me]),ye[me];if(ae.indexOf(me)>-1)return()=>{};const Be=mt.toPromise().then(nt=>{const ne=nt&&nt[me];return"function"==typeof ne?ne.bind(nt):ne&&ne.then?ne.then(Nt=>Et.run(()=>Nt)):Et.run(()=>ne)});return new Proxy(()=>{},{get:(nt,ne)=>Be[ne],apply:(nt,ne,Nt)=>Be.then(ut=>{var qt;const ot=ut&&ut(...Nt);return!(null===(qt=ke?.spy)||void 0===qt)&&qt.apply&&ke.spy.apply(me,Nt,ot),ot})})})}),he=(ye,mt)=>{mt.forEach(Et=>{Object.getOwnPropertyNames(Et.prototype||Et).forEach(ke=>{Object.defineProperty(ye.prototype,ke,Object.getOwnPropertyDescriptor(Et.prototype||Et,ke))})})};class de{constructor(mt){return mt}}const we=new s.OlP("angularfire2.app.options"),pe=new s.OlP("angularfire2.app.name");function Z(ye,mt,Et){const Ce="object"==typeof Et&&Et||{};Ce.name=Ce.name||"string"==typeof Et&&Et||"[DEFAULT]";const qe=ee.Z.apps.filter(Be=>Be&&Be.name===Ce.name)[0]||mt.runOutsideAngular(()=>ee.Z.initializeApp(ye,Ce));try{JSON.stringify(ye)!==JSON.stringify(qe.options)&&H("error",`${qe.name} Firebase App already initialized with different options${yt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new de(qe)}const H=(ye,...mt)=>{(0,s.X6Q)()&&typeof console<"u"&&console[ye](...mt)},z={provide:de,useFactory:Z,deps:[we,s.R0b,[new s.FiY,pe]]};let je=(()=>{class ye{constructor(Et){ee.Z.registerVersion("angularfire",O.q4.full,"core"),ee.Z.registerVersion("angularfire",O.q4.full,"app-compat"),ee.Z.registerVersion("angular",s.q4F.full,Et.toString())}static initializeApp(Et,ke){return{ngModule:ye,providers:[{provide:we,useValue:Et},{provide:pe,useValue:ke}]}}}return ye.\u0275fac=function(Et){return new(Et||ye)(s.LFG(s.Lbi))},ye.\u0275mod=s.oAB({type:ye}),ye.\u0275inj=s.cJS({providers:[z]}),ye})();function xe(ye,mt,Et,ke,Ce){const[,me,qe]=globalThis.\u0275AngularfireInstanceCache.find(Be=>Be[0]===ye)||[];if(me)return function Te(ye,mt){try{return ye.toString()===mt.toString()}catch{return ye===mt}}(Ce,qe)||(ve("error",`${mt} was already initialized on the ${Et} Firebase App with different settings.${tt?" You may need to reload as Firebase is not HMR aware.":""}`),ve("warn",{is:Ce,was:qe})),me;{const Be=ke();return globalThis.\u0275AngularfireInstanceCache.push([ye,Be,Ce]),Be}}const tt=!!yt.hot,ve=(ye,...mt)=>{(0,s.X6Q)()&&typeof console<"u"&&console[ye](...mt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2088:(yt,Ne,F)=>{F.d(Ne,{q4:()=>br,iC:()=>Pi,fc:()=>Dc,HU:()=>Gt,vb:()=>ll,JM:()=>uh});var s=F(4650),ee=F(8140),O=F(5861),oe=(F(7212),F(5578));function ei(){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,O.Z)(function*(){if(!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}function qa(){return ha.apply(this,arguments)}function ha(){return(ha=(0,O.Z)(function*(){try{yield(0,oe.eu)()}catch{return!1}return typeof window<"u"&&(0,oe.hl)()&&(0,oe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}function vc(){return ol.apply(this,arguments)}function ol(){return(ol=(0,O.Z)(function*(){if((0,oe.ru)()||!(0,oe.zI)()||!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}F(1617),F(1877);var gs=F(4408),Po=F(7565);const wr=new class bc extends Po.v{}(class Fs extends gs.o{constructor(T,M){super(T,M),this.scheduler=T,this.work=M}schedule(T,M=0){return M>0?super.schedule(T,M):(this.delay=M,this.state=T,this.scheduler.flush(this),this)}execute(T,M){return M>0||this.closed?super.execute(T,M):this._execute(T,M)}requestAsyncId(T,M,P=0){return null!=P&&P>0||null==P&&this.delay>0?super.requestAsyncId(T,M,P):(T.flush(this),0)}});var Ec=F(4986),Qn=F(8505),to=F(5363),Oo=F(9468);const br=new s.GfV("7.6.1"),rr="__angularfire_symbol__analyticsIsSupportedValue",no="__angularfire_symbol__analyticsIsSupported",eu="__angularfire_symbol__remoteConfigIsSupportedValue",Tc="__angularfire_symbol__remoteConfigIsSupported",yi="__angularfire_symbol__messagingIsSupportedValue",ms="__angularfire_symbol__messagingIsSupported";function uh(w,T,M){if(T){if(1===T.length)return T[0];const W=T.filter(ce=>ce.app===M);if(1===W.length)return W[0]}return M.container.getProvider(w).getImmediate({optional:!0})}globalThis[no]||(globalThis[no]=vc().then(w=>globalThis[rr]=w).catch(()=>globalThis[rr]=!1)),globalThis[ms]||(globalThis[ms]=qa().then(w=>globalThis[yi]=w).catch(()=>globalThis[yi]=!1)),globalThis[Tc]||(globalThis[Tc]=ei().then(w=>globalThis[eu]=w).catch(()=>globalThis[eu]=!1));const ll=(w,T)=>{const M=T?[T]:(0,ee.C6)(),P=[];return M.forEach(q=>{q.container.getProvider(w).instances.forEach(ce=>{P.includes(ce)||P.push(ce)})}),P};function ko(){}class Xf{constructor(T,M=wr){this.zone=T,this.delegate=M}now(){return this.delegate.now()}schedule(T,M,P){const q=this.zone;return this.delegate.schedule(function(ce){q.runGuarded(()=>{T.apply(this,[ce])})},M,P)}}class lh{constructor(T){this.zone=T,this.task=null}call(T,M){const P=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ko,{},ko,ko)),M.pipe((0,Qn.b)({next:P,complete:P,error:P})).subscribe(T).add(P)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Gt=(()=>{class w{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new Xf(Zone.current)),this.insideAngular=M.run(()=>new Xf(Zone.current,Ec.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return w.\u0275fac=function(M){return new(M||w)(s.LFG(s.R0b))},w.\u0275prov=s.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function _s(){const w=globalThis.\u0275AngularFireScheduler;if(!w)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return w}function Dc(w){return w.pipe((0,to.Q)(_s().outsideAngular))}function Pi(w){return _s(),function Ac(w){return function(M){return(M=M.lift(new lh(w.ngZone))).pipe((0,Oo.R)(w.outsideAngular),(0,to.Q)(w.insideAngular))}}(_s())(w)}},5578:(yt,Ne,F)=>{F.d(Ne,{$s:()=>us,BH:()=>me,G6:()=>os,L:()=>pe,LL:()=>ge,Pz:()=>Ce,Sg:()=>qe,UG:()=>ne,US:()=>he,ZB:()=>z,ZR:()=>Se,aH:()=>ke,b$:()=>qt,eu:()=>X,hl:()=>re,jU:()=>Nt,m9:()=>Qr,ne:()=>nn,pd:()=>lr,r3:()=>Yn,ru:()=>ut,tV:()=>Z,uI:()=>nt,vZ:()=>Yr,w1:()=>Ds,xO:()=>ea,xb:()=>Di,z$:()=>Be,zI:()=>Ie,zd:()=>Ai});const ae=function(V){const U=[];let G=0;for(let ue=0;ue<V.length;ue++){let Y=V.charCodeAt(ue);Y<128?U[G++]=Y:Y<2048?(U[G++]=Y>>6|192,U[G++]=63&Y|128):55296==(64512&Y)&&ue+1<V.length&&56320==(64512&V.charCodeAt(ue+1))?(Y=65536+((1023&Y)<<10)+(1023&V.charCodeAt(++ue)),U[G++]=Y>>18|240,U[G++]=Y>>12&63|128,U[G++]=Y>>6&63|128,U[G++]=63&Y|128):(U[G++]=Y>>12|224,U[G++]=Y>>6&63|128,U[G++]=63&Y|128)}return U},he={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(V,U){if(!Array.isArray(V))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=U?this.byteToCharMapWebSafe_:this.byteToCharMap_,ue=[];for(let Y=0;Y<V.length;Y+=3){const Ge=V[Y],St=Y+1<V.length,Ft=St?V[Y+1]:0,cn=Y+2<V.length,Ue=cn?V[Y+2]:0;let gn=(15&Ft)<<2|Ue>>6,Mr=63&Ue;cn||(Mr=64,St||(gn=64)),ue.push(G[Ge>>2],G[(3&Ge)<<4|Ft>>4],G[gn],G[Mr])}return ue.join("")},encodeString(V,U){return this.HAS_NATIVE_SUPPORT&&!U?btoa(V):this.encodeByteArray(ae(V),U)},decodeString(V,U){return this.HAS_NATIVE_SUPPORT&&!U?atob(V):function(V){const U=[];let G=0,ue=0;for(;G<V.length;){const Y=V[G++];if(Y<128)U[ue++]=String.fromCharCode(Y);else if(Y>191&&Y<224){const Ge=V[G++];U[ue++]=String.fromCharCode((31&Y)<<6|63&Ge)}else if(Y>239&&Y<365){const cn=((7&Y)<<18|(63&V[G++])<<12|(63&V[G++])<<6|63&V[G++])-65536;U[ue++]=String.fromCharCode(55296+(cn>>10)),U[ue++]=String.fromCharCode(56320+(1023&cn))}else{const Ge=V[G++],St=V[G++];U[ue++]=String.fromCharCode((15&Y)<<12|(63&Ge)<<6|63&St)}}return U.join("")}(this.decodeStringToByteArray(V,U))},decodeStringToByteArray(V,U){this.init_();const G=U?this.charToByteMapWebSafe_:this.charToByteMap_,ue=[];for(let Y=0;Y<V.length;){const Ge=G[V.charAt(Y++)],Ft=Y<V.length?G[V.charAt(Y)]:0;++Y;const Ue=Y<V.length?G[V.charAt(Y)]:64;++Y;const _t=Y<V.length?G[V.charAt(Y)]:64;if(++Y,null==Ge||null==Ft||null==Ue||null==_t)throw new de;ue.push(Ge<<2|Ft>>4),64!==Ue&&(ue.push(Ft<<4&240|Ue>>2),64!==_t&&ue.push(Ue<<6&192|_t))}return ue},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let V=0;V<this.ENCODED_VALS.length;V++)this.byteToCharMap_[V]=this.ENCODED_VALS.charAt(V),this.charToByteMap_[this.byteToCharMap_[V]]=V,this.byteToCharMapWebSafe_[V]=this.ENCODED_VALS_WEBSAFE.charAt(V),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[V]]=V,V>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(V)]=V,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(V)]=V)}}};class de extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pe=function(V){return function(V){const U=ae(V);return he.encodeByteArray(U,!0)}(V).replace(/\./g,"")},Z=function(V){try{return he.decodeString(V,!0)}catch(U){console.error("base64Decode failed: ",U)}return null};function z(V,U){if(!(U instanceof Object))return U;switch(U.constructor){case Date:return new Date(U.getTime());case Object:void 0===V&&(V={});break;case Array:V=[];break;default:return U}for(const G in U)!U.hasOwnProperty(G)||!je(G)||(V[G]=z(V[G],U[G]));return V}function je(V){return"__proto__"!==V}const ye=()=>{try{return function xe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const V=process.env.__FIREBASE_DEFAULTS__;return V?JSON.parse(V):void 0})()||(()=>{if(typeof document>"u")return;let V;try{V=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const U=V&&Z(V[1]);return U&&JSON.parse(U)})()}catch(V){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${V}`)}},ke=()=>{var V;return null===(V=ye())||void 0===V?void 0:V.config},Ce=V=>{var U;return null===(U=ye())||void 0===U?void 0:U[`_${V}`]};class me{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((U,G)=>{this.resolve=U,this.reject=G})}wrapCallback(U){return(G,ue)=>{G?this.reject(G):this.resolve(ue),"function"==typeof U&&(this.promise.catch(()=>{}),1===U.length?U(G):U(G,ue))}}}function qe(V,U){if(V.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ue=U||"demo-project",Y=V.iat||0,Ge=V.sub||V.user_id;if(!Ge)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const St=Object.assign({iss:`https://securetoken.google.com/${ue}`,aud:ue,iat:Y,exp:Y+3600,auth_time:Y,sub:Ge,user_id:Ge,firebase:{sign_in_provider:"custom",identities:{}}},V);return[pe(JSON.stringify({alg:"none",type:"JWT"})),pe(JSON.stringify(St)),""].join(".")}function Be(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function nt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Be())}function ne(){var V;const U=null===(V=ye())||void 0===V?void 0:V.forceEnvironment;if("node"===U)return!0;if("browser"===U)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Nt(){return"object"==typeof self&&self.self===self}function ut(){const V="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof V&&void 0!==V.id}function qt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ds(){const V=Be();return V.indexOf("MSIE ")>=0||V.indexOf("Trident/")>=0}function os(){return!ne()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function re(){try{return"object"==typeof indexedDB}catch{return!1}}function X(){return new Promise((V,U)=>{try{let G=!0;const ue="validate-browser-context-for-indexeddb-analytics-module",Y=self.indexedDB.open(ue);Y.onsuccess=()=>{Y.result.close(),G||self.indexedDB.deleteDatabase(ue),V(!0)},Y.onupgradeneeded=()=>{G=!1},Y.onerror=()=>{var Ge;U((null===(Ge=Y.error)||void 0===Ge?void 0:Ge.message)||"")}}catch(G){U(G)}})}function Ie(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Se extends Error{constructor(U,G,ue){super(G),this.code=U,this.customData=ue,this.name="FirebaseError",Object.setPrototypeOf(this,Se.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ge.prototype.create)}}class ge{constructor(U,G,ue){this.service=U,this.serviceName=G,this.errors=ue}create(U,...G){const ue=G[0]||{},Y=`${this.service}/${U}`,Ge=this.errors[U],St=Ge?function lt(V,U){return V.replace(Rt,(G,ue)=>{const Y=U[ue];return null!=Y?String(Y):`<${ue}?>`})}(Ge,ue):"Error";return new Se(Y,`${this.serviceName}: ${St} (${Y}).`,ue)}}const Rt=/\{\$([^}]+)}/g;function Yn(V,U){return Object.prototype.hasOwnProperty.call(V,U)}function Di(V){for(const U in V)if(Object.prototype.hasOwnProperty.call(V,U))return!1;return!0}function Yr(V,U){if(V===U)return!0;const G=Object.keys(V),ue=Object.keys(U);for(const Y of G){if(!ue.includes(Y))return!1;const Ge=V[Y],St=U[Y];if(Bi(Ge)&&Bi(St)){if(!Yr(Ge,St))return!1}else if(Ge!==St)return!1}for(const Y of ue)if(!G.includes(Y))return!1;return!0}function Bi(V){return null!==V&&"object"==typeof V}function ea(V){const U=[];for(const[G,ue]of Object.entries(V))Array.isArray(ue)?ue.forEach(Y=>{U.push(encodeURIComponent(G)+"="+encodeURIComponent(Y))}):U.push(encodeURIComponent(G)+"="+encodeURIComponent(ue));return U.length?"&"+U.join("&"):""}function Ai(V){const U={};return V.replace(/^\?/,"").split("&").forEach(ue=>{if(ue){const[Y,Ge]=ue.split("=");U[decodeURIComponent(Y)]=decodeURIComponent(Ge)}}),U}function lr(V){const U=V.indexOf("?");if(!U)return"";const G=V.indexOf("#",U);return V.substring(U,G>0?G:void 0)}function nn(V,U){const G=new rt(V,U);return G.subscribe.bind(G)}class rt{constructor(U,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{U(this)}).catch(ue=>{this.error(ue)})}next(U){this.forEachObserver(G=>{G.next(U)})}error(U){this.forEachObserver(G=>{G.error(U)}),this.close(U)}complete(){this.forEachObserver(U=>{U.complete()}),this.close()}subscribe(U,G,ue){let Y;if(void 0===U&&void 0===G&&void 0===ue)throw new Error("Missing Observer.");Y=function pn(V,U){if("object"!=typeof V||null===V)return!1;for(const G of U)if(G in V&&"function"==typeof V[G])return!0;return!1}(U,["next","error","complete"])?U:{next:U,error:G,complete:ue},void 0===Y.next&&(Y.next=as),void 0===Y.error&&(Y.error=as),void 0===Y.complete&&(Y.complete=as);const Ge=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Y.error(this.finalError):Y.complete()}catch{}}),this.observers.push(Y),Ge}unsubscribeOne(U){void 0===this.observers||void 0===this.observers[U]||(delete this.observers[U],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(U){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,U)}sendOne(U,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[U])try{G(this.observers[U])}catch(ue){typeof console<"u"&&console.error&&console.error(ue)}})}close(U){this.finalized||(this.finalized=!0,void 0!==U&&(this.finalError=U),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function as(){}function us(V,U=1e3,G=2){const ue=U*Math.pow(G,V),Y=Math.round(.5*ue*(Math.random()-.5)*2);return Math.min(144e5,ue+Y)}function Qr(V){return V&&V._delegate?V._delegate:V}},8303:(yt,Ne,F)=>{var s=F(4650);let ee=null;function O(){return ee}const de=new s.OlP("DocumentToken");let we=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function pe(){return(0,s.LFG)(H)}()},providedIn:"platform"}),n})();const Z=new s.OlP("Location Initialized");let H=(()=>{class n extends we{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){z()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){z()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(de))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function je(){return new H((0,s.LFG)(de))}()},providedIn:"platform"}),n})();function z(){return!!window.history.pushState}function xe(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Te(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function tt(n){return n&&"?"!==n[0]?"?"+n:n}let ve=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(mt)},providedIn:"root"}),n})();const ye=new s.OlP("appBaseHref");let mt=(()=>{class n extends ve{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,s.f3M)(de).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return xe(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+tt(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,u){const c=this.prepareExternalUrl(i+tt(u));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,u){const c=this.prepareExternalUrl(i+tt(u));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(we),s.LFG(ye,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Et=(()=>{class n extends ve{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=xe(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,u){let c=this.prepareExternalUrl(i+tt(u));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,u){let c=this.prepareExternalUrl(i+tt(u));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(we),s.LFG(ye,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),ke=(()=>{class n{constructor(t){this._subject=new s.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=Te(qe(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+tt(r))}normalize(t){return n.stripTrailingSlash(function me(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,qe(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+tt(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+tt(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=tt,n.joinWithSlash=xe,n.stripTrailingSlash=Te,n.\u0275fac=function(t){return new(t||n)(s.LFG(ve))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function Ce(){return new ke((0,s.LFG)(ve))}()},providedIn:"root"}),n})();function qe(n){return n.replace(/\/index.html$/,"")}var Nt=(()=>((Nt=Nt||{})[Nt.Format=0]="Format",Nt[Nt.Standalone=1]="Standalone",Nt))(),ut=(()=>((ut=ut||{})[ut.Narrow=0]="Narrow",ut[ut.Abbreviated=1]="Abbreviated",ut[ut.Wide=2]="Wide",ut[ut.Short=3]="Short",ut))(),qt=(()=>((qt=qt||{})[qt.Short=0]="Short",qt[qt.Medium=1]="Medium",qt[qt.Long=2]="Long",qt[qt.Full=3]="Full",qt))(),ot=(()=>((ot=ot||{})[ot.Decimal=0]="Decimal",ot[ot.Group=1]="Group",ot[ot.List=2]="List",ot[ot.PercentSign=3]="PercentSign",ot[ot.PlusSign=4]="PlusSign",ot[ot.MinusSign=5]="MinusSign",ot[ot.Exponential=6]="Exponential",ot[ot.SuperscriptingExponent=7]="SuperscriptingExponent",ot[ot.PerMille=8]="PerMille",ot[ot.Infinity=9]="Infinity",ot[ot.NaN=10]="NaN",ot[ot.TimeSeparator=11]="TimeSeparator",ot[ot.CurrencyDecimal=12]="CurrencyDecimal",ot[ot.CurrencyGroup=13]="CurrencyGroup",ot))();function Se(n,e){return ht((0,s.cg1)(n)[s.wAp.DateFormat],e)}function ge(n,e){return ht((0,s.cg1)(n)[s.wAp.TimeFormat],e)}function lt(n,e){return ht((0,s.cg1)(n)[s.wAp.DateTimeFormat],e)}function Rt(n,e){const t=(0,s.cg1)(n),r=t[s.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===ot.CurrencyDecimal)return t[s.wAp.NumberSymbols][ot.Decimal];if(e===ot.CurrencyGroup)return t[s.wAp.NumberSymbols][ot.Group]}return r}function Xn(n){if(!n[s.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[s.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ht(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function Yr(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const Ai=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,lr={},In=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var nn=(()=>((nn=nn||{})[nn.Short=0]="Short",nn[nn.ShortGMT=1]="ShortGMT",nn[nn.Long=2]="Long",nn[nn.Extended=3]="Extended",nn))(),rt=(()=>((rt=rt||{})[rt.FullYear=0]="FullYear",rt[rt.Month=1]="Month",rt[rt.Date=2]="Date",rt[rt.Hours=3]="Hours",rt[rt.Minutes=4]="Minutes",rt[rt.Seconds=5]="Seconds",rt[rt.FractionalSeconds=6]="FractionalSeconds",rt[rt.Day=7]="Day",rt))(),Ct=(()=>((Ct=Ct||{})[Ct.DayPeriods=0]="DayPeriods",Ct[Ct.Days=1]="Days",Ct[Ct.Months=2]="Months",Ct[Ct.Eras=3]="Eras",Ct))();function pn(n,e,t,r){let i=function Y(n){if(St(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,u=1,c=1]=n.split("-").map(p=>+p);return as(i,u-1,c)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(Ai))return function Ge(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,u=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const c=Number(n[4]||0)-t,p=Number(n[5]||0)-r,_=Number(n[6]||0),E=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return u.call(e,c,p,_,E),e}(r)}const e=new Date(n);if(!St(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=di(t,e)||e;let p,c=[];for(;e;){if(p=In.exec(e),!p){c.push(e);break}{c=c.concat(p.slice(1));const A=c.pop();if(!A)break;e=A}}let _=i.getTimezoneOffset();r&&(_=U(r,_),i=function ue(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function G(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(U(e,i)-i))}(i,r,!0));let E="";return c.forEach(A=>{const x=function V(n){if(Qr[n])return Qr[n];let e;switch(n){case"G":case"GG":case"GGG":e=rn(Ct.Eras,ut.Abbreviated);break;case"GGGG":e=rn(Ct.Eras,ut.Wide);break;case"GGGGG":e=rn(Ct.Eras,ut.Narrow);break;case"y":e=hn(rt.FullYear,1,0,!1,!0);break;case"yy":e=hn(rt.FullYear,2,0,!0,!0);break;case"yyy":e=hn(rt.FullYear,3,0,!1,!0);break;case"yyyy":e=hn(rt.FullYear,4,0,!1,!0);break;case"Y":e=hi(1);break;case"YY":e=hi(2,!0);break;case"YYY":e=hi(3);break;case"YYYY":e=hi(4);break;case"M":case"L":e=hn(rt.Month,1,1);break;case"MM":case"LL":e=hn(rt.Month,2,1);break;case"MMM":e=rn(Ct.Months,ut.Abbreviated);break;case"MMMM":e=rn(Ct.Months,ut.Wide);break;case"MMMMM":e=rn(Ct.Months,ut.Narrow);break;case"LLL":e=rn(Ct.Months,ut.Abbreviated,Nt.Standalone);break;case"LLLL":e=rn(Ct.Months,ut.Wide,Nt.Standalone);break;case"LLLLL":e=rn(Ct.Months,ut.Narrow,Nt.Standalone);break;case"w":e=Zn(1);break;case"ww":e=Zn(2);break;case"W":e=Zn(1,!0);break;case"d":e=hn(rt.Date,1);break;case"dd":e=hn(rt.Date,2);break;case"c":case"cc":e=hn(rt.Day,1);break;case"ccc":e=rn(Ct.Days,ut.Abbreviated,Nt.Standalone);break;case"cccc":e=rn(Ct.Days,ut.Wide,Nt.Standalone);break;case"ccccc":e=rn(Ct.Days,ut.Narrow,Nt.Standalone);break;case"cccccc":e=rn(Ct.Days,ut.Short,Nt.Standalone);break;case"E":case"EE":case"EEE":e=rn(Ct.Days,ut.Abbreviated);break;case"EEEE":e=rn(Ct.Days,ut.Wide);break;case"EEEEE":e=rn(Ct.Days,ut.Narrow);break;case"EEEEEE":e=rn(Ct.Days,ut.Short);break;case"a":case"aa":case"aaa":e=rn(Ct.DayPeriods,ut.Abbreviated);break;case"aaaa":e=rn(Ct.DayPeriods,ut.Wide);break;case"aaaaa":e=rn(Ct.DayPeriods,ut.Narrow);break;case"b":case"bb":case"bbb":e=rn(Ct.DayPeriods,ut.Abbreviated,Nt.Standalone,!0);break;case"bbbb":e=rn(Ct.DayPeriods,ut.Wide,Nt.Standalone,!0);break;case"bbbbb":e=rn(Ct.DayPeriods,ut.Narrow,Nt.Standalone,!0);break;case"B":case"BB":case"BBB":e=rn(Ct.DayPeriods,ut.Abbreviated,Nt.Format,!0);break;case"BBBB":e=rn(Ct.DayPeriods,ut.Wide,Nt.Format,!0);break;case"BBBBB":e=rn(Ct.DayPeriods,ut.Narrow,Nt.Format,!0);break;case"h":e=hn(rt.Hours,1,-12);break;case"hh":e=hn(rt.Hours,2,-12);break;case"H":e=hn(rt.Hours,1);break;case"HH":e=hn(rt.Hours,2);break;case"m":e=hn(rt.Minutes,1);break;case"mm":e=hn(rt.Minutes,2);break;case"s":e=hn(rt.Seconds,1);break;case"ss":e=hn(rt.Seconds,2);break;case"S":e=hn(rt.FractionalSeconds,1);break;case"SS":e=hn(rt.FractionalSeconds,2);break;case"SSS":e=hn(rt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Ar(nn.Short);break;case"ZZZZZ":e=Ar(nn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Ar(nn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Ar(nn.Long);break;default:return null}return Qr[n]=e,e}(A);E+=x?x(i,t,_):"''"===A?"'":A.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),E}function as(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function di(n,e){const t=function li(n){return(0,s.cg1)(n)[s.wAp.LocaleId]}(n);if(lr[t]=lr[t]||{},lr[t][e])return lr[t][e];let r="";switch(e){case"shortDate":r=Se(n,qt.Short);break;case"mediumDate":r=Se(n,qt.Medium);break;case"longDate":r=Se(n,qt.Long);break;case"fullDate":r=Se(n,qt.Full);break;case"shortTime":r=ge(n,qt.Short);break;case"mediumTime":r=ge(n,qt.Medium);break;case"longTime":r=ge(n,qt.Long);break;case"fullTime":r=ge(n,qt.Full);break;case"short":const i=di(n,"shortTime"),u=di(n,"shortDate");r=er(lt(n,qt.Short),[i,u]);break;case"medium":const c=di(n,"mediumTime"),p=di(n,"mediumDate");r=er(lt(n,qt.Medium),[c,p]);break;case"long":const _=di(n,"longTime"),E=di(n,"longDate");r=er(lt(n,qt.Long),[_,E]);break;case"full":const A=di(n,"fullTime"),x=di(n,"fullDate");r=er(lt(n,qt.Full),[A,x])}return r&&(lr[t][e]=r),r}function er(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function Dt(n,e,t="-",r,i){let u="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,u=t));let c=String(n);for(;c.length<e;)c="0"+c;return r&&(c=c.slice(c.length-e)),u+c}function hn(n,e,t=0,r=!1,i=!1){return function(u,c){let p=function ta(n,e){switch(n){case rt.FullYear:return e.getFullYear();case rt.Month:return e.getMonth();case rt.Date:return e.getDate();case rt.Hours:return e.getHours();case rt.Minutes:return e.getMinutes();case rt.Seconds:return e.getSeconds();case rt.FractionalSeconds:return e.getMilliseconds();case rt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,u);if((t>0||p>-t)&&(p+=t),n===rt.Hours)0===p&&-12===t&&(p=12);else if(n===rt.FractionalSeconds)return function Dr(n,e){return Dt(n,3).substring(0,e)}(p,e);const _=Rt(c,ot.MinusSign);return Dt(p,e,_,r,i)}}function rn(n,e,t=Nt.Format,r=!1){return function(i,u){return function cr(n,e,t,r,i,u){switch(t){case Ct.Months:return function re(n,e,t){const r=(0,s.cg1)(n),u=ht([r[s.wAp.MonthsFormat],r[s.wAp.MonthsStandalone]],e);return ht(u,t)}(e,i,r)[n.getMonth()];case Ct.Days:return function os(n,e,t){const r=(0,s.cg1)(n),u=ht([r[s.wAp.DaysFormat],r[s.wAp.DaysStandalone]],e);return ht(u,t)}(e,i,r)[n.getDay()];case Ct.DayPeriods:const c=n.getHours(),p=n.getMinutes();if(u){const E=function Yn(n){const e=(0,s.cg1)(n);return Xn(e),(e[s.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?Yr(r):[Yr(r[0]),Yr(r[1])])}(e),A=function ci(n,e,t){const r=(0,s.cg1)(n);Xn(r);const u=ht([r[s.wAp.ExtraData][0],r[s.wAp.ExtraData][1]],e)||[];return ht(u,t)||[]}(e,i,r),x=E.findIndex(L=>{if(Array.isArray(L)){const[j,Q]=L,De=c>=j.hours&&p>=j.minutes,_e=c<Q.hours||c===Q.hours&&p<Q.minutes;if(j.hours<Q.hours){if(De&&_e)return!0}else if(De||_e)return!0}else if(L.hours===c&&L.minutes===p)return!0;return!1});if(-1!==x)return A[x]}return function po(n,e,t){const r=(0,s.cg1)(n),u=ht([r[s.wAp.DayPeriodsFormat],r[s.wAp.DayPeriodsStandalone]],e);return ht(u,t)}(e,i,r)[c<12?0:1];case Ct.Eras:return function X(n,e){return ht((0,s.cg1)(n)[s.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,u,n,e,t,r)}}function Ar(n){return function(e,t,r){const i=-1*r,u=Rt(t,ot.MinusSign),c=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case nn.Short:return(i>=0?"+":"")+Dt(c,2,u)+Dt(Math.abs(i%60),2,u);case nn.ShortGMT:return"GMT"+(i>=0?"+":"")+Dt(c,1,u);case nn.Long:return"GMT"+(i>=0?"+":"")+Dt(c,2,u)+":"+Dt(Math.abs(i%60),2,u);case nn.Extended:return 0===r?"Z":(i>=0?"+":"")+Dt(c,2,u)+":"+Dt(Math.abs(i%60),2,u);default:throw new Error(`Unknown zone width "${n}"`)}}}function us(n){return as(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function Zn(n,e=!1){return function(t,r){let i;if(e){const u=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,c=t.getDate();i=1+Math.floor((c+u)/7)}else{const u=us(t),c=function Sr(n){const e=as(n,0,1).getDay();return as(n,0,1+(e<=4?4:11)-e)}(u.getFullYear()),p=u.getTime()-c.getTime();i=1+Math.round(p/6048e5)}return Dt(i,n,Rt(r,ot.MinusSign))}}function hi(n,e=!1){return function(t,r){return Dt(us(t).getFullYear(),n,Rt(r,ot.MinusSign),e)}}const Qr={};function U(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function St(n){return n instanceof Date&&!isNaN(n.valueOf())}function Ma(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(u)}return null}class ql{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Yt=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,u,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new ql(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===u?void 0:u);else if(null!==u){const p=r.get(u);r.move(p,c),Qs(p,i)}});for(let i=0,u=r.length;i<u;i++){const p=r.get(i).context;p.index=i,p.count=u,p.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Qs(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Qs(n,e){n.context.$implicit=e.item}let bn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Nd,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){dr("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){dr("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.s_b),s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Nd{constructor(){this.$implicit=null,this.ngIf=null}}function dr(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,s.AaK)(e)}'.`)}const wm=new s.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let cs=(()=>{class n{constructor(t,r){this.locale=t,this.defaultTimezone=r}transform(t,r="mediumDate",i,u){if(null==t||""===t||t!=t)return null;try{return pn(t,r,u||this.locale,i??this.defaultTimezone??void 0)}catch(c){throw function En(n,e){return new s.vHH(2100,!1)}()}}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.soG,16),s.Y36(wm,24))},n.\u0275pipe=s.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),Yl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();function Ou(n){return"server"===n}let Ms=(()=>{class n{}return n.\u0275prov=(0,s.Yz7)({token:n,providedIn:"root",factory:()=>new Fu((0,s.LFG)(de),window)}),n})();class Fu{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function ei(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const u=i.shadowRoot;if(u){const c=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],i-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=xi(this.window.history)||xi(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function xi(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Na{}class uc extends class Vf extends class he{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function oe(n){ee||(ee=n)}(new uc)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function $u(){return qu=qu||document.querySelector("base"),qu?qu.getAttribute("href"):null}();return null==t?null:function Bf(n){Gu=Gu||document.createElement("a"),Gu.setAttribute("href",n);const e=Gu.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){qu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ma(document.cookie,e)}}let Gu,qu=null;const ca=new s.OlP("TRANSITION_ID"),lc=[{provide:s.ip1,useFactory:function Xd(n,e,t){return()=>{t.get(s.CZH).donePromise.then(()=>{const r=O(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<i.length;u++)r.remove(i[u])})}},deps:[ca,de,s.zs3],multi:!0}];let jf=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const ds=new s.OlP("EventManagerPlugins");let ja=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let u=0;u<i.length;u++){const c=i[u];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(ds),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class Ps{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=O().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let wo=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),hs=(()=>{class n extends wo{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(u=>{const c=this._doc.createElement("style");c.textContent=u,i.push(r.appendChild(c))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(zu),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(zu))}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(de))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function zu(n){O().remove(n)}const Ha={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ni=/%COMP%/g;function To(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?To(n,i,t):(i=i.replace(Ni,n),t.push(i))}return t}function Wu(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let qa=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new ha(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case s.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Io(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case s.ifc.ShadowDom:return new Zf(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=To(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(ja),s.LFG(hs),s.LFG(s.AFp))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class ha{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Ha[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){($a(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&($a(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const u=Ha[i];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Ha[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(s.JOm.DashCase|s.JOm.Important)?e.style.setProperty(t,r,i&s.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&s.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Wu(r)):this.eventManager.addEventListener(e,t,Wu(r))}}function $a(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Io extends ha{constructor(e,t,r,i){super(e),this.component=r;const u=To(i+"-"+r.id,r.styles,[]);t.addStyles(u),this.contentAttr=function Eo(n){return"_ngcontent-%COMP%".replace(Ni,n)}(i+"-"+r.id),this.hostAttr=function Za(n){return"_nghost-%COMP%".replace(Ni,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Zf extends ha{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=To(i.id,i.styles,[]);for(let c=0;c<u.length;c++){const p=document.createElement("style");p.textContent=u[c],this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Ku=(()=>{class n extends Ps{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(de))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const ps=["alt","control","meta","shift"],Am={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},An={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let hc=(()=>{class n extends Ps{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const u=n.parseEventName(r),c=n.eventCallback(u.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(t,u.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const u=n._normalizeKey(r.pop());let c="",p=r.indexOf("code");if(p>-1&&(r.splice(p,1),c="code."),ps.forEach(E=>{const A=r.indexOf(E);A>-1&&(r.splice(A,1),c+=E+".")}),c+=u,0!=r.length||0===u.length)return null;const _={};return _.domEventName=i,_.fullKey=c,_}static matchEventFullKeyCode(t,r){let i=Am[t.key]||t.key,u="";return r.indexOf("code.")>-1&&(i=t.code,u="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),ps.forEach(c=>{c!==i&&(0,An[c])(t)&&(u+=c+".")}),u+=i,u===r)}static eventCallback(t,r,i){return u=>{n.matchEventFullKeyCode(u,t)&&i.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(de))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Ju=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:"browser"},{provide:s.g9A,useValue:function Do(){uc.makeCurrent()},multi:!0},{provide:de,useFactory:function fa(){return(0,s.RDi)(document),document},deps:[]}]),za=new s.OlP(""),fn=[{provide:s.rWj,useClass:class Ba{addToWindow(e){s.dqk.getAngularTestability=(r,i=!0)=>{const u=e.findTestabilityInTree(r,i);if(null==u)throw new Error("Could not find testability for element.");return u},s.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),s.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(r=>{const i=s.dqk.getAllAngularTestabilities();let u=i.length,c=!1;const p=function(_){c=c||_,u--,0==u&&r(c)};i.forEach(function(_){_.whenStable(p)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?O().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:s.lri,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]}],fc=[{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function Rr(){return new s.qLn},deps:[]},{provide:ds,useClass:Ku,multi:!0,deps:[de,s.R0b,s.Lbi]},{provide:ds,useClass:hc,multi:!0,deps:[de]},{provide:qa,useClass:qa,deps:[ja,hs,s.AFp]},{provide:s.FYo,useExisting:qa},{provide:wo,useExisting:hs},{provide:hs,useClass:hs,deps:[de]},{provide:ja,useClass:ja,deps:[ds,s.R0b]},{provide:Na,useClass:jf,deps:[]},[]];let pc=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:s.AFp,useValue:t.appId},{provide:ca,useExisting:s.AFp},lc]}}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(za,12))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[...fc,...fn],imports:[Yl,s.hGG]}),n})(),Wf=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(de))},n.\u0275prov=s.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function zf(){return new Wf((0,s.LFG)(de))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var nr=F(2011),Xt=F(8996),Ao=F(7669);function Qe(...n){const e=(0,Ao.yG)(n);return(0,Xt.D)(n,e)}var Cr=F(7579);class Tn extends Cr.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Ya=(0,F(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var ti=F(9751);const{isArray:Ja}=Array,{getPrototypeOf:So,prototype:Zr,keys:yc}=Object;function Vn(n){if(1===n.length){const e=n[0];if(Ja(e))return{args:e,keys:null};if(function oh(n){return n&&"object"==typeof n&&So(n)===Zr}(e)){const t=yc(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var eo=F(4671),At=F(4004);const{isArray:Mo}=Array;function ol(n){return(0,At.U)(e=>function vc(n,e){return Mo(e)?n(...e):n(e)}(n,e))}function Qa(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var hr=F(5403),xo=F(9672);function al(...n){const e=(0,Ao.yG)(n),t=(0,Ao.jO)(n),{args:r,keys:i}=Vn(n);if(0===r.length)return(0,Xt.D)([],e);const u=new ti.y(function ga(n,e,t=eo.y){return r=>{Cc(e,()=>{const{length:i}=n,u=new Array(i);let c=i,p=i;for(let _=0;_<i;_++)Cc(e,()=>{const E=(0,Xt.D)(n[_],e);let A=!1;E.subscribe((0,hr.x)(r,x=>{u[_]=x,A||(A=!0,p--),p||r.next(t(u.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>Qa(i,c):eo.y));return t?u.pipe(ol(t)):u}function Cc(n,e,t){n?(0,xo.f)(t,n,e):e()}var Xa=F(8189);function ma(...n){return function No(){return(0,Xa.J)(1)}()((0,Xt.D)(n,(0,Ao.yG)(n)))}var Ro=F(8421);function wc(n){return new ti.y(e=>{(0,Ro.Xf)(n()).subscribe(e)})}var Qf=F(9635),gs=F(576);function Fs(n,e){const t=(0,gs.m)(n)?n:()=>n,r=i=>i.error(t());return new ti.y(e?i=>e.schedule(r,0,i):r)}var Po=F(515),bc=F(727),wr=F(4482);function ah(){return(0,wr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,hr.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,u=t;t=null,i&&(!u||i===u)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Ec extends ti.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,wr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new bc.w0;const t=this.getSubject();e.add(this.source.subscribe((0,hr.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=bc.w0.EMPTY)}return e}refCount(){return ah()(this)}}function Qn(n,e){return(0,wr.e)((t,r)=>{let i=null,u=0,c=!1;const p=()=>c&&!i&&r.complete();t.subscribe((0,hr.x)(r,_=>{i?.unsubscribe();let E=0;const A=u++;(0,Ro.Xf)(n(_,A)).subscribe(i=(0,hr.x)(r,x=>r.next(e?e(_,x,A,E++):x),()=>{i=null,p()}))},()=>{c=!0,p()}))})}function to(n){return n<=0?()=>Po.E:(0,wr.e)((e,t)=>{let r=0;e.subscribe((0,hr.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Oo(...n){const e=(0,Ao.yG)(n);return(0,wr.e)((t,r)=>{(e?ma(n,t,e):ma(n,t)).subscribe(r)})}function br(n,e){return(0,wr.e)((t,r)=>{let i=0;t.subscribe((0,hr.x)(r,u=>n.call(e,u,i++)&&r.next(u)))})}var rr=F(5577);function no(n){return(0,wr.e)((e,t)=>{let r=!1;e.subscribe((0,hr.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function eu(n=Tc){return(0,wr.e)((e,t)=>{let r=!1;e.subscribe((0,hr.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Tc(){return new Ya}function yi(n,e){const t=arguments.length>=2;return r=>r.pipe(n?br((i,u)=>n(i,u,r)):eo.y,to(1),t?no(e):eu(()=>new Ya))}function ms(n,e){return(0,gs.m)(e)?(0,rr.z)(n,e,1):(0,rr.z)(n,1)}var fr=F(8505);function ro(n){return(0,wr.e)((e,t)=>{let u,r=null,i=!1;r=e.subscribe((0,hr.x)(t,void 0,void 0,c=>{u=(0,Ro.Xf)(n(c,ro(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,u.subscribe(t))})}function ul(n,e,t,r,i){return(u,c)=>{let p=t,_=e,E=0;u.subscribe((0,hr.x)(c,A=>{const x=E++;_=p?n(_,A,x):(p=!0,A),r&&c.next(_)},i&&(()=>{p&&c.next(_),c.complete()})))}}function Ic(n,e){return(0,wr.e)(ul(n,e,arguments.length>=2,!0))}function uh(n){return n<=0?()=>Po.E:(0,wr.e)((e,t)=>{let r=[];e.subscribe((0,hr.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function ll(n,e){const t=arguments.length>=2;return r=>r.pipe(n?br((i,u)=>n(i,u,r)):eo.y,uh(1),t?no(e):eu(()=>new Ya))}function lh(n){return(0,wr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Gt="primary",_s=Symbol("RouteTitle");class cl{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function vi(n){return new cl(n)}function Dc(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let u=0;u<r.length;u++){const c=r[u],p=n[u];if(c.startsWith(":"))i[c.substring(1)]=p;else if(c!==p.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Pi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let u=0;u<t.length;u++)if(i=t[u],!Ac(n[i],e[i]))return!1;return!0}function Ac(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,u)=>r[u]===i)}return n===e}function Ki(n){return Array.prototype.concat.apply([],n)}function tp(n){return n.length>0?n[n.length-1]:null}function T(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function M(n){return(0,s.CqO)(n)?n:(0,s.QGY)(n)?(0,Xt.D)(Promise.resolve(n)):Qe(n)}const P=!1,W={exact:function at(n,e,t){if(!qr(n.segments,e.segments)||!Sn(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!at(n.children[r],e.children[r],t))return!1;return!0},subset:Ot},ce={exact:function He(n,e){return Pi(n,e)},subset:function ft(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Ac(n[t],e[t]))},ignored:()=>!0};function $e(n,e,t){return W[t.paths](n.root,e.root,t.matrixParams)&&ce[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Ot(n,e,t){return ni(n,e,e.segments,t)}function ni(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!qr(i,t)||e.hasChildren()||!Sn(i,t,r))}if(n.segments.length===t.length){if(!qr(n.segments,t)||!Sn(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!Ot(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(qr(n.segments,i)&&Sn(n.segments,i,r)&&n.children[Gt])&&ni(n.children[Gt],e,u,r)}}function Sn(n,e,t){return e.every((r,i)=>ce[t](n[i].parameters,r.parameters))}class yn{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=vi(this.queryParams)),this._queryParamMap}toString(){return fw.serialize(this)}}class Ut{constructor(e,t){this.segments=e,this.children=t,this.parent=null,T(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return tu(this)}}class Oi{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=vi(this.parameters)),this._parameterMap}toString(){return hl(this)}}function qr(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let ch=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return new dh},providedIn:"root"}),n})();class dh{parse(e){const t=new Rm(e);return new yn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${dl(e.root,!0)}`,r=function Nm(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${nu(t)}=${nu(i)}`).join("&"):`${nu(t)}=${nu(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function hh(n){return encodeURI(n)}(e.fragment)}`:""}`}}const fw=new dh;function tu(n){return n.segments.map(e=>hl(e)).join("/")}function dl(n,e){if(!n.hasChildren())return tu(n);if(e){const t=n.children[Gt]?dl(n.children[Gt],!1):"",r=[];return T(n.children,(i,u)=>{u!==Gt&&r.push(`${u}:${dl(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Sc(n,e){let t=[];return T(n.children,(r,i)=>{i===Gt&&(t=t.concat(e(r,i)))}),T(n.children,(r,i)=>{i!==Gt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Gt?[dl(n.children[Gt],!1)]:[`${i}:${dl(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Gt]?`${tu(n)}/${t[0]}`:`${tu(n)}/(${t.join("//")})`}}function Mc(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function nu(n){return Mc(n).replace(/%3B/gi,";")}function np(n){return Mc(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function xc(n){return decodeURIComponent(n)}function xm(n){return xc(n.replace(/\+/g,"%20"))}function hl(n){return`${np(n.path)}${function Hy(n){return Object.keys(n).map(e=>`;${np(e)}=${np(n[e])}`).join("")}(n.parameters)}`}const rp=/^[^\/()?;=#]+/;function Nc(n){const e=n.match(rp);return e?e[0]:""}const _a=/^[^=?&#]+/,fl=/^[^&#]+/;class Rm{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ut([],{}):new Ut([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Gt]=new Ut(e,t)),r}parseSegment(){const e=Nc(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new s.vHH(4009,P);return this.capture(e),new Oi(xc(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Nc(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Nc(this.remaining);i&&(r=i,this.capture(r))}e[xc(t)]=xc(r)}parseQueryParam(e){const t=function pw(n){const e=n.match(_a);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function Rc(n){const e=n.match(fl);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=xm(t),u=xm(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(u)}else e[i]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Nc(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new s.vHH(4010,P);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=Gt);const c=this.parseChildren();t[u]=1===Object.keys(c).length?c[Gt]:new Ut([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new s.vHH(4011,P)}}function Pc(n){return n.segments.length>0?new Ut([],{[Gt]:n}):n}function pl(n){const e={};for(const r of Object.keys(n.children)){const u=pl(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function Zy(n){if(1===n.numberOfChildren&&n.children[Gt]){const e=n.children[Gt];return new Ut(n.segments.concat(e.segments),e.children)}return n}(new Ut(n.segments,e))}function Fo(n){return n instanceof yn}function Pm(n,e,t,r,i){if(0===t.length)return ya(e.root,e.root,e.root,r,i);const u=function ap(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new fh(!0,0,n);let e=0,t=!1;const r=n.reduce((i,u,c)=>{if("object"==typeof u&&null!=u){if(u.outlets){const p={};return T(u.outlets,(_,E)=>{p[E]="string"==typeof _?_.split("/"):_}),[...i,{outlets:p}]}if(u.segmentPath)return[...i,u.segmentPath]}return"string"!=typeof u?[...i,u]:0===c?(u.split("/").forEach((p,_)=>{0==_&&"."===p||(0==_&&""===p?t=!0:".."===p?e++:""!=p&&i.push(p))}),i):[...i,u]},[]);return new fh(t,e,r)}(t);return u.toRoot()?ya(e.root,e.root,new Ut([],{}),r,i):function c(_){const E=function ph(n,e,t,r){if(n.isAbsolute)return new iu(e.root,!0,0);if(-1===r)return new iu(t,t===e.root,0);return function up(n,e,t){let r=n,i=e,u=t;for(;u>i;){if(u-=i,r=r.parent,!r)throw new s.vHH(4005,!1);i=r.segments.length}return new iu(r,!1,i-u)}(t,r+(ru(n.commands[0])?0:1),n.numberOfDoubleDots)}(u,e,n.snapshot?._urlSegment,_),A=E.processChildren?va(E.segmentGroup,E.index,u.commands):Oc(E.segmentGroup,E.index,u.commands);return ya(e.root,E.segmentGroup,A,r,i)}(n.snapshot?._lastPathIndex)}function ru(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function gl(n){return"object"==typeof n&&null!=n&&n.outlets}function ya(n,e,t,r,i){let c,u={};r&&T(r,(_,E)=>{u[E]=Array.isArray(_)?_.map(A=>`${A}`):`${_}`}),c=n===e?t:op(n,e,t);const p=Pc(pl(c));return new yn(p,u,i)}function op(n,e,t){const r={};return T(n.children,(i,u)=>{r[u]=i===e?t:op(i,e,t)}),new Ut(n.segments,r)}class fh{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&ru(r[0]))throw new s.vHH(4003,!1);const i=r.find(gl);if(i&&i!==tp(r))throw new s.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class iu{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Oc(n,e,t){if(n||(n=new Ut([],{})),0===n.segments.length&&n.hasChildren())return va(n,e,t);const r=function Gy(n,e,t){let r=0,i=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return u;const c=n.segments[i],p=t[r];if(gl(p))break;const _=`${p}`,E=r<t.length-1?t[r+1]:null;if(i>0&&void 0===_)break;if(_&&E&&"object"==typeof E&&void 0===E.outlets){if(!mh(_,E,c))return u;r+=2}else{if(!mh(_,{},c))return u;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new Ut(n.segments.slice(0,r.pathIndex),{});return u.children[Gt]=new Ut(n.segments.slice(r.pathIndex),n.children),va(u,0,i)}return r.match&&0===i.length?new Ut(n.segments,{}):r.match&&!n.hasChildren()?gh(n,e,t):r.match?va(n,0,i):gh(n,e,t)}function va(n,e,t){if(0===t.length)return new Ut(n.segments,{});{const r=function $y(n){return gl(n[0])?n[0].outlets:{[Gt]:n}}(t),i={};return T(r,(u,c)=>{"string"==typeof u&&(u=[u]),null!==u&&(i[c]=Oc(n.children[c],e,u))}),T(n.children,(u,c)=>{void 0===r[c]&&(i[c]=u)}),new Ut(n.segments,i)}}function gh(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const u=t[i];if(gl(u)){const _=lp(u.outlets);return new Ut(r,_)}if(0===i&&ru(t[0])){r.push(new Oi(n.segments[e].path,cp(t[0]))),i++;continue}const c=gl(u)?u.outlets[Gt]:`${u}`,p=i<t.length-1?t[i+1]:null;c&&p&&ru(p)?(r.push(new Oi(c,cp(p))),i+=2):(r.push(new Oi(c,{})),i++)}return new Ut(r,{})}function lp(n){const e={};return T(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=gh(new Ut([],{}),0,t))}),e}function cp(n){const e={};return T(n,(t,r)=>e[r]=`${t}`),e}function mh(n,e,t){return n==t.path&&Pi(e,t.parameters)}class io{constructor(e,t){this.id=e,this.url=t}}class ml extends io{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ki extends io{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class kc extends io{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Fc extends io{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class dp extends io{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hp extends io{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Lc extends io{constructor(e,t,r,i,u){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class zy extends io{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fp extends io{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pp{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class gp{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class mp{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _p{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _l{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yp{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pr{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class vp{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Om(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Om(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Vc(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Vc(e,this._root).map(t=>t.value)}}function Om(n,e){if(n===e.value)return e;for(const t of e.children){const r=Om(n,t);if(r)return r}return null}function Vc(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Vc(n,t);if(r.length)return r.unshift(e),r}return[]}class Ji{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function yl(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class _h extends vp{constructor(e,t){super(e),this.snapshot=t,ri(this,e)}toString(){return this.snapshot.toString()}}function Bc(n,e){const t=function so(n,e){const c=new jc([],{},{},"",{},Gt,e,null,n.root,-1,{});return new wp("",new Ji(c,[]))}(n,e),r=new Tn([new Oi("",{})]),i=new Tn({}),u=new Tn({}),c=new Tn({}),p=new Tn(""),_=new vn(r,i,c,p,u,Gt,e,t.root);return _.snapshot=t.root,new _h(new Ji(_,[]),t)}class vn{constructor(e,t,r,i,u,c,p,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=c,this.component=p,this.title=this.data?.pipe((0,At.U)(E=>E[_s]))??Qe(void 0),this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,At.U)(e=>vi(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,At.U)(e=>vi(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Cp(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],u=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(u.component)break;r--}}return function km(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class jc{constructor(e,t,r,i,u,c,p,_,E,A,x,L){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=c,this.component=p,this.title=this.data?.[_s],this.routeConfig=_,this._urlSegment=E,this._lastPathIndex=A,this._correctedLastPathIndex=L??A,this._resolve=x}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=vi(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=vi(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class wp extends vp{constructor(e,t){super(t),this.url=e,ri(this,t)}toString(){return yh(this._root)}}function ri(n,e){e.value._routerState=n,e.children.forEach(t=>ri(n,t))}function yh(n){const e=n.children.length>0?` { ${n.children.map(yh).join(", ")} } `:"";return`${n.value}${e}`}function Hc(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Pi(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Pi(e.params,t.params)||n.params.next(t.params),function ep(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Pi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Pi(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function bp(n,e){const t=Pi(n.params,e.params)&&function Yi(n,e){return qr(n,e)&&n.every((t,r)=>Pi(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||bp(n.parent,e.parent))}function Qi(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Fm(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Qi(n,r,i);return Qi(n,r)})}(n,e,t);return new Ji(r,i)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const c=u.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(p=>Qi(n,p)),c}}const r=function Wy(n){return new vn(new Tn(n.url),new Tn(n.params),new Tn(n.queryParams),new Tn(n.fragment),new Tn(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(u=>Qi(n,u));return new Ji(r,i)}}const Lm="ngNavigationCancelingError";function Ep(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Fo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Ky(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function Ky(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Lm]=!0,r.cancellationCode=e,t&&(r.url=t),r}function Yy(n){return Tp(n)&&Fo(n.url)}function Tp(n){return n&&n[Lm]}class Jy{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new y,this.attachRef=null}}let y=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Jy,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const f=!1;let g=(()=>{class n{constructor(t,r,i,u,c){this.parentContexts=t,this.location=r,this.changeDetector=u,this.environmentInjector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.attachEvents=new s.vpe,this.detachEvents=new s.vpe,this.name=i||Gt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new s.vHH(4012,f);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new s.vHH(4012,f);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new s.vHH(4012,f);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new s.vHH(4013,f);this._activatedRoute=t;const i=this.location,c=t._futureSnapshot.component,p=this.parentContexts.getOrCreateContext(this.name).children,_=new C(t,p,i.injector);if(r&&function D(n){return!!n.resolveComponentFactory}(r)){const E=r.resolveComponentFactory(c);this.activated=i.createComponent(E,i.length,_)}else this.activated=i.createComponent(c,{index:i.length,injector:_,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(y),s.Y36(s.s_b),s.$8M("name"),s.Y36(s.sBO),s.Y36(s.lqb))},n.\u0275dir=s.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class C{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===vn?this.route:e===y?this.childContexts:this.parent.get(e,t)}}let N=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[s.jDz],decls:1,vars:0,template:function(t,r){1&t&&s._UZ(0,"router-outlet")},dependencies:[g],encapsulation:2}),n})();function B(n,e){return n.providers&&!n._injector&&(n._injector=(0,s.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Dp(n){const e=n.children&&n.children.map(Dp),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Gt&&(t.component=N),t}function Ci(n){return n.outlet||Gt}function Ap(n,e){const t=n.filter(r=>Ci(r)===e);return t.push(...n.filter(r=>Ci(r)!==e)),t}function vl(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Um{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Hc(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=yl(t);e.children.forEach(u=>{const c=u.value.outlet;this.deactivateRoutes(u,i[c],r),delete i[c]}),T(i,(u,c)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(i===u)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=yl(e);for(const c of Object.keys(u))this.deactivateRouteAndItsChildren(u[c],i);if(r&&r.outlet){const c=r.outlet.detach(),p=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:p})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=yl(e);for(const c of Object.keys(u))this.deactivateRouteAndItsChildren(u[c],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=yl(t);e.children.forEach(u=>{this.activateRoutes(u,i[u.value.outlet],r),this.forwardEvent(new yp(u.value.snapshot))}),e.children.length&&this.forwardEvent(new _p(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(Hc(i),i===u)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const p=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(p.contexts),c.attachRef=p.componentRef,c.route=p.route.value,c.outlet&&c.outlet.attach(p.componentRef,p.route.value),Hc(p.route.value),this.activateChildRoutes(e,null,c.children)}else{const p=vl(i.snapshot),_=p?.get(s._Vd)??null;c.attachRef=null,c.route=i,c.resolver=_,c.injector=p,c.outlet&&c.outlet.activateWith(i,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class vh{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Uo{constructor(e,t){this.component=e,this.route=t}}function Vm(n,e,t){const r=n._root;return Bn(r,e?e._root:null,t,[r.value])}function Ca(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,s.Z0I)(n)?e.get(n):n:r}function Bn(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=yl(e);return n.children.forEach(c=>{(function hI(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,c=e?e.value:null,p=t?t.getContext(n.value.outlet):null;if(c&&u.routeConfig===c.routeConfig){const _=function fI(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!qr(n.url,e.url);case"pathParamsOrQueryParamsChange":return!qr(n.url,e.url)||!Pi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!bp(n,e)||!Pi(n.queryParams,e.queryParams);default:return!bp(n,e)}}(c,u,u.routeConfig.runGuardsAndResolvers);_?i.canActivateChecks.push(new vh(r)):(u.data=c.data,u._resolvedData=c._resolvedData),Bn(n,e,u.component?p?p.children:null:t,r,i),_&&p&&p.outlet&&p.outlet.isActivated&&i.canDeactivateChecks.push(new Uo(p.outlet.component,c))}else c&&Zc(e,p,i),i.canActivateChecks.push(new vh(r)),Bn(n,null,u.component?p?p.children:null:t,r,i)})(c,u[c.value.outlet],t,r.concat([c.value]),i),delete u[c.value.outlet]}),T(u,(c,p)=>Zc(c,t.getContext(p),i)),i}function Zc(n,e,t){const r=yl(n),i=n.value;T(r,(u,c)=>{Zc(u,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new Uo(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Ch(n){return"function"==typeof n}function Np(n){return n instanceof Ya||"EmptyError"===n?.name}const Rp=Symbol("INITIAL_VALUE");function qc(){return Qn(n=>al(n.map(e=>e.pipe(to(1),Oo(Rp)))).pipe((0,At.U)(e=>{for(const t of e)if(!0!==t){if(t===Rp)return Rp;if(!1===t||t instanceof yn)return t}return!0}),br(e=>e!==Rp),to(1)))}function ev(n){return(0,Qf.z)((0,fr.b)(e=>{if(Fo(e))throw Ep(0,e)}),(0,At.U)(e=>!0===e))}const tv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Bm(n,e,t,r,i){const u=wh(n,e,t);return u.matched?function $c(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?Qe(i.map(c=>{const p=Ca(c,n);return M(function XM(n){return n&&Ch(n.canMatch)}(p)?p.canMatch(e,t):n.runInContext(()=>p(e,t)))})).pipe(qc(),ev()):Qe(!0)}(r=B(e,r),e,t).pipe((0,At.U)(c=>!0===c?u:{...tv})):Qe(u)}function wh(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...tv}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Dc)(t,n,e);if(!i)return{...tv};const u={};T(i.posParams,(p,_)=>{u[_]=p.path});const c=i.consumed.length>0?{...u,...i.consumed[i.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:c,positionalParamSegments:i.posParams??{}}}function jm(n,e,t,r,i="corrected"){if(t.length>0&&function Gc(n,e,t){return t.some(r=>bh(n,e,r)&&Ci(r)!==Gt)}(n,t,r)){const c=new Ut(e,function Hm(n,e,t,r){const i={};i[Gt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&Ci(u)!==Gt){const c=new Ut([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[Ci(u)]=c}return i}(n,e,r,new Ut(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function Cw(n,e,t){return t.some(r=>bh(n,e,r))}(n,t,r)){const c=new Ut(n.segments,function nv(n,e,t,r,i,u){const c={};for(const p of r)if(bh(n,t,p)&&!i[Ci(p)]){const _=new Ut([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===u?n.segments.length:e.length,c[Ci(p)]=_}return{...i,...c}}(n,e,t,r,n.children,i));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const u=new Ut(n.segments,n.children);return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}function bh(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function ww(n,e,t,r){return!!(Ci(n)===r||r!==Gt&&bh(e,t,n))&&("**"===n.path||wh(e,n,t).matched)}function bw(n,e,t){return 0===e.length&&!n.children[t]}const Pp=!1;class su{constructor(e){this.segmentGroup=e||null}}class Ew{constructor(e){this.urlTree=e}}function Op(n){return Fs(new su(n))}function Tw(n){return Fs(new Ew(n))}class Iw{constructor(e,t,r,i,u){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=u,this.allowRedirects=!0}apply(){const e=jm(this.urlTree.root,[],[],this.config).segmentGroup,t=new Ut(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Gt).pipe((0,At.U)(u=>this.createUrlTree(pl(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ro(u=>{if(u instanceof Ew)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof su?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Gt).pipe((0,At.U)(i=>this.createUrlTree(pl(i),e.queryParams,e.fragment))).pipe(ro(i=>{throw i instanceof su?this.noMatchError(i):i}))}noMatchError(e){return new s.vHH(4002,Pp)}createUrlTree(e,t,r){const i=Pc(e);return new yn(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,At.U)(u=>new Ut([],u))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const u of Object.keys(r.children))"primary"===u?i.unshift(u):i.push(u);return(0,Xt.D)(i).pipe(ms(u=>{const c=r.children[u],p=Ap(t,u);return this.expandSegmentGroup(e,p,c,u).pipe((0,At.U)(_=>({segment:_,outlet:u})))}),Ic((u,c)=>(u[c.outlet]=c.segment,u),{}),ll())}expandSegment(e,t,r,i,u,c){return(0,Xt.D)(r).pipe(ms(p=>this.expandSegmentAgainstRoute(e,t,r,p,i,u,c).pipe(ro(E=>{if(E instanceof su)return Qe(null);throw E}))),yi(p=>!!p),ro((p,_)=>{if(Np(p))return bw(t,i,u)?Qe(new Ut([],{})):Op(t);throw p}))}expandSegmentAgainstRoute(e,t,r,i,u,c,p){return ww(i,t,u,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,u,c):p&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c):Op(t):Op(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Tw(u):this.lineralizeSegments(r,u).pipe((0,rr.z)(c=>{const p=new Ut(c,{});return this.expandSegment(e,p,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c){const{matched:p,consumedSegments:_,remainingSegments:E,positionalParamSegments:A}=wh(t,i,u);if(!p)return Op(t);const x=this.applyRedirectCommands(_,i.redirectTo,A);return i.redirectTo.startsWith("/")?Tw(x):this.lineralizeSegments(i,x).pipe((0,rr.z)(L=>this.expandSegment(e,t,r,L.concat(E),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,u){return"**"===r.path?(e=B(r,e),r.loadChildren?(r._loadedRoutes?Qe({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,At.U)(p=>(r._loadedRoutes=p.routes,r._loadedInjector=p.injector,new Ut(i,{})))):Qe(new Ut(i,{}))):Bm(t,r,i,e).pipe(Qn(({matched:c,consumedSegments:p,remainingSegments:_})=>c?this.getChildConfig(e=r._injector??e,r,i).pipe((0,rr.z)(A=>{const x=A.injector??e,L=A.routes,{segmentGroup:j,slicedSegments:Q}=jm(t,p,_,L),De=new Ut(j.segments,j.children);if(0===Q.length&&De.hasChildren())return this.expandChildren(x,L,De).pipe((0,At.U)(Xe=>new Ut(p,Xe)));if(0===L.length&&0===Q.length)return Qe(new Ut(p,{}));const _e=Ci(r)===u;return this.expandSegment(x,De,L,Q,_e?Gt:u,!0).pipe((0,At.U)(dt=>new Ut(p.concat(dt.segments),dt.children)))})):Op(t)))}getChildConfig(e,t,r){return t.children?Qe({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Qe({routes:t._loadedRoutes,injector:t._loadedInjector}):function vw(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?Qe(!0):Qe(i.map(c=>{const p=Ca(c,n);return M(function gI(n){return n&&Ch(n.canLoad)}(p)?p.canLoad(e,t):n.runInContext(()=>p(e,t)))})).pipe(qc(),ev())}(e,t,r).pipe((0,rr.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,fr.b)(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function rv(n){return Fs(Ky(Pp,3))}())):Qe({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Qe(r);if(i.numberOfChildren>1||!i.children[Gt])return Fs(new s.vHH(4e3,Pp));i=i.children[Gt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const u=this.createSegmentGroup(e,t.root,r,i);return new yn(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return T(e,(i,u)=>{if("string"==typeof i&&i.startsWith(":")){const p=i.substring(1);r[u]=t[p]}else r[u]=i}),r}createSegmentGroup(e,t,r,i){const u=this.createSegments(e,t.segments,r,i);let c={};return T(t.children,(p,_)=>{c[_]=this.createSegmentGroup(e,p,r,i)}),new Ut(u,c)}createSegments(e,t,r,i){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,i):this.findOrReturn(u,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new s.vHH(4001,Pp);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class t1{}class II{constructor(e,t,r,i,u,c,p,_){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=u,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=p,this.urlSerializer=_}recognize(){const e=jm(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Gt).pipe((0,At.U)(t=>{if(null===t)return null;const r=new jc([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Gt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Ji(r,t),u=new wp(this.url,i);return this.inheritParamsAndData(u._root),u}))}inheritParamsAndData(e){const t=e.value,r=Cp(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,Xt.D)(Object.keys(r.children)).pipe(ms(i=>{const u=r.children[i],c=Ap(t,i);return this.processSegmentGroup(e,c,u,i)}),Ic((i,u)=>i&&u?(i.push(...u),i):null),function ko(n,e=!1){return(0,wr.e)((t,r)=>{let i=0;t.subscribe((0,hr.x)(r,u=>{const c=n(u,i++);(c||e)&&r.next(u),!c&&r.complete()}))})}(i=>null!==i),no(null),ll(),(0,At.U)(i=>{if(null===i)return null;const u=AI(i);return function Eh(n){n.sort((e,t)=>e.value.outlet===Gt?-1:t.value.outlet===Gt?1:e.value.outlet.localeCompare(t.value.outlet))}(u),u}))}processSegment(e,t,r,i,u){return(0,Xt.D)(t).pipe(ms(c=>this.processSegmentAgainstRoute(c._injector??e,c,r,i,u)),yi(c=>!!c),ro(c=>{if(Np(c))return bw(r,i,u)?Qe([]):Qe(null);throw c}))}processSegmentAgainstRoute(e,t,r,i,u){if(t.redirectTo||!ww(t,r,i,u))return Qe(null);let c;if("**"===t.path){const p=i.length>0?tp(i).parameters:{},_=Sw(r)+i.length;c=Qe({snapshot:new jc(i,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,iv(t),Ci(t),t.component??t._loadedComponent??null,t,Aw(r),_,sv(t),_),consumedSegments:[],remainingSegments:[]})}else c=Bm(r,t,i,e).pipe((0,At.U)(({matched:p,consumedSegments:_,remainingSegments:E,parameters:A})=>{if(!p)return null;const x=Sw(r)+_.length;return{snapshot:new jc(_,A,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,iv(t),Ci(t),t.component??t._loadedComponent??null,t,Aw(r),x,sv(t),x),consumedSegments:_,remainingSegments:E}}));return c.pipe(Qn(p=>{if(null===p)return Qe(null);const{snapshot:_,consumedSegments:E,remainingSegments:A}=p;e=t._injector??e;const x=t._loadedInjector??e,L=function Lp(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:j,slicedSegments:Q}=jm(r,E,A,L.filter(_e=>void 0===_e.redirectTo),this.relativeLinkResolution);if(0===Q.length&&j.hasChildren())return this.processChildren(x,L,j).pipe((0,At.U)(_e=>null===_e?null:[new Ji(_,_e)]));if(0===L.length&&0===Q.length)return Qe([new Ji(_,[])]);const De=Ci(t)===u;return this.processSegment(x,L,j,Q,De?Gt:u).pipe((0,At.U)(_e=>null===_e?null:[new Ji(_,_e)]))}))}}function DI(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function AI(n){const e=[],t=new Set;for(const r of n){if(!DI(r)){e.push(r);continue}const i=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=AI(r.children);e.push(new Ji(r.value,i))}return e.filter(r=>!t.has(r))}function Aw(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Sw(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function iv(n){return n.data||{}}function sv(n){return n.resolve||{}}function xw(n){return"string"==typeof n.title||null===n.title}function lv(n){return Qn(e=>{const t=n(e);return t?(0,Xt.D)(t).pipe((0,At.U)(()=>e)):Qe(e)})}let Nw=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(u=>u.outlet===Gt);return r}getResolvedTitleForRoute(t){return t.data[_s]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(Rw)},providedIn:"root"}),n})(),Rw=(()=>{class n extends Nw{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Wf))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class xI{}class ou extends class Th{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Zm=new s.OlP("",{providedIn:"root",factory:()=>({})}),Pw=new s.OlP("ROUTES");let qm=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Qe(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=M(t.loadComponent()).pipe((0,fr.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),lh(()=>{this.componentLoaders.delete(t)})),i=new Ec(r,()=>new Cr.x).pipe(ah());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Qe({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,At.U)(p=>{this.onLoadEndListener&&this.onLoadEndListener(r);let _,E,A=!1;Array.isArray(p)?E=p:(_=p.create(t).injector,E=Ki(_.get(Pw,[],s.XFs.Self|s.XFs.Optional)));return{routes:E.map(Dp),injector:_}}),lh(()=>{this.childrenLoaders.delete(r)})),c=new Ec(u,()=>new Cr.x).pipe(ah());return this.childrenLoaders.set(r,c),c}loadModuleFactoryOrRoutes(t){return M(t()).pipe((0,rr.z)(r=>r instanceof s.YKP||Array.isArray(r)?Qe(r):(0,Xt.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(s.zs3),s.LFG(s.Sil))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class r1{}class Ow{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function kw(n){throw n}function PI(n,e,t){return e.parse("/")}const Fw={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},OI={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function oo(){const n=(0,s.f3M)(ch),e=(0,s.f3M)(y),t=(0,s.f3M)(ke),r=(0,s.f3M)(s.zs3),i=(0,s.f3M)(s.Sil),u=(0,s.f3M)(Pw,{optional:!0})??[],c=(0,s.f3M)(Zm,{optional:!0})??{},p=(0,s.f3M)(Rw),_=(0,s.f3M)(Nw,{optional:!0}),E=(0,s.f3M)(r1,{optional:!0}),A=(0,s.f3M)(xI,{optional:!0}),x=new Bt(null,n,e,t,r,i,Ki(u));return E&&(x.urlHandlingStrategy=E),A&&(x.routeReuseStrategy=A),x.titleStrategy=_??p,function kI(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,x),x}let Bt=(()=>{class n{constructor(t,r,i,u,c,p,_){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=u,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Cr.x,this.errorHandler=kw,this.malformedUriErrorHandler=PI,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Qe(void 0),this.urlHandlingStrategy=new Ow,this.routeReuseStrategy=new ou,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=c.get(qm),this.configLoader.onLoadEndListener=L=>this.triggerEvent(new gp(L)),this.configLoader.onLoadStartListener=L=>this.triggerEvent(new pp(L)),this.ngModule=c.get(s.h0i),this.console=c.get(s.c2e);const x=c.get(s.R0b);this.isNgZoneEnabled=x instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function q(){return new yn(new Ut([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Bc(this.currentUrlTree,this.rootComponentType),this.transitions=new Tn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(br(i=>0!==i.id),(0,At.U)(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Qn(i=>{let u=!1,c=!1;return Qe(i).pipe((0,fr.b)(p=>{this.currentNavigation={id:p.id,initialUrl:p.rawUrl,extractedUrl:p.extractedUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Qn(p=>{const _=this.browserUrlTree.toString(),E=!this.navigated||p.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||E)&&this.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return Uw(p.source)&&(this.browserUrlTree=p.extractedUrl),Qe(p).pipe(Qn(x=>{const L=this.transitions.getValue();return r.next(new ml(x.id,this.serializeUrl(x.extractedUrl),x.source,x.restoredState)),L!==this.transitions.getValue()?Po.E:Promise.resolve(x)}),function EI(n,e,t,r){return Qn(i=>function bI(n,e,t,r,i){return new Iw(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,At.U)(u=>({...i,urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,fr.b)(x=>{this.currentNavigation={...this.currentNavigation,finalUrl:x.urlAfterRedirects},i.urlAfterRedirects=x.urlAfterRedirects}),function ov(n,e,t,r,i,u){return(0,rr.z)(c=>function Fp(n,e,t,r,i,u,c="emptyOnly",p="legacy"){return new II(n,e,t,r,i,c,p,u).recognize().pipe(Qn(_=>null===_?function TI(n){return new ti.y(e=>e.error(n))}(new t1):Qe(_)))}(n,e,t,c.urlAfterRedirects,r.serialize(c.urlAfterRedirects),r,i,u).pipe((0,At.U)(p=>({...c,targetSnapshot:p}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,fr.b)(x=>{if(i.targetSnapshot=x.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!x.extras.skipLocationChange){const j=this.urlHandlingStrategy.merge(x.urlAfterRedirects,x.rawUrl);this.setBrowserUrl(j,x)}this.browserUrlTree=x.urlAfterRedirects}const L=new dp(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);r.next(L)}));if(E&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:L,extractedUrl:j,source:Q,restoredState:De,extras:_e}=p,ze=new ml(L,this.serializeUrl(j),Q,De);r.next(ze);const dt=Bc(j,this.rootComponentType).snapshot;return Qe(i={...p,targetSnapshot:dt,urlAfterRedirects:j,extras:{..._e,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=p.rawUrl,p.resolve(null),Po.E}),(0,fr.b)(p=>{const _=new hp(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(_)}),(0,At.U)(p=>i={...p,guards:Vm(p.targetSnapshot,p.currentSnapshot,this.rootContexts)}),function mw(n,e){return(0,rr.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:u,canDeactivateChecks:c}}=t;return 0===c.length&&0===u.length?Qe({...t,guardsResult:!0}):function vI(n,e,t,r){return(0,Xt.D)(n).pipe((0,rr.z)(i=>function Xy(n,e,t,r,i){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?Qe(u.map(p=>{const _=vl(e)??i,E=Ca(p,_);return M(function yI(n){return n&&Ch(n.canDeactivate)}(E)?E.canDeactivate(n,e,t,r):_.runInContext(()=>E(n,e,t,r))).pipe(yi())})).pipe(qc()):Qe(!0)}(i.component,i.route,t,e,r)),yi(i=>!0!==i,!0))}(c,r,i,n).pipe((0,rr.z)(p=>p&&function pI(n){return"boolean"==typeof n}(p)?function _w(n,e,t,r){return(0,Xt.D)(e).pipe(ms(i=>ma(function Qy(n,e){return null!==n&&e&&e(new mp(n)),Qe(!0)}(i.route.parent,r),function yw(n,e){return null!==n&&e&&e(new _l(n)),Qe(!0)}(i.route,r),function CI(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(c=>function Mp(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>wc(()=>Qe(c.guards.map(_=>{const E=vl(c.node)??t,A=Ca(_,E);return M(function _I(n){return n&&Ch(n.canActivateChild)}(A)?A.canActivateChild(r,n):E.runInContext(()=>A(r,n))).pipe(yi())})).pipe(qc())));return Qe(u).pipe(qc())}(n,i.path,t),function e1(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Qe(!0);const i=r.map(u=>wc(()=>{const c=vl(e)??t,p=Ca(u,c);return M(function mI(n){return n&&Ch(n.canActivate)}(p)?p.canActivate(e,n):c.runInContext(()=>p(e,n))).pipe(yi())}));return Qe(i).pipe(qc())}(n,i.route,t))),yi(i=>!0!==i,!0))}(r,u,n,e):Qe(p)),(0,At.U)(p=>({...t,guardsResult:p})))})}(this.ngModule.injector,p=>this.triggerEvent(p)),(0,fr.b)(p=>{if(i.guardsResult=p.guardsResult,Fo(p.guardsResult))throw Ep(0,p.guardsResult);const _=new Lc(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.triggerEvent(_)}),br(p=>!!p.guardsResult||(this.restoreHistory(p),this.cancelNavigationTransition(p,"",3),!1)),lv(p=>{if(p.guards.canActivateChecks.length)return Qe(p).pipe((0,fr.b)(_=>{const E=new zy(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(E)}),Qn(_=>{let E=!1;return Qe(_).pipe(function av(n,e){return(0,rr.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Qe(t);let u=0;return(0,Xt.D)(i).pipe(ms(c=>function SI(n,e,t,r){const i=n.routeConfig,u=n._resolve;return void 0!==i?.title&&!xw(i)&&(u[_s]=i.title),function uv(n,e,t,r){const i=function Up(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return Qe({});const u={};return(0,Xt.D)(i).pipe((0,rr.z)(c=>function MI(n,e,t,r){const i=vl(e)??r,u=Ca(n,i);return M(u.resolve?u.resolve(e,t):i.runInContext(()=>u(e,t)))}(n[c],e,t,r).pipe(yi(),(0,fr.b)(p=>{u[c]=p}))),uh(1),function Xf(n){return(0,At.U)(()=>n)}(u),ro(c=>Np(c)?Po.E:Fs(c)))}(u,n,e,r).pipe((0,At.U)(c=>(n._resolvedData=c,n.data=Cp(n,t).resolve,i&&xw(i)&&(n.data[_s]=i.title),null)))}(c.route,r,n,e)),(0,fr.b)(()=>u++),uh(1),(0,rr.z)(c=>u===i.length?Qe(t):Po.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,fr.b)({next:()=>E=!0,complete:()=>{E||(this.restoreHistory(_),this.cancelNavigationTransition(_,"",2))}}))}),(0,fr.b)(_=>{const E=new fp(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(E)}))}),lv(p=>{const _=E=>{const A=[];E.routeConfig?.loadComponent&&!E.routeConfig._loadedComponent&&A.push(this.configLoader.loadComponent(E.routeConfig).pipe((0,fr.b)(x=>{E.component=x}),(0,At.U)(()=>{})));for(const x of E.children)A.push(..._(x));return A};return al(_(p.targetSnapshot.root)).pipe(no(),to(1))}),lv(()=>this.afterPreactivation()),(0,At.U)(p=>{const _=function ii(n,e,t){const r=Qi(n,e._root,t?t._root:void 0);return new _h(r,e)}(this.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return i={...p,targetRouterState:_}}),(0,fr.b)(p=>{this.currentUrlTree=p.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(p.urlAfterRedirects,p.rawUrl),this.routerState=p.targetRouterState,"deferred"===this.urlUpdateStrategy&&(p.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,p),this.browserUrlTree=p.urlAfterRedirects)}),((n,e,t)=>(0,At.U)(r=>(new Um(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,p=>this.triggerEvent(p)),(0,fr.b)({next(){u=!0},complete(){u=!0}}),lh(()=>{u||c||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),ro(p=>{if(c=!0,Tp(p)){Yy(p)||(this.navigated=!0,this.restoreHistory(i,!0));const _=new kc(i.id,this.serializeUrl(i.extractedUrl),p.message,p.cancellationCode);if(r.next(_),Yy(p)){const E=this.urlHandlingStrategy.merge(p.url,this.rawUrlTree),A={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Uw(i.source)};this.scheduleNavigation(E,"imperative",null,A,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const _=new Fc(i.id,this.serializeUrl(i.extractedUrl),p,i.targetSnapshot??void 0);r.next(_);try{i.resolve(this.errorHandler(p))}catch(E){i.reject(E)}}return Po.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},u=t.state?.navigationId?t.state:null;if(u){const p={...u};delete p.navigationId,delete p.\u0275routerPageId,0!==Object.keys(p).length&&(i.state=p)}const c=this.parseUrl(t.url);this.scheduleNavigation(c,r,u,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(Dp),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:u,fragment:c,queryParamsHandling:p,preserveFragment:_}=r,E=i||this.routerState.root,A=_?this.currentUrlTree.fragment:c;let x=null;switch(p){case"merge":x={...this.currentUrlTree.queryParams,...u};break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=u||null}return null!==x&&(x=this.removeEmptyProps(x)),Pm(E,this.currentUrlTree,t,x,A??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Fo(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function Lw(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new s.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...Fw}:!1===r?{...OI}:r,Fo(t))return $e(this.currentUrlTree,t,i);const u=this.parseUrl(t);return $e(this.currentUrlTree,u,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const u=t[i];return null!=u&&(r[i]=u),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new ki(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,u,c){if(this.disposed)return Promise.resolve(!1);let p,_,E;c?(p=c.resolve,_=c.reject,E=c.promise):E=new Promise((L,j)=>{p=L,_=j});const A=++this.navigationId;let x;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),x=i&&i.\u0275routerPageId?i.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):x=0,this.setTransition({id:A,targetPageId:x,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:u,resolve:p,reject:_,promise:E,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),E.catch(L=>Promise.reject(L))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),u={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",u):this.location.go(i,"",u)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const u=new kc(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(u),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:function(){return oo()},providedIn:"root"}),n})();function Uw(n){return"imperative"!==n}class Bw{}let Ht=(()=>{class n{constructor(t,r,i,u,c){this.router=t,this.injector=i,this.preloadingStrategy=u,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(br(t=>t instanceof ki),ms(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,s.MMx)(u.providers,t,`Route: ${u.path}`));const c=u._injector??t,p=u._loadedInjector??c;u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent?i.push(this.preloadConfig(c,u)):(u.children||u._loadedRoutes)&&i.push(this.processRoutes(p,u.children??u._loadedRoutes))}return(0,Xt.D)(i).pipe((0,Xa.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):Qe(null);const u=i.pipe((0,rr.z)(c=>null===c?Qe(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(r.loadComponent&&!r._loadedComponent){const c=this.loader.loadComponent(r);return(0,Xt.D)([u,c]).pipe((0,Xa.J)())}return u})}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Bt),s.LFG(s.Sil),s.LFG(s.lqb),s.LFG(Bw),s.LFG(qm))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $m=new s.OlP("");let fv=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ml?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ki&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof pr&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new pr(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function zc(n,e){return{\u0275kind:n,\u0275providers:e}}function pv(n){return[{provide:Pw,multi:!0,useValue:n}]}function Hw(){const n=(0,s.f3M)(s.zs3);return e=>{const t=n.get(s.z2F);if(e!==t.components[0])return;const r=n.get(Bt),i=n.get(Zw);1===n.get(qw)&&r.initialNavigation(),n.get(zw,null,s.XFs.Optional)?.setUpPreloading(),n.get($m,null,s.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const Zw=new s.OlP("",{factory:()=>new Cr.x}),qw=new s.OlP("",{providedIn:"root",factory:()=>1});const zw=new s.OlP("");function gv(n){return zc(0,[{provide:zw,useExisting:Ht},{provide:Bw,useExisting:n}])}const UI=new s.OlP("ROUTER_FORROOT_GUARD"),a1=[ke,{provide:ch,useClass:dh},{provide:Bt,useFactory:oo},y,{provide:vn,useFactory:function jw(n){return n.routerState.root},deps:[Bt]},qm];function VI(){return new s.PXZ("Router",Bt)}let mv=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[a1,[],pv(t),{provide:UI,useFactory:jI,deps:[[Bt,new s.FiY,new s.tp0]]},{provide:Zm,useValue:r||{}},r?.useHash?{provide:ve,useClass:Et}:{provide:ve,useClass:mt},{provide:$m,useFactory:()=>{const n=(0,s.f3M)(Bt),e=(0,s.f3M)(Ms),t=(0,s.f3M)(Zm);return t.scrollOffset&&e.setOffset(t.scrollOffset),new fv(n,e,t)}},r?.preloadingStrategy?gv(r.preloadingStrategy).\u0275providers:[],{provide:s.PXZ,multi:!0,useFactory:VI},r?.initialNavigation?Kw(r):[],[{provide:Bp,useFactory:Hw},{provide:s.tb,multi:!0,useExisting:Bp}]]}}static forChild(t){return{ngModule:n,providers:[pv(t)]}}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(UI,8))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[N]}),n})();function jI(n){return"guarded"}function Kw(n){return["disabled"===n.initialNavigation?zc(3,[{provide:s.ip1,multi:!0,useFactory:()=>{const e=(0,s.f3M)(Bt);return()=>{e.setUpLocationChangeListener()}}},{provide:qw,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?zc(2,[{provide:qw,useValue:0},{provide:s.ip1,multi:!0,deps:[s.zs3],useFactory:e=>{const t=e.get(Z,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(u=>{const c=e.get(Bt),p=e.get(Zw);(function i(u){e.get(Bt).events.pipe(br(p=>p instanceof ki||p instanceof kc||p instanceof Fc),(0,At.U)(p=>p instanceof ki||p instanceof kc&&(0===p.code||1===p.code)&&null),br(p=>null!==p),to(1)).subscribe(()=>{u()})})(()=>{u(!0),r=!0}),c.afterPreactivation=()=>(u(!0),r||p.closed?Qe(void 0):p),c.initialNavigation()}))}}]).\u0275providers:[]]}const Bp=new s.OlP(""),ys={origin:"https://api.emailjs.com",blockHeadless:!1},_v=n=>n?"string"==typeof n?{publicKey:n}:"[object Object]"===n.toString()?n:{}:{};var fe=F(5861);class zm{constructor(e=0,t="Network Error"){this.status=e,this.text=t}}const yv=function(){var n=(0,fe.Z)(function*(e,t,r={}){const i=yield fetch(ys.origin+e,{method:"POST",headers:r,body:t}),u=yield i.text(),c=new zm(i.status,u);if(i.ok)return c;throw c});return function(t,r){return n.apply(this,arguments)}}(),jp=(n,e,t)=>{setTimeout(()=>{t.removeItem(n)},e)},Ev_send=(n,e,t,r)=>{const i=_v(r),u=i.publicKey||ys.publicKey,p={...ys.blockList,...i.blockList},_={...ys.limitRate,...i.limitRate};return(i.blockHeadless||ys.blockHeadless)&&(n=>n.webdriver||!n.languages||0===n.languages.length)(navigator)?Promise.reject(new zm(451,"Unavailable For Headless Browser")):(((n,e,t)=>{if(!n||"string"!=typeof n)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||"string"!=typeof e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t||"string"!=typeof t)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"})(u,n,e),(n=>{if(n&&"[object Object]"!==n.toString())throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"})(t),t&&((n,e)=>{if((n=>!n.list?.length||!n.watchVariable)(n))return!1;((n,e)=>{if(!Array.isArray(n))throw"The BlockList list has to be an array";if("string"!=typeof e)throw"The BlockList watchVariable has to be a string"})(n.list,n.watchVariable);const t=((n,e)=>n instanceof FormData?n.get(e):n[e])(e,n.watchVariable);return"string"==typeof t&&n.list.includes(t)})(p,t)?Promise.reject(new zm(403,"Forbidden")):((n,e,t)=>{if(!t.throttle)return!1;((n,e)=>{if("number"!=typeof n||n<0)throw"The LimitRate throttle has to be a positive number";if(e&&"string"!=typeof e)throw"The LimitRate ID has to be a string"})(t.throttle,t.id);const r=t.id||e,i=((n,e,t)=>{const r=Number(t.getItem(n)||0);return e-Date.now()+r})(r,t.throttle,n);return i>0?(jp(r,i,n),!0):(n.setItem(r,Date.now().toString()),jp(r,t.throttle,n),!1)})(localStorage,location.pathname,_)?Promise.reject(new zm(429,"Too Many Requests")):yv("/api/v1.0/email/send",JSON.stringify({lib_version:"4.1.0",user_id:u,service_id:n,template_id:e,template_params:t}),{"Content-type":"application/json"}))};var Tv=F(6451),Iv=F(5363),tb=F(6063);class c1 extends Cr.x{constructor(e=1/0,t=1/0,r=tb.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:u,_windowTime:c}=this;t||(r.push(e),!i&&r.push(u.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,u=i.slice();for(let c=0;c<u.length&&!e.closed;c+=r?1:2)e.next(u[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,u=(i?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!i){const c=t.now();let p=0;for(let _=1;_<r.length&&r[_]<=c;_+=2)p=_;p&&r.splice(0,p+1)}}}var Km=F(3099);function Hp(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,Km.B)({connector:()=>new c1(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function Ym(n,e){return(0,gs.m)(e)?Qn(()=>n,e):Qn(()=>n)}var Zp=F(9468),ir=F(2088);F(8140),F(7212),F(1617);var Wt=F(5578),Yc=F(1877);class c_{constructor(){return(0,ir.vb)("app-check")}}typeof window<"u"&&window,F(1274);const bi=new s.OlP("angularfire2.auth.use-emulator"),bl=new s.OlP("angularfire2.auth.settings"),Xp=new s.OlP("angularfire2.auth.tenant-id"),Ls=new s.OlP("angularfire2.auth.langugage-code"),h_=new s.OlP("angularfire2.auth.use-device-language"),Xc=new s.OlP("angularfire.auth.persistence"),ed=(n,e,t,r,i,u,c,p)=>(0,nr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=i,u&&_.useDeviceLanguage(),c)for(const[E,A]of Object.entries(c))_.settings[E]=A;return p&&_.setPersistence(p),_},[t,r,i,u,c,p]);let $r=(()=>{class n{constructor(t,r,i,u,c,p,_,E,A,x,L,j){const Q=new Cr.x,De=Qe(void 0).pipe((0,Iv.Q)(c.outsideAngular),Qn(()=>u.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,8463)))),(0,At.U)(()=>(0,nr.on)(t,u,r)),(0,At.U)(_e=>ed(_e,u,p,E,A,x,_,L)),Hp({bufferSize:1,refCount:!1}));if(Ou(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Qe(null);else{De.pipe(yi()).subscribe();const ze=De.pipe(Qn(gt=>gt.getRedirectResult().then(Zt=>Zt,()=>null)),ir.iC,Hp({bufferSize:1,refCount:!1})),dt=De.pipe(Qn(gt=>new ti.y(Zt=>({unsubscribe:u.runOutsideAngular(()=>gt.onAuthStateChanged(Jt=>Zt.next(Jt),Jt=>Zt.error(Jt),()=>Zt.complete()))})))),Xe=De.pipe(Qn(gt=>new ti.y(Zt=>({unsubscribe:u.runOutsideAngular(()=>gt.onIdTokenChanged(Jt=>Zt.next(Jt),Jt=>Zt.error(Jt),()=>Zt.complete()))}))));this.authState=ze.pipe(Ym(dt),(0,Zp.R)(c.outsideAngular),(0,Iv.Q)(c.insideAngular)),this.user=ze.pipe(Ym(Xe),(0,Zp.R)(c.outsideAngular),(0,Iv.Q)(c.insideAngular)),this.idToken=this.user.pipe(Qn(gt=>gt?(0,Xt.D)(gt.getIdToken()):Qe(null))),this.idTokenResult=this.user.pipe(Qn(gt=>gt?(0,Xt.D)(gt.getIdTokenResult()):Qe(null))),this.credential=(0,Tv.T)(ze,Q,this.authState.pipe(br(gt=>!gt))).pipe((0,At.U)(gt=>gt?.user?gt:null),(0,Zp.R)(c.outsideAngular),(0,Iv.Q)(c.insideAngular))}return(0,nr.pX)(this,De,u,{spy:{apply:(_e,ze,dt)=>{(_e.startsWith("signIn")||_e.startsWith("createUser"))&&dt.then(Xe=>Q.next(Xe))}}})}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(nr.Dh),s.LFG(nr.xv,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(ir.HU),s.LFG(bi,8),s.LFG(bl,8),s.LFG(Xp,8),s.LFG(Ls,8),s.LFG(h_,8),s.LFG(Xc,8),s.LFG(c_,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();var td=F(4986);function El(){return(0,wr.e)((n,e)=>{let t,r=!1;n.subscribe((0,hr.x)(e,i=>{const u=t;t=i,r&&e.next([u,i]),r=!0}))})}function Ph(n,e){return n===e}F(8463),F(6101);var Je,Ib=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},uo={},f_=f_||{},jt=Ib||self;function ng(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Oh(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Jv="closure_uid_"+(1e9*Math.random()>>>0),mD=0;function Ab(n,e,t){return n.call.apply(n.bind,arguments)}function _D(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Ei(n,e,t){return(Ei=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ab:_D).apply(null,arguments)}function kh(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Tl(){this.s=this.s,this.o=this.o}Tl.prototype.s=!1,Tl.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Db(n){Object.prototype.hasOwnProperty.call(n,Jv)&&n[Jv]||(n[Jv]=++mD)}(this)},Tl.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const rg=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function ig(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Sb(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(ng(r)){const i=n.length||0,u=r.length||0;n.length=i+u;for(let c=0;c<u;c++)n[i+c]=r[c]}else n.push(r)}}function Gr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Gr.prototype.h=function(){this.defaultPrevented=!0};var g_=function(){if(!jt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{jt.addEventListener("test",()=>{},e),jt.removeEventListener("test",()=>{},e)}catch{}return n}();function Fh(n){return/^[\s\xa0]*$/.test(n)}function sg(){var n=jt.navigator;return n&&(n=n.userAgent)?n:""}function lo(n){return-1!=sg().indexOf(n)}function m_(n){return m_[" "](n),n}m_[" "]=function(){};var t0,Qv=lo("Opera"),nd=lo("Trident")||lo("MSIE"),xb=lo("Edge"),__=xb||nd,Xv=lo("Gecko")&&!(-1!=sg().toLowerCase().indexOf("webkit")&&!lo("Edge"))&&!(lo("Trident")||lo("MSIE"))&&!lo("Edge"),Nb=-1!=sg().toLowerCase().indexOf("webkit")&&!lo("Edge");function e0(){var n=jt.document;return n?n.documentMode:void 0}e:{var n0="",r0=function(){var n=sg();return Xv?/rv:([^\);]+)(\)|;)/.exec(n):xb?/Edge\/([\d\.]+)/.exec(n):nd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Nb?/WebKit\/(\S+)/.exec(n):Qv?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(r0&&(n0=r0?r0[1]:""),nd){var og=e0();if(null!=og&&og>parseFloat(n0)){t0=String(og);break e}}t0=n0}var Rb=jt.document&&nd&&(e0()||parseInt(t0,10))||void 0;function Uh(n,e){if(Gr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Xv){e:{try{m_(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Pb[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Uh.$.h.call(this)}}var Pb={2:"touch",3:"pen",4:"mouse"};Uh.prototype.h=function(){Uh.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Vh="closure_listenable_"+(1e6*Math.random()|0),Ob=0;function kb(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++Ob,this.fa=this.ia=!1}function ag(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Fb(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Lb(n){const e={};for(const t in n)e[t]=n[t];return e}const o0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ub(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let u=0;u<o0.length;u++)t=o0[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function mr(n){this.src=n,this.g={},this.h=0}function y_(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],i=rg(r,e);(u=0<=i)&&Array.prototype.splice.call(r,i,1),u&&(ag(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function a0(n,e,t,r){for(var i=0;i<n.length;++i){var u=n[i];if(!u.fa&&u.listener==e&&u.capture==!!t&&u.la==r)return i}return-1}mr.prototype.add=function(n,e,t,r,i){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var c=a0(n,e,r,i);return-1<c?(e=n[c],t||(e.ia=!1)):((e=new kb(e,this.src,u,!!r,i)).ia=t,n.push(e)),e};var u0="closure_lm_"+(1e6*Math.random()|0),v_={};function Vb(n,e,t,r,i){if(r&&r.once)return rd(n,e,t,r,i);if(Array.isArray(e)){for(var u=0;u<e.length;u++)Vb(n,e[u],t,r,i);return null}return t=w_(t),n&&n[Vh]?n.O(e,t,Oh(r)?!!r.capture:!!r,i):l0(n,e,t,!1,r,i)}function l0(n,e,t,r,i,u){if(!e)throw Error("Invalid event type");var c=Oh(i)?!!i.capture:!!i,p=C_(n);if(p||(n[u0]=p=new mr(n)),(t=p.add(e,t,r,c,u)).proxy)return t;if(r=function Bb(){const e=vD;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)g_||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(d0(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function rd(n,e,t,r,i){if(Array.isArray(e)){for(var u=0;u<e.length;u++)rd(n,e[u],t,r,i);return null}return t=w_(t),n&&n[Vh]?n.P(e,t,Oh(r)?!!r.capture:!!r,i):l0(n,e,t,!0,r,i)}function jb(n,e,t,r,i){if(Array.isArray(e))for(var u=0;u<e.length;u++)jb(n,e[u],t,r,i);else r=Oh(r)?!!r.capture:!!r,t=w_(t),n&&n[Vh]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=a0(u=n.g[e],t,r,i))&&(ag(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=C_(n))&&(e=n.g[e.toString()],n=-1,e&&(n=a0(e,t,r,i)),(t=-1<n?e[n]:null)&&c0(t))}function c0(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Vh])y_(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(d0(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=C_(e))?(y_(t,n),0==t.h&&(t.src=null,e[u0]=null)):ag(n)}}}function d0(n){return n in v_?v_[n]:v_[n]="on"+n}function vD(n,e){if(n.fa)n=!0;else{e=new Uh(e,this);var t=n.listener,r=n.la||n.src;n.ia&&c0(n),n=t.call(r,e)}return n}function C_(n){return(n=n[u0])instanceof mr?n:null}var Hb="__closure_events_fn_"+(1e9*Math.random()>>>0);function w_(n){return"function"==typeof n?n:(n[Hb]||(n[Hb]=function(e){return n.handleEvent(e)}),n[Hb])}function Or(){Tl.call(this),this.i=new mr(this),this.S=this,this.J=null}function jn(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Gr(e,n);else if(e instanceof Gr)e.target=e.target||n;else{var i=e;Ub(e=new Gr(r,n),i)}if(i=!0,t)for(var u=t.length-1;0<=u;u--){var c=e.g=t[u];i=b_(c,r,!0,e)&&i}if(i=b_(c=e.g=n,r,!0,e)&&i,i=b_(c,r,!1,e)&&i,t)for(u=0;u<t.length;u++)i=b_(c=e.g=t[u],r,!1,e)&&i}function b_(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,u=0;u<e.length;++u){var c=e[u];if(c&&!c.fa&&c.capture==t){var p=c.listener,_=c.la||c.src;c.ia&&y_(n.i,c),i=!1!==p.call(_,r)&&i}}return i&&!r.defaultPrevented}Or.prototype[Vh]=!0,Or.prototype.removeEventListener=function(n,e,t,r){jb(this,n,e,t,r)},Or.prototype.N=function(){if(Or.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)ag(t[r]);delete n.g[e],n.h--}}this.J=null},Or.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Or.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var h0=jt.JSON.stringify;class ba{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function Bo(){var n=cg;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}class jo{constructor(){this.h=this.g=null}add(e,t){const r=f0.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}}var f0=new ba(()=>new Zb,n=>n.reset());class Zb{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function CD(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function wD(n){jt.setTimeout(()=>{throw n},0)}let ug,lg=!1,cg=new jo,Bh=()=>{const n=jt.Promise.resolve(void 0);ug=()=>{n.then(bD)}};var bD=()=>{for(var n;n=Bo();){try{n.h.call(n.g)}catch(t){wD(t)}var e=f0;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}lg=!1};function dg(n,e){Or.call(this),this.h=n||1,this.g=e||jt,this.j=Ei(this.qb,this),this.l=Date.now()}function p0(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function E_(n,e,t){if("function"==typeof n)t&&(n=Ei(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Ei(n.handleEvent,n)}return 2147483647<Number(e)?-1:jt.setTimeout(n,e||0)}function g0(n){n.g=E_(()=>{n.g=null,n.i&&(n.i=!1,g0(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}(Je=dg.prototype).ga=!1,Je.T=null,Je.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),jn(this,"tick"),this.ga&&(p0(this),this.start()))}},Je.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Je.N=function(){dg.$.N.call(this),p0(this),delete this.g};class T_ extends Tl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:g0(this)}N(){super.N(),this.g&&(jt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hg(n){Tl.call(this),this.h=n,this.g={}}var m0=[];function _0(n,e,t,r){Array.isArray(t)||(t&&(m0[0]=t.toString()),t=m0);for(var i=0;i<t.length;i++){var u=Vb(e,t[i],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function I_(n){Fb(n.g,function(e,t){this.g.hasOwnProperty(t)&&c0(e)},n),n.g={}}function id(){this.g=!0}function sd(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Gb(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var u=i[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var c=1;c<i.length;c++)i[c]=""}}}return h0(t)}catch{return e}}(n,t)+(r?" "+r:"")})}hg.prototype.N=function(){hg.$.N.call(this),I_(this)},hg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},id.prototype.Ea=function(){this.g=!1},id.prototype.info=function(){};var Il={},v0=null;function fg(){return v0=v0||new Or}function zb(n){Gr.call(this,Il.Ta,n)}function pg(n){const e=fg();jn(e,new zb(e))}function Wb(n,e){Gr.call(this,Il.STAT_EVENT,n),this.stat=e}function ts(n){const e=fg();jn(e,new Wb(e,n))}function Kb(n,e){Gr.call(this,Il.Ua,n),this.size=e}function gg(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return jt.setTimeout(function(){n()},e)}Il.Ta="serverreachability",Il.STAT_EVENT="statevent",Il.Ua="timingevent";var D_={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Yb={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Qb(){}var E0,mg={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function w0(){Gr.call(this,"d")}function b0(){Gr.call(this,"c")}function A_(){}function _g(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new hg(this),this.P=eE,this.V=new dg(n=__?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Xb}function Xb(){this.i=null,this.g="",this.h=!1}A_.prototype.g=function(){return new XMLHttpRequest},A_.prototype.i=function(){return{}},E0=new A_;var eE=45e3,S_={},yg={};function M_(n,e,t){n.L=1,n.v=hu(Al(e)),n.s=t,n.S=!0,T0(n,null)}function T0(n,e){n.G=Date.now(),jh(n),n.A=Al(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),oE(t.i,"t",r),n.C=0,t=n.l.J,n.h=new Xb,n.g=U0(n.l,t?e:null,!n.s),0<n.O&&(n.M=new T_(Ei(n.Pa,n,n.g),n.O)),_0(n.U,n.g,"readystatechange",n.nb),e=n.I?Lb(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),pg(),function y0(n,e,t,r,i,u){n.info(function(){if(n.g)if(u)for(var c="",p=u.split("&"),_=0;_<p.length;_++){var E=p[_].split("=");if(1<E.length){var A=E[0];E=E[1];var x=A.split("_");c=2<=x.length&&"type"==x[1]?c+(A+"=")+E+"&":c+(A+"=redacted&")}}else c=null;else c=u;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.W,n.s)}function I0(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function D0(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=tE(n,t),i==yg){4==e&&(n.o=4,ts(14),r=!1),sd(n.j,n.m,null,"[Incomplete Response]");break}if(i==S_){n.o=4,ts(15),sd(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}sd(n.j,n.m,i,null),S0(n,i)}I0(n)&&i!=yg&&i!=S_&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,ts(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),F0(e),e.M=!0,ts(11))):(sd(n.j,n.m,t,"[Invalid Chunked Response]"),od(n),Ho(n))}function tE(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?yg:(t=Number(e.substring(t,r)),isNaN(t)?S_:(r+=1)+t>e.length?yg:(e=e.slice(r,r+t),n.C=r+t,e))}function jh(n){n.Y=Date.now()+n.P,A0(n,n.P)}function A0(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=gg(Ei(n.lb,n),e)}function vg(n){n.B&&(jt.clearTimeout(n.B),n.B=null)}function Ho(n){0==n.l.H||n.J||vE(n.l,n)}function od(n){vg(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,p0(n.V),I_(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function S0(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||P_(t.i,n)))if(!n.K&&P_(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Rg(t),Ml(t)}Ng(t),ts(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=gg(Ei(t.ib,t),6e3));if(1>=bg(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else ad(t,11)}else if((n.K||t.g==n)&&Rg(t),!Fh(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let E=i[e];if(t.V=E[0],E=E[1],2==t.H)if("c"==E[0]){t.K=E[1],t.pa=E[2];const A=E[3];null!=A&&(t.ra=A,t.l.info("VER="+t.ra));const x=E[4];null!=x&&(t.Ga=x,t.l.info("SVER="+t.Ga));const L=E[5];null!=L&&"number"==typeof L&&0<L&&(t.L=r=1.5*L,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const j=n.g;if(j){const Q=j.g?j.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Q){var u=r.i;u.g||-1==Q.indexOf("spdy")&&-1==Q.indexOf("quic")&&-1==Q.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(O_(u,u.h),u.h=null))}if(r.F){const De=j.g?j.g.getResponseHeader("X-HTTP-Session-Id"):null;De&&(r.Da=De,Gn(r.I,r.F,De))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var c=n;if((r=t).wa=wE(r,r.J?r.pa:null,r.Y),c.K){N0(r.i,c);var p=c,_=r.L;_&&p.setTimeout(_),p.B&&(vg(p),jh(p)),r.g=c}else yE(r);0<t.j.length&&Mg(t)}else"stop"!=E[0]&&"close"!=E[0]||ad(t,7);else 3==t.H&&("stop"==E[0]||"close"==E[0]?"stop"==E[0]?ad(t,7):P0(t):"noop"!=E[0]&&t.h&&t.h.Aa(E),t.A=0)}pg()}catch{}}function x_(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(ng(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function D1(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(ng(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function Hh(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(ng(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,u=0;u<i;u++)e.call(void 0,r[u],t&&t[u],n)}(Je=_g.prototype).setTimeout=function(n){this.P=n},Je.nb=function(n){n=n.target;const e=this.M;e&&3==Ea(n)?e.l():this.Pa(n)},Je.Pa=function(n){try{if(n==this.g)e:{const A=Ea(this.g);var e=this.g.Ia();if(this.g.da(),!(3>A)&&(3!=A||__||this.g&&(this.h.h||this.g.ja()||pE(this.g)))){this.J||4!=A||7==e||pg(),vg(this);var t=this.g.da();this.ca=t;t:if(I0(this)){var r=pE(this.g);n="";var i=r.length,u=4==Ea(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){od(this),Ho(this);var c="";break t}this.h.i=new jt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ja();if(this.i=200==t,function qb(n,e,t,r,i,u,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+u+" "+c})}(this.j,this.u,this.A,this.m,this.W,A,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var p,_=this.g;if((p=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Fh(p)){var E=p;break t}}E=null}if(!(t=E)){this.i=!1,this.o=3,ts(12),od(this),Ho(this);break e}sd(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,S0(this,t)}this.S?(D0(this,A,c),__&&this.i&&3==A&&(_0(this.U,this.V,"tick",this.mb),this.V.start())):(sd(this.j,this.m,c,null),S0(this,c)),4==A&&od(this),this.i&&!this.J&&(4==A?vE(this.l,this):(this.i=!1,jh(this)))}else(function ND(n){const e={};n=(n.g&&2<=Ea(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(Fh(n[r]))continue;var t=CD(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const u=e[i]||[];e[i]=u,u.push(t)}!function yD(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<c.indexOf("Unknown SID")?(this.o=3,ts(12)):(this.o=0,ts(13)),od(this),Ho(this)}}}catch{}},Je.mb=function(){if(this.g){var n=Ea(this.g),e=this.g.ja();this.C<e.length&&(vg(this),D0(this,n,e),this.i&&4!=n&&jh(this))}},Je.cancel=function(){this.J=!0,od(this)},Je.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function $b(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(pg(),ts(17)),od(this),this.o=2,Ho(this)):A0(this,this.Y-n)};var ED=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Dl(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Dl){this.h=n.h,xt(this,n.j),this.s=n.s,this.g=n.g,N_(this,n.m),this.l=n.l;var e=n.i,t=new Zh;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),rE(this,t),this.o=n.o}else n&&(e=String(n).match(ED))?(this.h=!1,xt(this,e[1]||"",!0),this.s=Cg(e[2]||""),this.g=Cg(e[3]||"",!0),N_(this,e[4]),this.l=Cg(e[5]||"",!0),rE(this,e[6]||"",!0),this.o=Cg(e[7]||"")):(this.h=!1,this.i=new Zh(null,this.h))}function Al(n){return new Dl(n)}function xt(n,e,t){n.j=t?Cg(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function N_(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function rE(n,e,t){e instanceof Zh?(n.i=e,function ID(n,e){e&&!n.j&&(fu(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(M0(this,r),oE(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Sl(e,sE)),n.i=new Zh(e,n.h))}function Gn(n,e,t){n.i.set(e,t)}function hu(n){return Gn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Cg(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Sl(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,R_),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function R_(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Dl.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Sl(e,sr,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Sl(e,sr,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Sl(t,"/"==t.charAt(0)?iE:A1,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Sl(t,TD)),n.join("")};var sr=/[#\/\?@]/g,A1=/[#\?:]/g,iE=/[#\?]/g,sE=/[#\?@]/g,TD=/#/g;function Zh(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function fu(n){n.g||(n.g=new Map,n.h=0,n.i&&function nE(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var u=n[t].substring(0,r);i=n[t].substring(r+1)}else u=n[t];e(u,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function M0(n,e){fu(n),e=qh(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function x0(n,e){return fu(n),e=qh(n,e),n.g.has(e)}function oE(n,e,t){M0(n,e),0<t.length&&(n.i=null,n.g.set(qh(n,e),ig(t)),n.h+=t.length)}function qh(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function aE(n){this.l=n||DD,n=jt.PerformanceNavigationTiming?0<(n=jt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(jt.g&&jt.g.Ka&&jt.g.Ka()&&jt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Je=Zh.prototype).add=function(n,e){fu(this),this.i=null,n=qh(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Je.forEach=function(n,e){fu(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},Je.ta=function(){fu(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let u=0;u<i.length;u++)t.push(e[r])}return t},Je.Z=function(n){fu(this);let e=[];if("string"==typeof n)x0(this,n)&&(e=e.concat(this.g.get(qh(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Je.set=function(n,e){return fu(this),this.i=null,x0(this,n=qh(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Je.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},Je.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),c=this.Z(r);for(r=0;r<c.length;r++){var i=u;""!==c[r]&&(i+="="+encodeURIComponent(String(c[r]))),n.push(i)}}return this.i=n.join("&")};var n,DD=10;function uE(n){return!!n.h||!!n.g&&n.g.size>=n.j}function bg(n){return n.h?1:n.g?n.g.size:0}function P_(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function O_(n,e){n.g?n.g.add(e):n.h=e}function N0(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function lE(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return ig(n.i)}function Tg(){this.g=new class{stringify(n){return jt.JSON.stringify(n,void 0)}parse(n){return jt.JSON.parse(n,void 0)}}}function AD(n,e,t){const r=t||"";try{x_(n,function(i,u){let c=i;Oh(i)&&(c=h0(i)),e.push(r+u+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function k_(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function $h(n){this.l=n.fc||null,this.j=n.ob||!1}function Ig(n,e){Or.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=F_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}aE.prototype.cancel=function(){if(this.i=lE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},$h.prototype.g=function(){return new Ig(this.l,this.j)},$h.prototype.i=(n={},function(){return n});var F_=0;function cE(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Gh(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Dg(n)}function Dg(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Je=Ig.prototype).open=function(n,e){if(this.readyState!=F_)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Dg(this)},Je.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||jt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Je.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Gh(this)),this.readyState=F_},Je.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Dg(this)),this.g&&(this.readyState=3,Dg(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof jt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;cE(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Je.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Gh(this):Dg(this),3==this.readyState&&cE(this)}},Je.Za=function(n){this.g&&(this.response=this.responseText=n,Gh(this))},Je.Ya=function(n){this.g&&(this.response=n,Gh(this))},Je.ka=function(){this.g&&Gh(this)},Je.setRequestHeader=function(n,e){this.v.append(n,e)},Je.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Je.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")};var MD=jt.JSON.parse;function Er(n){Or.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=xD,this.L=this.M=!1}var xD="",S1=/^https?$/i,M1=["POST","PUT"];function Ag(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,hE(n),Sg(n)}function hE(n){n.F||(n.F=!0,jn(n,"complete"),jn(n,"error"))}function fE(n){if(n.h&&typeof f_<"u"&&(!n.C[1]||4!=Ea(n)||2!=n.da()))if(n.v&&4==Ea(n))E_(n.La,0,n);else if(jn(n,"readystatechange"),4==Ea(n)){n.h=!1;try{const c=n.da();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===c){var i=String(n.I).match(ED)[1]||null;!i&&jt.self&&jt.self.location&&(i=jt.self.location.protocol.slice(0,-1)),r=!S1.test(i?i.toLowerCase():"")}t=r}if(t)jn(n,"complete"),jn(n,"success");else{n.m=6;try{var u=2<Ea(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.da()+"]",hE(n)}}finally{Sg(n)}}}function Sg(n,e){if(n.g){zh(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||jn(n,"ready");try{t.onreadystatechange=r}catch{}}}function zh(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(jt.clearTimeout(n.A),n.A=null)}function Ea(n){return n.g?n.g.readyState:0}function pE(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case xD:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function gE(n){let e="";return Fb(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function R0(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=gE(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Gn(n,e,t))}function Wh(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function mE(n){this.Ga=0,this.j=[],this.l=new id,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Wh("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Wh("baseRetryDelayMs",5e3,n),this.hb=Wh("retryDelaySeedMs",1e4,n),this.eb=Wh("forwardChannelMaxRetries",2,n),this.xa=Wh("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new aE(n&&n.concurrentRequestLimit),this.Ja=new Tg,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function P0(n){if(_E(n),3==n.H){var e=n.W++,t=Al(n.I);if(Gn(t,"SID",n.K),Gn(t,"RID",e),Gn(t,"TYPE","terminate"),xg(n,t),(e=new _g(n,n.l,e)).L=2,e.v=hu(Al(t)),t=!1,jt.navigator&&jt.navigator.sendBeacon)try{t=jt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&jt.Image&&((new Image).src=e.v,t=!0),t||(e.g=U0(e.l,null),e.g.ha(e.v)),e.G=Date.now(),jh(e)}L_(n)}function Ml(n){n.g&&(F0(n),n.g.cancel(),n.g=null)}function _E(n){Ml(n),n.u&&(jt.clearTimeout(n.u),n.u=null),Rg(n),n.i.cancel(),n.m&&("number"==typeof n.m&&jt.clearTimeout(n.m),n.m=null)}function Mg(n){if(!uE(n.i)&&!n.m){n.m=!0;var e=n.Na;ug||Bh(),lg||(ug(),lg=!0),cg.add(e,n),n.C=0}}function O0(n,e){var t;t=e?e.m:n.W++;const r=Al(n.I);Gn(r,"SID",n.K),Gn(r,"RID",t),Gn(r,"AID",n.V),xg(n,r),n.o&&n.s&&R0(r,n.o,n.s),t=new _g(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=k0(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),O_(n.i,t),M_(t,r,e)}function xg(n,e){n.na&&Fb(n.na,function(t,r){Gn(e,r,t)}),n.h&&x_({},function(t,r){Gn(e,r,t)})}function k0(n,e,t){t=Math.min(n.j.length,t);var r=n.h?Ei(n.h.Va,n.h,n):null;e:{var i=n.j;let u=-1;for(;;){const c=["count="+t];-1==u?0<t?(u=i[0].g,c.push("ofs="+u)):u=0:c.push("ofs="+u);let p=!0;for(let _=0;_<t;_++){let E=i[_].g;const A=i[_].map;if(E-=u,0>E)u=Math.max(0,i[_].g-100),p=!1;else try{AD(A,c,"req"+E+"_")}catch{r&&r(A)}}if(p){r=c.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function yE(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;ug||Bh(),lg||(ug(),lg=!0),cg.add(e,n),n.A=0}}function Ng(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=gg(Ei(n.Ma,n),CE(n,n.A)),n.A++,0))}function F0(n){null!=n.B&&(jt.clearTimeout(n.B),n.B=null)}function L0(n){n.g=new _g(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Al(n.wa);Gn(e,"RID","rpc"),Gn(e,"SID",n.K),Gn(e,"AID",n.V),Gn(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Gn(e,"TO",n.qa),Gn(e,"TYPE","xmlhttp"),xg(n,e),n.o&&n.s&&R0(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=hu(Al(e)),t.s=null,t.S=!0,T0(t,n)}function Rg(n){null!=n.v&&(jt.clearTimeout(n.v),n.v=null)}function vE(n,e){var t=null;if(n.g==e){Rg(n),F0(n),n.g=null;var r=2}else{if(!P_(n.i,e))return;t=e.F,N0(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;jn(r=fg(),new Kb(r,t)),Mg(n)}else yE(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function RD(n,e){return!(bg(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=gg(Ei(n.Na,n,e),CE(n,n.C)),n.C++,0)))}(n,e)||2==r&&Ng(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:ad(n,5);break;case 4:ad(n,10);break;case 3:ad(n,6);break;default:ad(n,2)}}function CE(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function ad(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=Ei(n.pb,n);t||(t=new Dl("//www.google.com/images/cleardot.gif"),jt.location&&"http"==jt.location.protocol||xt(t,"https"),hu(t)),function SD(n,e){const t=new id;if(jt.Image){const r=new Image;r.onload=kh(k_,t,r,"TestLoadImage: loaded",!0,e),r.onerror=kh(k_,t,r,"TestLoadImage: error",!1,e),r.onabort=kh(k_,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=kh(k_,t,r,"TestLoadImage: timeout",!1,e),jt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else ts(2);n.H=0,n.h&&n.h.za(e),L_(n),_E(n)}function L_(n){if(n.H=0,n.ma=[],n.h){const e=lE(n.i);(0!=e.length||0!=n.j.length)&&(Sb(n.ma,e),Sb(n.ma,n.j),n.i.i.length=0,ig(n.j),n.j.length=0),n.h.ya()}}function wE(n,e,t){var r=t instanceof Dl?Al(t):new Dl(t);if(""!=r.g)e&&(r.g=e+"."+r.g),N_(r,r.m);else{var i=jt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var u=new Dl(null);r&&xt(u,r),e&&(u.g=e),i&&N_(u,i),t&&(u.l=t),r=u}return e=n.Da,(t=n.F)&&e&&Gn(r,t,e),Gn(r,"VER",n.ra),xg(n,r),r}function U0(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Er(t&&n.Ha&&!n.va?new $h({ob:!0}):n.va)).Oa(n.J),e}function U_(){if(nd&&!(10<=Number(Rb)))throw Error("Environmental error: no available transport.")}function Us(n,e){Or.call(this),this.g=new mE(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Fh(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Fh(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Kh(this)}function EE(n){w0.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function TE(){b0.call(this),this.status=1}function Kh(n){this.g=n}function Zo(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function V_(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var u=n.g[3],c=(e=n.g[0])+(u^(t=n.g[1])&((i=n.g[2])^u))+r[0]+3614090360&4294967295;c=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=t+(c<<7&4294967295|c>>>25))+((c=u+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^u&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(u^e))+r[3]+3250441966&4294967295)<<22&4294967295|c>>>10))+((c=e+(u^t&(i^u))+r[4]+4118548399&4294967295)<<7&4294967295|c>>>25))+((c=u+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^u&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(u^e))+r[7]+4249261313&4294967295)<<22&4294967295|c>>>10))+((c=e+(u^t&(i^u))+r[8]+1770035416&4294967295)<<7&4294967295|c>>>25))+((c=u+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^u&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(u^e))+r[11]+2304563134&4294967295)<<22&4294967295|c>>>10))+((c=e+(u^t&(i^u))+r[12]+1804603682&4294967295)<<7&4294967295|c>>>25))+((c=u+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^u&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(u^e))+r[15]+1236535329&4294967295)<<22&4294967295|c>>>10))+((c=e+(i^u&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|c>>>27))+((c=u+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(u^e))+r[11]+643717713&4294967295)<<14&4294967295|c>>>18))+((c=t+(u^e&(i^u))+r[0]+3921069994&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^u&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|c>>>27))+((c=u+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(u^e))+r[15]+3634488961&4294967295)<<14&4294967295|c>>>18))+((c=t+(u^e&(i^u))+r[4]+3889429448&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^u&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|c>>>27))+((c=u+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(u^e))+r[3]+4107603335&4294967295)<<14&4294967295|c>>>18))+((c=t+(u^e&(i^u))+r[8]+1163531501&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^u&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|c>>>27))+((c=u+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(u^e))+r[7]+1735328473&4294967295)<<14&4294967295|c>>>18))+((c=t+(u^e&(i^u))+r[12]+2368359562&4294967295)<<20&4294967295|c>>>12))+((c=e+(t^i^u)+r[5]+4294588738&4294967295)<<4&4294967295|c>>>28))+((c=u+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|c>>>21))+((c=i+(u^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^u^e)+r[14]+4259657740&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^u)+r[1]+2763975236&4294967295)<<4&4294967295|c>>>28))+((c=u+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|c>>>21))+((c=i+(u^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^u^e)+r[10]+3200236656&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^u)+r[13]+681279174&4294967295)<<4&4294967295|c>>>28))+((c=u+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|c>>>21))+((c=i+(u^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^u^e)+r[6]+76029189&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^u)+r[9]+3654602809&4294967295)<<4&4294967295|c>>>28))+((c=u+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|c>>>21))+((c=i+(u^e^t)+r[15]+530742520&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^u^e)+r[2]+3299628645&4294967295)<<23&4294967295|c>>>9))+((c=e+(i^(t|~u))+r[0]+4096336452&4294967295)<<6&4294967295|c>>>26))+((c=u+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(u|~t))+r[14]+2878612391&4294967295)<<15&4294967295|c>>>17))+((c=t+(u^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|c>>>11))+((c=e+(i^(t|~u))+r[12]+1700485571&4294967295)<<6&4294967295|c>>>26))+((c=u+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(u|~t))+r[10]+4293915773&4294967295)<<15&4294967295|c>>>17))+((c=t+(u^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|c>>>11))+((c=e+(i^(t|~u))+r[8]+1873313359&4294967295)<<6&4294967295|c>>>26))+((c=u+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(u|~t))+r[6]+2734768916&4294967295)<<15&4294967295|c>>>17))+((c=t+(u^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|c>>>11))+((u=(e=t+((c=e+(i^(t|~u))+r[4]+4149444226&4294967295)<<6&4294967295|c>>>26))+((c=u+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|c>>>22))^((i=u+((c=i+(e^(u|~t))+r[2]+718787259&4294967295)<<15&4294967295|c>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(c<<21&4294967295|c>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+u&4294967295}function Cn(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var u=0|n[i];r&&u==e||(t[i]=u,r=!1)}this.g=t}(Je=Er.prototype).Oa=function(n){this.M=n},Je.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():E0.g(),this.C=function Jb(n){return n.h||(n.h=n.i())}(this.u?this.u:E0),this.g.onreadystatechange=Ei(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(u){return void Ag(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),i=jt.FormData&&n instanceof jt.FormData,!(0<=rg(M1,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,c]of t)this.g.setRequestHeader(u,c);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{zh(this),0<this.B&&((this.L=function dE(n){return nd&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ei(this.ua,this)):this.A=E_(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){Ag(this,u)}},Je.ua=function(){typeof f_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,jn(this,"timeout"),this.abort(8))},Je.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,jn(this,"complete"),jn(this,"abort"),Sg(this))},Je.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Sg(this,!0)),Er.$.N.call(this)},Je.La=function(){this.s||(this.G||this.v||this.l?fE(this):this.kb())},Je.kb=function(){fE(this)},Je.isActive=function(){return!!this.g},Je.da=function(){try{return 2<Ea(this)?this.g.status:-1}catch{return-1}},Je.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Je.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),MD(e)}},Je.Ia=function(){return this.m},Je.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Je=mE.prototype).ra=8,Je.H=1,Je.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new _g(this,this.l,n);let u=this.s;if(this.U&&(u?(u=Lb(u),Ub(u,this.U)):u=this.U),null!==this.o||this.O||(i.I=u,u=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=k0(this,i,e),Gn(t=Al(this.I),"RID",n),Gn(t,"CVER",22),this.F&&Gn(t,"X-HTTP-Session-Id",this.F),xg(this,t),u&&(this.O?e="headers="+encodeURIComponent(String(gE(u)))+"&"+e:this.o&&R0(t,this.o,u)),O_(this.i,i),this.bb&&Gn(t,"TYPE","init"),this.P?(Gn(t,"$req",e),Gn(t,"SID","null"),i.aa=!0,M_(i,t,null)):M_(i,t,e),this.H=2}}else 3==this.H&&(n?O0(this,n):0==this.j.length||uE(this.i)||O0(this))},Je.Ma=function(){if(this.u=null,L0(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=gg(Ei(this.jb,this),n)}},Je.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ts(10),Ml(this),L0(this))},Je.ib=function(){null!=this.v&&(this.v=null,Ml(this),Ng(this),ts(19))},Je.pb=function(n){n?(this.l.info("Successfully pinged google.com"),ts(2)):(this.l.info("Failed to ping google.com"),ts(1))},Je.isActive=function(){return!!this.h&&this.h.isActive(this)},(Je=function bE(){}.prototype).Ba=function(){},Je.Aa=function(){},Je.za=function(){},Je.ya=function(){},Je.isActive=function(){return!0},Je.Va=function(){},U_.prototype.g=function(n,e){return new Us(n,e)},Us.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;ts(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=wE(n,null,n.Y),Mg(n)},Us.prototype.close=function(){P0(this.g)},Us.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=h0(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&Mg(e)},Us.prototype.N=function(){this.g.h=null,delete this.j,P0(this.g),delete this.g,Us.$.N.call(this)},Kh.prototype.Ba=function(){jn(this.g,"a")},Kh.prototype.Aa=function(n){jn(this.g,new EE(n))},Kh.prototype.za=function(n){jn(this.g,new TE)},Kh.prototype.ya=function(){jn(this.g,"b")},Zo.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Zo.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,u=0;u<e;){if(0==i)for(;u<=t;)V_(this,n,u),u+=this.blockSize;if("string"==typeof n){for(;u<e;)if(r[i++]=n.charCodeAt(u++),i==this.blockSize){V_(this,r),i=0;break}}else for(;u<e;)if(r[i++]=n[u++],i==this.blockSize){V_(this,r),i=0;break}}this.h=i,this.i+=e},Zo.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var OD={};function V0(n){return-128<=n&&128>n?function Mb(n,e){var t=OD;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Cn([0|e],0>e?-1:0)}):new Cn([0|n],0>n?-1:0)}function qo(n){if(isNaN(n)||!isFinite(n))return Yh;if(0>n)return Ti(qo(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=B0;return new Cn(e,0)}var B0=4294967296,Yh=V0(0),Pg=V0(1),B_=V0(16777216);function Ta(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function vs(n){return-1==n.h}function Ti(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Cn(t,~n.h).add(Pg)}function j_(n,e){return n.add(Ti(e))}function Jh(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Og(n,e){this.g=n,this.h=e}function kg(n,e){if(Ta(e))throw Error("division by zero");if(Ta(n))return new Og(Yh,Yh);if(vs(n))return e=kg(Ti(n),e),new Og(Ti(e.g),Ti(e.h));if(vs(e))return e=kg(n,Ti(e)),new Og(Ti(e.g),e.h);if(30<n.g.length){if(vs(n)||vs(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Pg,r=e;0>=r.X(n);)t=ud(t),r=ud(r);var i=ld(t,1),u=ld(r,1);for(r=ld(r,2),t=ld(t,2);!Ta(r);){var c=u.add(r);0>=c.X(n)&&(i=i.add(t),u=c),r=ld(r,1),t=ld(t,1)}return e=j_(n,i.R(e)),new Og(i,e)}for(i=Yh;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),c=(u=qo(t)).R(e);vs(c)||0<c.X(n);)c=(u=qo(t-=r)).R(e);Ta(u)&&(u=Pg),i=i.add(u),n=j_(n,c)}return new Og(i,n)}function ud(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Cn(t,n.h)}function ld(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],u=0;u<r;u++)i[u]=0<e?n.D(u+t)>>>e|n.D(u+t+1)<<32-e:n.D(u+t);return new Cn(i,n.h)}(Je=Cn.prototype).ea=function(){if(vs(this))return-Ti(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:B0+r)*e,e*=B0}return n},Je.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Ta(this))return"0";if(vs(this))return"-"+Ti(this).toString(n);for(var e=qo(Math.pow(n,6)),t=this,r="";;){var i=kg(t,e).g,u=((0<(t=j_(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Ta(t=i))return u+r;for(;6>u.length;)u="0"+u;r=u+r}},Je.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Je.X=function(n){return vs(n=j_(this,n))?-1:Ta(n)?0:1},Je.abs=function(){return vs(this)?Ti(this):this},Je.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var u=r+(65535&this.D(i))+(65535&n.D(i)),c=(u>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=c>>>16,t[i]=(c&=65535)<<16|(u&=65535)}return new Cn(t,-2147483648&t[t.length-1]?-1:0)},Je.R=function(n){if(Ta(this)||Ta(n))return Yh;if(vs(this))return vs(n)?Ti(this).R(Ti(n)):Ti(Ti(this).R(n));if(vs(n))return Ti(this.R(Ti(n)));if(0>this.X(B_)&&0>n.X(B_))return qo(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var u=this.D(r)>>>16,c=65535&this.D(r),p=n.D(i)>>>16,_=65535&n.D(i);t[2*r+2*i]+=c*_,Jh(t,2*r+2*i),t[2*r+2*i+1]+=u*_,Jh(t,2*r+2*i+1),t[2*r+2*i+1]+=c*p,Jh(t,2*r+2*i+1),t[2*r+2*i+2]+=u*p,Jh(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Cn(t,0)},Je.gb=function(n){return kg(this,n).h},Je.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Cn(t,this.h&n.h)},Je.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Cn(t,this.h|n.h)},Je.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Cn(t,this.h^n.h)},U_.prototype.createWebChannel=U_.prototype.g,Us.prototype.send=Us.prototype.u,Us.prototype.open=Us.prototype.m,Us.prototype.close=Us.prototype.close,D_.NO_ERROR=0,D_.TIMEOUT=8,D_.HTTP_ERROR=6,Yb.COMPLETE="complete",Qb.EventType=mg,mg.OPEN="a",mg.CLOSE="b",mg.ERROR="c",mg.MESSAGE="d",Or.prototype.listen=Or.prototype.O,Er.prototype.listenOnce=Er.prototype.P,Er.prototype.getLastError=Er.prototype.Sa,Er.prototype.getLastErrorCode=Er.prototype.Ia,Er.prototype.getStatus=Er.prototype.da,Er.prototype.getResponseJson=Er.prototype.Wa,Er.prototype.getResponseText=Er.prototype.ja,Er.prototype.send=Er.prototype.ha,Er.prototype.setWithCredentials=Er.prototype.Oa,Zo.prototype.digest=Zo.prototype.l,Zo.prototype.reset=Zo.prototype.reset,Zo.prototype.update=Zo.prototype.j,Cn.prototype.add=Cn.prototype.add,Cn.prototype.multiply=Cn.prototype.R,Cn.prototype.modulo=Cn.prototype.gb,Cn.prototype.compare=Cn.prototype.X,Cn.prototype.toNumber=Cn.prototype.ea,Cn.prototype.toString=Cn.prototype.toString,Cn.prototype.getBits=Cn.prototype.D,Cn.fromNumber=qo,Cn.fromString=function IE(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Ti(IE(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=qo(Math.pow(e,8)),r=Yh,i=0;i<n.length;i+=8){var u=Math.min(8,n.length-i),c=parseInt(n.substring(i,i+u),e);8>u?(u=qo(Math.pow(e,u)),r=r.R(u).add(qo(c))):r=(r=r.R(t)).add(qo(c))}return r};var kD=uo.createWebChannelTransport=function(){return new U_},x1=uo.getStatEventTarget=function(){return fg()},H_=uo.ErrorCode=D_,j0=uo.EventType=Yb,FD=uo.Event=Il,Z_=uo.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},LD=uo.FetchXmlHttpFactory=$h,Fg=uo.WebChannel=Qb,H0=uo.XhrIo=Er,DE=uo.Md5=Zo,cd=uo.Integer=Cn;class zr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zr.UNAUTHENTICATED=new zr(null),zr.GOOGLE_CREDENTIALS=new zr("google-credentials-uid"),zr.FIRST_PARTY=new zr("first-party-uid"),zr.MOCK_USER=new zr("mock-user");let Qh="9.23.0";const xl=new Yc.Yd("@firebase/firestore");function q0(){return xl.logLevel}function Le(n,...e){if(xl.logLevel<=Yc.in.DEBUG){const t=e.map($0);xl.debug(`Firestore (${Qh}): ${n}`,...t)}}function kr(n,...e){if(xl.logLevel<=Yc.in.ERROR){const t=e.map($0);xl.error(`Firestore (${Qh}): ${n}`,...t)}}function Vs(n,...e){if(xl.logLevel<=Yc.in.WARN){const t=e.map($0);xl.warn(`Firestore (${Qh}): ${n}`,...t)}}function $0(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function st(n="Unexpected state"){const e=`FIRESTORE (${Qh}) INTERNAL ASSERTION FAILED: `+n;throw kr(e),new Error(e)}function wt(n,e){n||st()}function Ye(n,e){return n}const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Me extends Wt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Wr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class VD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(zr.UNAUTHENTICATED))}shutdown(){}}class HD{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=zr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class ZD{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new HD(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(zr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}function ME(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class G0{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=ME(40);for(let u=0;u<i.length;++u)r.length<20&&i[u]<t&&(r+=e.charAt(i[u]%e.length))}return r}}function Vt(n,e){return n<e?-1:n>e?1:0}function dd(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class zn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Me(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Me(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Me(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Me(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return zn.fromMillis(Date.now())}static fromDate(e){return zn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new zn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Vt(this.nanoseconds,e.nanoseconds):Vt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class bt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new bt(e)}static min(){return new bt(new zn(0,0))}static max(){return new bt(new zn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class $_{constructor(e,t,r){void 0===t?t=0:t>e.length&&st(),void 0===r?r=e.length-t:r>e.length-t&&st(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===$_.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof $_?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const u=e.get(i),c=t.get(i);if(u<c)return-1;if(u>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class an extends $_{construct(e,t,r){return new an(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Me(le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new an(t)}static emptyPath(){return new an([])}}const xE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _r extends $_{construct(e,t,r){return new _r(e,t,r)}static isValidIdentifier(e){return xE.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_r.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new _r(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const u=()=>{if(0===r.length)throw new Me(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const p=e[i];if("\\"===p){if(i+1===e.length)throw new Me(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[i+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Me(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,i+=2}else"`"===p?(c=!c,i++):"."!==p||c?(r+=p,i++):(u(),i++)}if(u(),c)throw new Me(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _r(t)}static emptyPath(){return new _r([])}}class Ke{constructor(e){this.path=e}static fromPath(e){return new Ke(an.fromString(e))}static fromName(e){return new Ke(an.fromString(e).popFirst(5))}static empty(){return new Ke(an.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===an.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return an.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ke(new an(e.slice()))}}function NE(n){return new js(n.readTime,n.key,-1)}class js{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new js(bt.min(),Ke.empty(),-1)}static max(){return new js(bt.max(),Ke.empty(),-1)}}function K0(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ke.comparator(n.documentKey,e.documentKey),0!==t?t:Vt(n.largestBatchId,e.largestBatchId))}const Lg="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function Nl(n){return Y0.apply(this,arguments)}function Y0(){return Y0=(0,fe.Z)(function*(n){if(n.code!==le.FAILED_PRECONDITION||n.message!==Lg)throw n;Le("LocalStore","Unexpectedly lost primary lease")}),Y0.apply(this,arguments)}class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&st(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new se((r,i)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,i)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof se?t:se.resolve(t)}catch(t){return se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):se.reject(t)}static resolve(e){return new se((t,r)=>{t(e)})}static reject(e){return new se((t,r)=>{r(e)})}static waitFor(e){return new se((t,r)=>{let i=0,u=0,c=!1;e.forEach(p=>{++i,p.next(()=>{++u,c&&u===i&&t()},_=>r(_))}),c=!0,u===i&&t()})}static or(e){let t=se.resolve(!1);for(const r of e)t=t.next(i=>i?se.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,u)=>{r.push(t.call(this,i,u))}),this.waitFor(r)}static mapArray(e,t){return new se((r,i)=>{const u=e.length,c=new Array(u);let p=0;for(let _=0;_<u;_++){const E=_;t(e[E]).next(A=>{c[E]=A,++p,p===u&&r(c)},A=>i(A))}})}static doWhile(e,t){return new se((r,i)=>{const u=()=>{!0===e()?t().next(()=>{u()},i):r()};u()})}}function Rl(n){return"IndexedDbTransactionError"===n.name}let Zs=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function jg(n){return null==n}function Hg(n){return 0===n&&1/n==-1/0}function iC(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function gu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function $g(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Mn{constructor(e,t){this.comparator=e,this.root=t||si.EMPTY}insert(e,t){return new Mn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,si.BLACK,null,null))}remove(e){return new Mn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,si.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sC(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sC(this.root,e,this.comparator,!1)}getReverseIterator(){return new sC(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sC(this.root,e,this.comparator,!0)}}class sC{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&i&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class si{constructor(e,t,r,i,u){this.key=e,this.value=t,this.color=r??si.RED,this.left=i??si.EMPTY,this.right=u??si.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,u){return new si(e??this.key,t??this.value,r??this.color,i??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const u=r(e,i.key);return i=u<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===u?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return si.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return si.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,si.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,si.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw st();const e=this.left.check();if(e!==this.right.check())throw st();return e+(this.isRed()?0:1)}}si.EMPTY=null,si.RED=!0,si.BLACK=!1,si.EMPTY=new class{constructor(){this.size=0}get key(){throw st()}get value(){throw st()}get color(){throw st()}get left(){throw st()}get right(){throw st()}copy(n,e,t,r,i){return this}insert(n,e,t){return new si(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Wn{constructor(e){this.comparator=e,this.data=new Mn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new oC(this.data.getIterator())}getIteratorFrom(e){return new oC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Wn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(i,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Wn(this.comparator);return t.data=e,t}}class oC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Cs{constructor(e){this.fields=e,e.sort(_r.comparator)}static empty(){return new Cs([])}unionWith(e){let t=new Wn(_r.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Cs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return dd(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class aC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class oi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new aC("Invalid base64 string: "+i):i}}(e);return new oi(t)}static fromUint8Array(e){const t=function(r){let i="";for(let u=0;u<r.length;++u)i+=String.fromCharCode(r[u]);return i}(e);return new oi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Vt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}oi.EMPTY_BYTE_STRING=new oi("");const QD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gd(n){if(wt(!!n),"string"==typeof n){let e=0;const t=QD.exec(n);if(wt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:yr(n.seconds),nanos:yr(n.nanos)}}function yr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function mu(n){return"string"==typeof n?oi.fromBase64String(n):oi.fromUint8Array(n)}function Y_(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Gg(n){const e=n.mapValue.fields.__previous_value__;return Y_(e)?Gg(e):e}function tf(n){const e=gd(n.mapValue.fields.__local_write_time__.timestampValue);return new zn(e.seconds,e.nanos)}class XD{constructor(e,t,r,i,u,c,p,_,E){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=E}}class _u{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new _u("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof _u&&e.projectId===this.projectId&&e.database===this.database}}const yu_mapValue={fields:{__type__:{stringValue:"__max__"}}};function Pl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Y_(n)?4:nA(n)?9007199254740991:10:st()}function Go(n,e){if(n===e)return!0;const t=Pl(n);if(t!==Pl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return tf(n).isEqual(tf(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const u=gd(r.timestampValue),c=gd(i.timestampValue);return u.seconds===c.seconds&&u.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,mu(n.bytesValue).isEqual(mu(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return yr(r.geoPointValue.latitude)===yr(i.geoPointValue.latitude)&&yr(r.geoPointValue.longitude)===yr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return yr(r.integerValue)===yr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const u=yr(r.doubleValue),c=yr(i.doubleValue);return u===c?Hg(u)===Hg(c):isNaN(u)&&isNaN(c)}return!1}(n,e);case 9:return dd(n.arrayValue.values||[],e.arrayValue.values||[],Go);case 10:return function(r,i){const u=r.mapValue.fields||{},c=i.mapValue.fields||{};if(iC(u)!==iC(c))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(void 0===c[p]||!Go(u[p],c[p])))return!1;return!0}(n,e);default:return st()}var i}function zg(n,e){return void 0!==(n.values||[]).find(t=>Go(t,e))}function vu(n,e){if(n===e)return 0;const t=Pl(n),r=Pl(e);if(t!==r)return Vt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Vt(n.booleanValue,e.booleanValue);case 2:return function(i,u){const c=yr(i.integerValue||i.doubleValue),p=yr(u.integerValue||u.doubleValue);return c<p?-1:c>p?1:c===p?0:isNaN(c)?isNaN(p)?0:-1:1}(n,e);case 3:return lC(n.timestampValue,e.timestampValue);case 4:return lC(tf(n),tf(e));case 5:return Vt(n.stringValue,e.stringValue);case 6:return function(i,u){const c=mu(i),p=mu(u);return c.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(i,u){const c=i.split("/"),p=u.split("/");for(let _=0;_<c.length&&_<p.length;_++){const E=Vt(c[_],p[_]);if(0!==E)return E}return Vt(c.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,u){const c=Vt(yr(i.latitude),yr(u.latitude));return 0!==c?c:Vt(yr(i.longitude),yr(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,u){const c=i.values||[],p=u.values||[];for(let _=0;_<c.length&&_<p.length;++_){const E=vu(c[_],p[_]);if(E)return E}return Vt(c.length,p.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,u){if(i===yu_mapValue&&u===yu_mapValue)return 0;if(i===yu_mapValue)return 1;if(u===yu_mapValue)return-1;const c=i.fields||{},p=Object.keys(c),_=u.fields||{},E=Object.keys(_);p.sort(),E.sort();for(let A=0;A<p.length&&A<E.length;++A){const x=Vt(p[A],E[A]);if(0!==x)return x;const L=vu(c[p[A]],_[E[A]]);if(0!==L)return L}return Vt(p.length,E.length)}(n.mapValue,e.mapValue);default:throw st()}}function lC(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Vt(n,e);const t=gd(n),r=gd(e),i=Vt(t.seconds,r.seconds);return 0!==i?i:Vt(t.nanos,r.nanos)}function md(n){return Q_(n)}function Q_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=gd(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?mu(n.bytesValue).toBase64():"referenceValue"in n?Ke.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",u=!0;for(const c of r.values||[])u?u=!1:i+=",",i+=Q_(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let u="{",c=!0;for(const p of i)c?c=!1:u+=",",u+=`${p}:${Q_(r.fields[p])}`;return u+"}"}(n.mapValue):st();var e}function _d(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function HE(n){return!!n&&"integerValue"in n}function nf(n){return!!n&&"arrayValue"in n}function eA(n){return!!n&&"nullValue"in n}function tA(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function cC(n){return!!n&&"mapValue"in n}function ey(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return gu(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ey(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ey(n.arrayValue.values[t]);return e}return Object.assign({},n)}function nA(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Fi{constructor(e){this.value=e}static empty(){return new Fi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!cC(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ey(t)}setAll(e){let t=_r.emptyPath(),r={},i=[];e.forEach((c,p)=>{if(!t.isImmediateParentOf(p)){const _=this.getFieldsMap(t);this.applyChanges(_,r,i),r={},i=[],t=p.popLast()}c?r[p.lastSegment()]=ey(c):i.push(p.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,i)}delete(e){const t=this.field(e.popLast());cC(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Go(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];cC(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){gu(t,(i,u)=>e[i]=u);for(const i of r)delete e[i]}clone(){return new Fi(ey(this.value))}}function dC(n){const e=[];return gu(n.fields,(t,r)=>{const i=new _r([t]);if(cC(r)){const u=dC(r.mapValue).fields;if(0===u.length)e.push(i);else for(const c of u)e.push(i.child(c))}else e.push(i)}),new Cs(e)}class xn{constructor(e,t,r,i,u,c,p){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=u,this.data=c,this.documentState=p}static newInvalidDocument(e){return new xn(e,0,bt.min(),bt.min(),bt.min(),Fi.empty(),0)}static newFoundDocument(e,t,r,i){return new xn(e,1,t,bt.min(),r,i,0)}static newNoDocument(e,t){return new xn(e,2,t,bt.min(),bt.min(),Fi.empty(),0)}static newUnknownDocument(e,t){return new xn(e,3,t,bt.min(),bt.min(),Fi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(bt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof xn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Cu{constructor(e,t){this.position=e,this.inclusive=t}}function hC(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const u=e[i],c=n.position[i];if(r=u.field.isKeyField()?Ke.comparator(Ke.fromName(c.referenceValue),t.key):vu(c,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function iA(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Go(n.position[t],e.position[t]))return!1;return!0}class Ol{constructor(e,t="asc"){this.field=e,this.dir=t}}function ZE(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class qE{}class en extends qE{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new uA(e,t,r):"array-contains"===t?new hA(e,r):"in"===t?new mC(e,r):"not-in"===t?new $E(e,r):"array-contains-any"===t?new L1(e,r):new en(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new lA(e,r):new cA(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(vu(t,this.value)):null!==t&&Pl(this.value)===Pl(t)&&this.matchesComparison(vu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return st()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Nn extends qE{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Nn(e,t)}matches(e){return Kg(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Kg(n){return"and"===n.op}function pC(n){return function Yg(n){for(const e of n.filters)if(e instanceof Nn)return!1;return!0}(n)&&Kg(n)}function gC(n){if(n instanceof en)return n.field.canonicalString()+n.op.toString()+md(n.value);if(pC(n))return n.filters.map(e=>gC(e)).join(",");{const e=n.filters.map(t=>gC(t)).join(",");return`${n.op}(${e})`}}function sA(n,e){return n instanceof en?(t=n,(r=e)instanceof en&&t.op===r.op&&t.field.isEqual(r.field)&&Go(t.value,r.value)):n instanceof Nn?function(t,r){return r instanceof Nn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,u,c)=>i&&sA(u,r.filters[c]),!0)}(n,e):void st();var t,r}function aA(n){return n instanceof en?`${(e=n).field.canonicalString()} ${e.op} ${md(e.value)}`:n instanceof Nn?function(e){return e.op.toString()+" {"+e.getFilters().map(aA).join(" ,")+"}"}(n):"Filter";var e}class uA extends en{constructor(e,t,r){super(e,t,r),this.key=Ke.fromName(r.referenceValue)}matches(e){const t=Ke.comparator(e.key,this.key);return this.matchesComparison(t)}}class lA extends en{constructor(e,t){super(e,"in",t),this.keys=dA(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class cA extends en{constructor(e,t){super(e,"not-in",t),this.keys=dA(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function dA(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ke.fromName(r.referenceValue))}class hA extends en{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return nf(t)&&zg(t.arrayValue,this.value)}}class mC extends en{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&zg(this.value.arrayValue,t)}}class $E extends en{constructor(e,t){super(e,"not-in",t)}matches(e){if(zg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!zg(this.value.arrayValue,t)}}class L1 extends en{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!nf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>zg(this.value.arrayValue,r))}}class zo{constructor(e,t=null,r=[],i=[],u=null,c=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=u,this.startAt=c,this.endAt=p,this.dt=null}}function _C(n,e=null,t=[],r=[],i=null,u=null,c=null){return new zo(n,e,t,r,i,u,c)}function wu(n){const e=Ye(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>gC(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),jg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>md(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>md(r)).join(",")),e.dt=t}return e.dt}function Jg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!ZE(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!sA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!iA(n.startAt,e.startAt)&&iA(n.endAt,e.endAt)}function rs(n){return Ke.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class bu{constructor(e,t=null,r=[],i=[],u=null,c="F",p=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=u,this.limitType=c,this.startAt=p,this.endAt=_,this.wt=null,this._t=null}}function yd(n){return new bu(n)}function yC(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function vC(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Qg(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function iy(n){return null!==n.collectionGroup}function vd(n){const e=Ye(n);if(null===e.wt){e.wt=[];const t=Qg(e),r=vC(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new Ol(t)),e.wt.push(new Ol(_r.keyField(),"asc"));else{let i=!1;for(const u of e.explicitOrderBy)e.wt.push(u),u.field.isKeyField()&&(i=!0);if(!i){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Ol(_r.keyField(),u))}}}return e.wt}function Li(n){const e=Ye(n);if(!e._t)if("F"===e.limitType)e._t=_C(e.path,e.collectionGroup,vd(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of vd(e))t.push(new Ol(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new Cu(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Cu(e.startAt.position,e.startAt.inclusive):null;e._t=_C(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function CC(n,e){e.getFirstInequalityField(),Qg(n);const t=n.filters.concat([e]);return new bu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function rf(n,e,t){return new bu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function co(n,e){return Jg(Li(n),Li(e))&&n.limitType===e.limitType}function wC(n){return`${wu(Li(n))}|lt:${n.limitType}`}function Xg(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>aA(r)).join(", ")}]`),jg(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>md(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>md(r)).join(",")),`Target(${t})`}(Li(n))}; limitType=${n.limitType})`}function qs(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Ke.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of vd(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,u,c){const p=hC(i,u,c);return i.inclusive?p<=0:p<0}(t.startAt,vd(t),r)||t.endAt&&!function(i,u,c){const p=hC(i,u,c);return i.inclusive?p>=0:p>0}(t.endAt,vd(t),r)));var t,r}function fA(n){return(e,t)=>{let r=!1;for(const i of vd(n)){const u=pA(i,e,t);if(0!==u)return u;r=r||i.field.isKeyField()}return 0}}function pA(n,e,t){const r=n.field.isKeyField()?Ke.comparator(e.key,t.key):function(i,u,c){const p=u.data.field(i),_=c.data.field(i);return null!==p&&null!==_?vu(p,_):st()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return st()}}class Eu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,u]of r)if(this.equalsFn(i,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<i.length;u++)if(this.equalsFn(i[u][0],e))return void(i[u]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){gu(this.inner,(t,r)=>{for(const[i,u]of r)e(i,u)})}isEmpty(){return $g(this.inner)}size(){return this.innerSize}}const gA=new Mn(Ke.comparator);function ws(){return gA}const bC=new Mn(Ke.comparator);function sy(...n){let e=bC;for(const t of n)e=e.insert(t.key,t);return e}function EC(n){let e=bC;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Da(){return oy()}function TC(){return oy()}function oy(){return new Eu(n=>n.toString(),(n,e)=>n.isEqual(e))}const IC=new Mn(Ke.comparator),WE=new Wn(Ke.comparator);function zt(...n){let e=WE;for(const t of n)e=e.add(t);return e}const KE=new Wn(Vt);function DC(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hg(e)?"-0":e}}function em(n){return{integerValue:""+n}}function tm(n,e){return function PE(n){return"number"==typeof n&&Number.isInteger(n)&&!Hg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?em(e):DC(n,e)}class nm{constructor(){this._=void 0}}function mA(n,e,t){return n instanceof sf?function(r,i){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Y_(i)&&(i=Gg(i)),i&&(u.fields.__previous_value__=i),{mapValue:u}}(t,e):n instanceof Cd?_A(n,e):n instanceof af?SC(n,e):function(r,i){const u=AC(r,i),c=JE(u)+JE(r.gt);return HE(u)&&HE(r.gt)?em(c):DC(r.serializer,c)}(n,e)}function YE(n,e,t){return n instanceof Cd?_A(n,e):n instanceof af?SC(n,e):t}function AC(n,e){return n instanceof uf?HE(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class sf extends nm{}class Cd extends nm{constructor(e){super(),this.elements=e}}function _A(n,e){const t=QE(e);for(const r of n.elements)t.some(i=>Go(i,r))||t.push(r);return{arrayValue:{values:t}}}class af extends nm{constructor(e){super(),this.elements=e}}function SC(n,e){let t=QE(e);for(const r of n.elements)t=t.filter(i=>!Go(i,r));return{arrayValue:{values:t}}}class uf extends nm{constructor(e,t){super(),this.serializer=e,this.gt=t}}function JE(n){return yr(n.integerValue||n.doubleValue)}function QE(n){return nf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class V1{constructor(e,t){this.version=e,this.transformResults=t}}class or{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new or}static exists(e){return new or(void 0,e)}static updateTime(e){return new or(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function MC(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class ly{}function rm(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Fl(n.key,or.none()):new wd(n.key,n.data,or.none());{const t=n.data,r=Fi.empty();let i=new Wn(_r.comparator);for(let u of e.fields)if(!i.has(u)){let c=t.field(u);null===c&&u.length>1&&(u=u.popLast(),c=t.field(u)),null===c?r.delete(u):r.set(u,c),i=i.add(u)}return new Wo(n.key,r,new Cs(i.toArray()),or.none())}}function yA(n,e,t){n instanceof wd?function(r,i,u){const c=r.value.clone(),p=eT(r.fieldTransforms,i,u.transformResults);c.setAll(p),i.convertToFoundDocument(u.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Wo?function(r,i,u){if(!MC(r.precondition,i))return void i.convertToUnknownDocument(u.version);const c=eT(r.fieldTransforms,i,u.transformResults),p=i.data;p.setAll(cy(r)),p.setAll(c),i.convertToFoundDocument(u.version,p).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function im(n,e,t,r){return n instanceof wd?function(i,u,c,p){if(!MC(i.precondition,u))return c;const _=i.value.clone(),E=dy(i.fieldTransforms,p,u);return _.setAll(E),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),null}(n,e,t,r):n instanceof Wo?function(i,u,c,p){if(!MC(i.precondition,u))return c;const _=dy(i.fieldTransforms,p,u),E=u.data;return E.setAll(cy(i)),E.setAll(_),u.convertToFoundDocument(u.version,E).setHasLocalMutations(),null===c?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(A=>A.field))}(n,e,t,r):(c=t,MC(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):c);var u,c}function XE(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),u=AC(r.transform,i||null);null!=u&&(null===t&&(t=Fi.empty()),t.set(r.field,u))}return t||null}function kl(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&dd(t,r,(i,u)=>function U1(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Cd&&r instanceof Cd||t instanceof af&&r instanceof af?dd(t.elements,r.elements,Go):t instanceof uf&&r instanceof uf?Go(t.gt,r.gt):t instanceof sf&&r instanceof sf);var t,r}(i,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class wd extends ly{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Wo extends ly{constructor(e,t,r,i,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function cy(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function eT(n,e,t){const r=new Map;wt(n.length===t.length);for(let i=0;i<t.length;i++){const u=n[i],c=u.transform,p=e.data.field(u.field);r.set(u.field,YE(c,p,t[i]))}return r}function dy(n,e,t){const r=new Map;for(const i of n){const u=i.transform,c=t.data.field(i.field);r.set(i.field,mA(u,c,e))}return r}class Fl extends ly{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lf extends ly{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class tT{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const u=this.mutations[i];u.key.isEqual(e.key)&&yA(u,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=im(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=im(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=TC();return this.mutations.forEach(i=>{const u=e.get(i.key),c=u.overlayedDocument;let p=this.applyToLocalView(c,u.mutatedFields);p=t.has(i.key)?null:p;const _=rm(c,p);null!==_&&r.set(i.key,_),c.isValidDocument()||c.convertToNoDocument(bt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),zt())}isEqual(e){return this.batchId===e.batchId&&dd(this.mutations,e.mutations,(t,r)=>kl(t,r))&&dd(this.baseMutations,e.baseMutations,(t,r)=>kl(t,r))}}class nT{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){wt(e.mutations.length===r.length);let i=IC;const u=e.mutations;for(let c=0;c<u.length;c++)i=i.insert(u[c].key,r[c].version);return new nT(e,t,r,i)}}class rT{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class iT{constructor(e,t){this.count=e,this.unchangedNames=t}}var Lr,un;function sT(n){switch(n){default:return st();case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0}}function oT(n){if(void 0===n)return kr("GRPC error has no .code"),le.UNKNOWN;switch(n){case Lr.OK:return le.OK;case Lr.CANCELLED:return le.CANCELLED;case Lr.UNKNOWN:return le.UNKNOWN;case Lr.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case Lr.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case Lr.INTERNAL:return le.INTERNAL;case Lr.UNAVAILABLE:return le.UNAVAILABLE;case Lr.UNAUTHENTICATED:return le.UNAUTHENTICATED;case Lr.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case Lr.NOT_FOUND:return le.NOT_FOUND;case Lr.ALREADY_EXISTS:return le.ALREADY_EXISTS;case Lr.PERMISSION_DENIED:return le.PERMISSION_DENIED;case Lr.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case Lr.ABORTED:return le.ABORTED;case Lr.OUT_OF_RANGE:return le.OUT_OF_RANGE;case Lr.UNIMPLEMENTED:return le.UNIMPLEMENTED;case Lr.DATA_LOSS:return le.DATA_LOSS;default:return st()}}(un=Lr||(Lr={}))[un.OK=0]="OK",un[un.CANCELLED=1]="CANCELLED",un[un.UNKNOWN=2]="UNKNOWN",un[un.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",un[un.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",un[un.NOT_FOUND=5]="NOT_FOUND",un[un.ALREADY_EXISTS=6]="ALREADY_EXISTS",un[un.PERMISSION_DENIED=7]="PERMISSION_DENIED",un[un.UNAUTHENTICATED=16]="UNAUTHENTICATED",un[un.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",un[un.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",un[un.ABORTED=10]="ABORTED",un[un.OUT_OF_RANGE=11]="OUT_OF_RANGE",un[un.UNIMPLEMENTED=12]="UNIMPLEMENTED",un[un.INTERNAL=13]="INTERNAL",un[un.UNAVAILABLE=14]="UNAVAILABLE",un[un.DATA_LOSS=15]="DATA_LOSS";class hy{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return sm}static getOrCreateInstance(){return null===sm&&(sm=new hy),sm}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let sm=null;const vA=new cd([4294967295,4294967295],0);function aT(n){const e=function xC(){return new TextEncoder}().encode(n),t=new DE;return t.update(e),new Uint8Array(t.digest())}function NC(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new cd([t,r],0),new cd([i,u],0)]}class om{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new fy(`Invalid padding: ${t}`);if(r<0)throw new fy(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new fy(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new fy(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=cd.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(cd.fromNumber(r)));return 1===i.compare(vA)&&(i=new cd([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=aT(e),[r,i]=NC(t);for(let u=0;u<this.hashCount;u++){const c=this.Et(r,i,u);if(!this.At(c))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),c=new om(u,i,t);return r.forEach(p=>c.insert(p)),c}insert(e){if(0===this.It)return;const t=aT(e),[r,i]=NC(t);for(let u=0;u<this.hashCount;u++){const c=this.Et(r,i,u);this.Rt(c)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class fy extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class cf{constructor(e,t,r,i,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,bd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new cf(bt.min(),i,new Mn(Vt),ws(),zt())}}class bd{constructor(e,t,r,i,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new bd(r,t,zt(),zt(),zt())}}class py{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class uT{constructor(e,t){this.targetId=e,this.Vt=t}}class CA{constructor(e,t,r=oi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class wA{constructor(){this.St=0,this.Dt=cT(),this.Ct=oi.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=zt(),t=zt(),r=zt();return this.Dt.forEach((i,u)=>{switch(u){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:st()}}),new bd(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=cT()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class bA{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=ws(),this.zt=lT(),this.Wt=new Mn(Vt)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:st()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,u=this.se(r);if(u){const c=u.target;if(rs(c))if(0===i){const p=new Ke(c.path);this.Yt(r,p,xn.newNoDocument(p,bt.min()))}else wt(1===i);else{const p=this.ie(r);if(p!==i){const _=this.re(e,p);0!==_&&(this.ee(r),this.Wt=this.Wt.insert(r,2===_?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=hy.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(E,A,x){var L,j,Q,De,_e,ze;const dt={localCacheCount:A,existenceFilterCount:x.count},Xe=x.unchangedNames;return Xe&&(dt.bloomFilter={applied:0===E,hashCount:null!==(L=Xe?.hashCount)&&void 0!==L?L:0,bitmapLength:null!==(De=null===(Q=null===(j=Xe?.bits)||void 0===j?void 0:j.bitmap)||void 0===Q?void 0:Q.length)&&void 0!==De?De:0,padding:null!==(ze=null===(_e=Xe?.bits)||void 0===_e?void 0:_e.padding)&&void 0!==ze?ze:0}),dt}(_,p,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:u="",padding:c=0},hashCount:p=0}=r;let _,E;try{_=mu(u).toUint8Array()}catch(A){if(A instanceof aC)return Vs("Decoding the base64 bloom filter in existence filter failed ("+A.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw A}try{E=new om(_,c,p)}catch(A){return Vs(A instanceof fy?"BloomFilter error: ":"Applying bloom filter failed: ",A),1}return 0===E.It?1:i!==t-this.oe(e.targetId,E)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(u=>{const c=this.Gt.ue(),p=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.vt(p)||(this.Yt(e,u,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((u,c)=>{const p=this.se(c);if(p){if(u.current&&rs(p.target)){const _=new Ke(p.target.path);null!==this.jt.get(_)||this.ae(c,_)||this.Yt(c,_,xn.newNoDocument(_,e))}u.Mt&&(t.set(c,u.Ot()),u.Ft())}});let r=zt();this.zt.forEach((u,c)=>{let p=!0;c.forEachWhile(_=>{const E=this.se(_);return!E||"TargetPurposeLimboResolution"===E.purpose||(p=!1,!1)}),p&&(r=r.add(u))}),this.jt.forEach((u,c)=>c.setReadTime(e));const i=new cf(e,t,this.Wt,this.jt,r);return this.jt=ws(),this.zt=lT(),this.Wt=new Mn(Vt),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new wA,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Wn(Vt),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Le("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new wA),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function lT(){return new Mn(Ke.comparator)}function cT(){return new Mn(Ke.comparator)}const j1=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),H1=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),Z1=(()=>({and:"AND",or:"OR"}))();class q1{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function dT(n,e){return n.useProto3Json||jg(e)?e:{value:e}}function df(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function EA(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function $1(n,e){return df(n,e.toTimestamp())}function Ur(n){return wt(!!n),bt.fromTimestamp(function(e){const t=gd(e);return new zn(t.seconds,t.nanos)}(n))}function hT(n,e){return(t=n,new an(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function TA(n){const e=an.fromString(n);return wt(my(e)),e}function gy(n,e){return hT(n.databaseId,e.path)}function o(n,e){const t=TA(e);if(t.get(1)!==n.databaseId.projectId)throw new Me(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Me(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ke(h(t))}function a(n,e){return hT(n.databaseId,e)}function d(n){return new an(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function h(n){return wt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function m(n,e,t){return{name:gy(n,e),fields:t.value.mapValue.fields}}function $(n,e){return{documents:[a(n,e.path)]}}function J(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=a(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=a(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(_){if(0!==_.length)return Kn(Nn.create(_,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const u=function(_){if(0!==_.length)return _.map(E=>{return{field:It((A=E).field),direction:pt(A.dir)};var A})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const c=dT(n,e.limit);var p,_;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(p=e.startAt).inclusive,values:p.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function be(n){let e=function l(n){const e=TA(n);return 4===e.length?an.emptyPath():h(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){wt(1===r);const A=t.from[0];A.allDescendants?i=A.collectionId:e=e.child(A.collectionId)}let u=[];t.where&&(u=function(A){const x=We(A);return x instanceof Nn&&pC(x)?x.getFilters():[x]}(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(A=>{return new Ol(tn((x=A).field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction));var x}));let p=null;t.limit&&(p=function(A){let x;return x="object"==typeof A?A.value:A,jg(x)?null:x}(t.limit));let _=null;var A;t.startAt&&(_=new Cu((A=t.startAt).values||[],!!A.before));let E=null;return t.endAt&&(E=function(A){return new Cu(A.values||[],!A.before)}(t.endAt)),function ry(n,e,t,r,i,u,c,p){return new bu(n,e,t,r,i,u,c,p)}(e,i,c,u,p,"F",_,E)}function We(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=tn(e.unaryFilter.field);return en.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=tn(e.unaryFilter.field);return en.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=tn(e.unaryFilter.field);return en.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=tn(e.unaryFilter.field);return en.create(u,"!=",{nullValue:"NULL_VALUE"});default:return st()}}(n):void 0!==n.fieldFilter?en.create(tn((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return st()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Nn.create(e.compositeFilter.filters.map(t=>We(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return st()}}(e.compositeFilter.op))}(n):st();var e}function pt(n){return j1[n]}function Pt(n){return H1[n]}function Re(n){return Z1[n]}function It(n){return{fieldPath:n.canonicalString()}}function tn(n){return _r.fromServerFormat(n.fieldPath)}function Kn(n){return n instanceof en?function(e){if("=="===e.op){if(tA(e.value))return{unaryFilter:{field:It(e.field),op:"IS_NAN"}};if(eA(e.value))return{unaryFilter:{field:It(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(tA(e.value))return{unaryFilter:{field:It(e.field),op:"IS_NOT_NAN"}};if(eA(e.value))return{unaryFilter:{field:It(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:It(e.field),op:Pt(e.op),value:e.value}}}(n):n instanceof Nn?function(e){const t=e.getFilters().map(r=>Kn(r));return 1===t.length?t[0]:{compositeFilter:{op:Re(e.op),filters:t}}}(n):st()}function Ed(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function my(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Ko{constructor(e,t,r,i,u=bt.min(),c=bt.min(),p=oi.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(e){return new Ko(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ko(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ko(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ko(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class _y{constructor(e){this.fe=e}}function IA(n){const e=be({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?rf(e,e.limit,"L"):e}class am{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(yr(e.integerValue));else if("doubleValue"in e){const r=yr(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),Hg(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(mu(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?nA(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):st()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),Ke.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}am.Ve=new am;class fO{constructor(){this.rn=new NA}addToCollectionParentIndex(e,t){return this.rn.add(t),se.resolve()}getCollectionParents(e,t){return se.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return se.resolve()}deleteFieldIndex(e,t){return se.resolve()}getDocumentsMatchingTarget(e,t){return se.resolve(null)}getIndexType(e,t){return se.resolve(0)}getFieldIndexes(e,t){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,t){return se.resolve(js.min())}getMinOffsetFromCollectionGroup(e,t){return se.resolve(js.min())}updateCollectionGroup(e,t,r){return se.resolve()}updateIndexEntries(e,t){return se.resolve()}}class NA{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Wn(an.comparator),u=!i.has(r);return this.index[t]=i.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Wn(an.comparator)).toArray()}}class bs{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new bs(e,bs.DEFAULT_COLLECTION_PERCENTILE,bs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}bs.DEFAULT_COLLECTION_PERCENTILE=10,bs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bs.DEFAULT=new bs(41943040,bs.DEFAULT_COLLECTION_PERCENTILE,bs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bs.DISABLED=new bs(-1,0,0);class lm{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new lm(0)}static Mn(){return new lm(-1)}}class wO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class _x{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&im(r.mutation,i,Cs.empty(),zn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,zt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=zt()){const i=Da();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(u=>{let c=sy();return u.forEach((p,_)=>{c=c.insert(p,_.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=Da();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,zt()))}populateOverlays(e,t,r){const i=[];return r.forEach(u=>{t.has(u)||i.push(u)}),this.documentOverlayCache.getOverlays(e,i).next(u=>{u.forEach((c,p)=>{t.set(c,p)})})}computeViews(e,t,r,i){let u=ws();const c=oy(),p=oy();return t.forEach((_,E)=>{const A=r.get(E.key);i.has(E.key)&&(void 0===A||A.mutation instanceof Wo)?u=u.insert(E.key,E):void 0!==A?(c.set(E.key,A.mutation.getFieldMask()),im(A.mutation,E,A.mutation.getFieldMask(),zn.now())):c.set(E.key,Cs.empty())}),this.recalculateAndSaveOverlays(e,u).next(_=>(_.forEach((E,A)=>c.set(E,A)),t.forEach((E,A)=>{var x;return p.set(E,new wO(A,null!==(x=c.get(E))&&void 0!==x?x:null))}),p))}recalculateAndSaveOverlays(e,t){const r=oy();let i=new Mn((c,p)=>c-p),u=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const p of c)p.keys().forEach(_=>{const E=t.get(_);if(null===E)return;let A=r.get(_)||Cs.empty();A=p.applyToLocalView(E,A),r.set(_,A);const x=(i.get(p.batchId)||zt()).add(_);i=i.insert(p.batchId,x)})}).next(()=>{const c=[],p=i.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),E=_.key,A=_.value,x=TC();A.forEach(L=>{if(!u.has(L)){const j=rm(t.get(L),r.get(L));null!==j&&x.set(L,j),u=u.add(L)}}),c.push(this.documentOverlayCache.saveOverlays(e,E,x))}return se.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Ke.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):iy(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(u=>{const c=i-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-u.size):se.resolve(Da());let p=-1,_=u;return c.next(E=>se.forEach(E,(A,x)=>(p<x.largestBatchId&&(p=x.largestBatchId),u.get(A)?se.resolve():this.remoteDocumentCache.getEntry(e,A).next(L=>{_=_.insert(A,L)}))).next(()=>this.populateOverlays(e,E,u)).next(()=>this.computeViews(e,_,E,zt())).next(A=>({batchId:p,changes:EC(A)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ke(t)).next(r=>{let i=sy();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let u=sy();return this.indexManager.getCollectionParents(e,i).next(c=>se.forEach(c,p=>{const _=(E=t,A=p.child(i),new bu(A,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt));var E,A;return this.getDocumentsMatchingCollectionQuery(e,_,r).next(E=>{E.forEach((A,x)=>{u=u.insert(A,x)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(i=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(u=>{i.forEach((p,_)=>{const E=_.getKey();null===u.get(E)&&(u=u.insert(E,xn.newInvalidDocument(E)))});let c=sy();return u.forEach((p,_)=>{const E=i.get(p);void 0!==E&&im(E.mutation,_,Cs.empty(),zn.now()),qs(t,_)&&(c=c.insert(p,_))}),c})}}class bO{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return se.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:Ur(r.createTime)}),se.resolve()}getNamedQuery(e,t){return se.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:IA(r.bundledQuery),readTime:Ur(r.readTime)}),se.resolve();var r}}class EO{constructor(){this.overlays=new Mn(Ke.comparator),this.ls=new Map}getOverlay(e,t){return se.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Da();return se.forEach(t,i=>this.getOverlay(e,i).next(u=>{null!==u&&r.set(i,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,u)=>{this.we(e,t,u)}),se.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(u=>this.overlays=this.overlays.remove(u)),this.ls.delete(r)),se.resolve()}getOverlaysForCollection(e,t,r){const i=Da(),u=t.length+1,c=new Ke(t.child("")),p=this.overlays.getIteratorFrom(c);for(;p.hasNext();){const _=p.getNext().value,E=_.getKey();if(!t.isPrefixOf(E.path))break;E.path.length===u&&_.largestBatchId>r&&i.set(_.getKey(),_)}return se.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let u=new Mn((E,A)=>E-A);const c=this.overlays.getIterator();for(;c.hasNext();){const E=c.getNext().value;if(E.getKey().getCollectionGroup()===t&&E.largestBatchId>r){let A=u.get(E.largestBatchId);null===A&&(A=Da(),u=u.insert(E.largestBatchId,A)),A.set(E.getKey(),E)}}const p=Da(),_=u.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((E,A)=>p.set(E,A)),!(p.size()>=i)););return se.resolve(p)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const c=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new rT(t,r));let u=this.ls.get(t);void 0===u&&(u=zt(),this.ls.set(t,u)),this.ls.set(t,u.add(r.key))}}class RA{constructor(){this.fs=new Wn(Ui.ds),this.ws=new Wn(Ui._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new Ui(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new Ui(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new Ke(new an([])),r=new Ui(t,e),i=new Ui(t,e+1),u=[];return this.ws.forEachInRange([r,i],c=>{this.ys(c),u.push(c.key)}),u}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Ke(new an([])),r=new Ui(t,e),i=new Ui(t,e+1);let u=zt();return this.ws.forEachInRange([r,i],c=>{u=u.add(c.key)}),u}containsKey(e){const t=new Ui(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ui{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Ke.comparator(e.key,t.key)||Vt(e.As,t.As)}static _s(e,t){return Vt(e.As,t.As)||Ke.comparator(e.key,t.key)}}class TO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Wn(Ui.ds)}checkEmpty(e){return se.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const u=this.vs;this.vs++;const c=new tT(u,t,r,i);this.mutationQueue.push(c);for(const p of i)this.Rs=this.Rs.add(new Ui(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return se.resolve(c)}lookupMutationBatch(e,t){return se.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),u=i<0?0:i;return se.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ui(t,0),i=new Ui(t,Number.POSITIVE_INFINITY),u=[];return this.Rs.forEachInRange([r,i],c=>{const p=this.Ps(c.As);u.push(p)}),se.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Wn(Vt);return t.forEach(i=>{const u=new Ui(i,0),c=new Ui(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([u,c],p=>{r=r.add(p.As)})}),se.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let u=r;Ke.isDocumentKey(u)||(u=u.child(""));const c=new Ui(new Ke(u),0);let p=new Wn(Vt);return this.Rs.forEachWhile(_=>{const E=_.key.path;return!!r.isPrefixOf(E)&&(E.length===i&&(p=p.add(_.As)),!0)},c),se.resolve(this.Vs(p))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){wt(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return se.forEach(t.mutations,i=>{const u=new Ui(i.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new Ui(t,0),i=this.Rs.firstAfterOrEqual(r);return se.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return se.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class IO{constructor(e){this.Ds=e,this.docs=new Mn(Ke.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),u=i?i.size:0,c=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return se.resolve(r?r.document.mutableCopy():xn.newInvalidDocument(t))}getEntries(e,t){let r=ws();return t.forEach(i=>{const u=this.docs.get(i);r=r.insert(i,u?u.document.mutableCopy():xn.newInvalidDocument(i))}),se.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let u=ws();const c=t.path,p=new Ke(c.child("")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:E,value:{document:A}}=_.getNext();if(!c.isPrefixOf(E.path))break;E.path.length>c.length+1||K0(NE(A),r)<=0||(i.has(A.key)||qs(t,A))&&(u=u.insert(A.key,A.mutableCopy()))}return se.resolve(u)}getAllFromCollectionGroup(e,t,r,i){st()}Cs(e,t){return se.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new DO(this)}getSize(e){return se.resolve(this.size)}}class DO extends class hx{constructor(){this.changes=new Eu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,xn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?se.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),se.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class AO{constructor(e){this.persistence=e,this.xs=new Eu(t=>wu(t),Jg),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new RA,this.targetCount=0,this.Ms=lm.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),se.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new lm(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,se.resolve()}updateTargetData(e,t){return this.Fn(t),se.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,t,r){let i=0;const u=[];return this.xs.forEach((c,p)=>{p.sequenceNumber<=t&&null===r.get(p.targetId)&&(this.xs.delete(c),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),i++)}),se.waitFor(u).next(()=>i)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return se.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),se.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,u=[];return i&&t.forEach(c=>{u.push(i.markPotentiallyOrphaned(e,c))}),se.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),se.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return se.resolve(r)}containsKey(e,t){return se.resolve(this.ks.containsKey(t))}}class PA{constructor(e,t){this.$s={},this.overlays={},this.Os=new Zs(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new AO(this),this.indexManager=new fO,this.remoteDocumentCache=new IO(r=>this.referenceDelegate.Ls(r)),this.serializer=new _y(t),this.qs=new bO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new EO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new TO(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){Le("MemoryPersistence","Starting transaction:",e);const i=new SO(this.Os.next());return this.referenceDelegate.Us(),r(i).next(u=>this.referenceDelegate.Ks(i).next(()=>u)).toPromise().then(u=>(i.raiseOnCommittedEvent(),u))}Gs(e,t){return se.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class SO extends class Ug{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class CT{constructor(e){this.persistence=e,this.Qs=new RA,this.js=null}static zs(e){return new CT(e)}get Ws(){if(this.js)return this.js;throw st()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),se.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),se.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),se.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(u=>this.Ws.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.Ws,r=>{const i=Ke.fromPath(r);return this.Hs(e,i).next(u=>{u||t.removeEntry(i,bt.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return se.or([()=>se.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class LA{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=zt(),i=zt();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}return new LA(e,t.fromCache,r,i)}}class vx{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(u=>u||this.Gi(e,t,i,r)).next(u=>u||this.Qi(e,t))}Ki(e,t){if(yC(t))return se.resolve(null);let r=Li(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=rf(t,null,"F"),r=Li(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const c=zt(...u);return this.Ui.getDocuments(e,c).next(p=>this.indexManager.getMinOffset(e,r).next(_=>{const E=this.ji(t,p);return this.zi(t,E,c,_.readTime)?this.Ki(e,rf(t,null,"F")):this.Wi(e,E,t,_)}))})))}Gi(e,t,r,i){return yC(t)||i.isEqual(bt.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(u=>{const c=this.ji(t,u);return this.zi(t,c,r,i)?this.Qi(e,t):(q0()<=Yc.in.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Xg(t)),this.Wi(e,c,t,function Xh(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=bt.fromTimestamp(1e9===r?new zn(t+1,0):new zn(t,r));return new js(i,Ke.empty(),e)}(i,-1)))})}ji(e,t){let r=new Wn(fA(e));return t.forEach((i,u)=>{qs(e,u)&&(r=r.add(u))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(i)>0)}Qi(e,t){return q0()<=Yc.in.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",Xg(t)),this.Ui.getDocumentsMatchingQuery(e,t,js.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(u=>(t.forEach(c=>{u=u.insert(c.key,c)}),u))}}class xO{constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new Mn(Vt),this.Yi=new Eu(u=>wu(u),Jg),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _x(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function wx(n,e){return UA.apply(this,arguments)}function UA(){return UA=(0,fe.Z)(function*(n,e){const t=Ye(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(u=>(i=u,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const c=[],p=[];let _=zt();for(const E of i){c.push(E.batchId);for(const A of E.mutations)_=_.add(A.key)}for(const E of u){p.push(E.batchId);for(const A of E.mutations)_=_.add(A.key)}return t.localDocuments.getDocuments(r,_).next(E=>({er:E,removedBatchIds:c,addedBatchIds:p}))})})}),UA.apply(this,arguments)}function NO(n,e){const t=Ye(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),u=t.Zi.newChangeBuffer({trackRemovals:!0});return function(c,p,_,E){const A=_.batch,x=A.keys();let L=se.resolve();return x.forEach(j=>{L=L.next(()=>E.getEntry(p,j)).next(Q=>{const De=_.docVersions.get(j);wt(null!==De),Q.version.compareTo(De)<0&&(A.applyToRemoteDocument(Q,_),Q.isValidDocument()&&(Q.setReadTime(_.commitVersion),E.addEntry(Q)))})}),L.next(()=>c.mutationQueue.removeMutationBatch(p,A))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let p=zt();for(let _=0;_<c.mutationResults.length;++_)c.mutationResults[_].transformResults.length>0&&(p=p.add(c.batch.mutations[_].key));return p}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function bx(n){const e=Ye(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function RO(n,e){const t=Ye(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const c=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const p=[];e.targetChanges.forEach((A,x)=>{const L=i.get(x);if(!L)return;p.push(t.Bs.removeMatchingKeys(u,A.removedDocuments,x).next(()=>t.Bs.addMatchingKeys(u,A.addedDocuments,x)));let j=L.withSequenceNumber(u.currentSequenceNumber);var Q,De,_e;null!==e.targetMismatches.get(x)?j=j.withResumeToken(oi.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):A.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(A.resumeToken,r)),i=i.insert(x,j),De=j,_e=A,(0===(Q=L).resumeToken.approximateByteSize()||De.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=3e8||_e.addedDocuments.size+_e.modifiedDocuments.size+_e.removedDocuments.size>0)&&p.push(t.Bs.updateTargetData(u,j))});let _=ws(),E=zt();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(u,A))}),p.push(function Ex(n,e,t){let r=zt(),i=zt();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let c=ws();return t.forEach((p,_)=>{const E=u.get(p);_.isFoundDocument()!==E.isFoundDocument()&&(i=i.add(p)),_.isNoDocument()&&_.version.isEqual(bt.min())?(e.removeEntry(p,_.readTime),c=c.insert(p,_)):!E.isValidDocument()||_.version.compareTo(E.version)>0||0===_.version.compareTo(E.version)&&E.hasPendingWrites?(e.addEntry(_),c=c.insert(p,_)):Le("LocalStore","Ignoring outdated watch update for ",p,". Current version:",E.version," Watch version:",_.version)}),{nr:c,sr:i}})}(u,c,e.documentUpdates).next(A=>{_=A.nr,E=A.sr})),!r.isEqual(bt.min())){const A=t.Bs.getLastRemoteSnapshotVersion(u).next(x=>t.Bs.setTargetsMetadata(u,u.currentSequenceNumber,r));p.push(A)}return se.waitFor(p).next(()=>c.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,_,E)).next(()=>_)}).then(u=>(t.Ji=i,u))}function PO(n,e){const t=Ye(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function wy(n,e){const t=Ye(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(u=>u?(i=u,se.resolve(i)):t.Bs.allocateTargetId(r).next(c=>(i=new Ko(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}function by(n,e,t){return VA.apply(this,arguments)}function VA(){return VA=(0,fe.Z)(function*(n,e,t){const r=Ye(n),i=r.Ji.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!Rl(c))throw c;Le("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),VA.apply(this,arguments)}function ET(n,e,t){const r=Ye(n);let i=bt.min(),u=zt();return r.persistence.runTransaction("Execute query","readonly",c=>function(p,_,E){const A=Ye(p),x=A.Yi.get(E);return void 0!==x?se.resolve(A.Ji.get(x)):A.Bs.getTargetData(_,E)}(r,c,Li(e)).next(p=>{if(p)return i=p.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(c,p.targetId).next(_=>{u=_})}).next(()=>r.Hi.getDocumentsMatchingQuery(c,e,t?i:bt.min(),t?u:zt())).next(p=>(function Dx(n,e,t){let r=n.Xi.get(e)||bt.min();t.forEach((i,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Xi.set(e,r)}(r,function zE(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),p),{documents:p,ir:u})))}class qA{constructor(){this.activeTargetIds=function ay(){return KE}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Mx{constructor(){this.Hr=new qA,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new qA,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class FO{Yr(e){}shutdown(){}}class xx{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let DT=null;function GA(){return null===DT?DT=268435456+Math.round(2147483648*Math.random()):DT++,"0x"+DT.toString(16)}const LO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class UO{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Es="WebChannelConnection";class VO extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,u){const c=GA(),p=this.To(e,t);Le("RestConnection",`Sending RPC '${e}' ${c}:`,p,r);const _={};return this.Eo(_,i,u),this.Ao(e,p,_,r).then(E=>(Le("RestConnection",`Received RPC '${e}' ${c}: `,E),E),E=>{throw Vs("RestConnection",`RPC '${e}' ${c} failed with error: `,E,"url: ",p,"request:",r),E})}vo(e,t,r,i,u,c){return this.Io(e,t,r,i,u)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Qh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,u)=>e[u]=i),r&&r.headers.forEach((i,u)=>e[u]=i)}To(e,t){return`${this.mo}/v1/${t}:${LO[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const u=GA();return new Promise((c,p)=>{const _=new H0;_.setWithCredentials(!0),_.listenOnce(j0.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case H_.NO_ERROR:const A=_.getResponseJson();Le(Es,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(A)),c(A);break;case H_.TIMEOUT:Le(Es,`RPC '${e}' ${u} timed out`),p(new Me(le.DEADLINE_EXCEEDED,"Request time out"));break;case H_.HTTP_ERROR:const x=_.getStatus();if(Le(Es,`RPC '${e}' ${u} failed with status:`,x,"response text:",_.getResponseText()),x>0){let L=_.getResponseJson();Array.isArray(L)&&(L=L[0]);const j=L?.error;if(j&&j.status&&j.message){const Q=function(De){const _e=De.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(_e)>=0?_e:le.UNKNOWN}(j.status);p(new Me(Q,j.message))}else p(new Me(le.UNKNOWN,"Server responded with status "+_.getStatus()))}else p(new Me(le.UNAVAILABLE,"Connection failed."));break;default:st()}}finally{Le(Es,`RPC '${e}' ${u} completed.`)}});const E=JSON.stringify(i);Le(Es,`RPC '${e}' ${u} sending request:`,i),_.send(t,"POST",E,r,15)})}Ro(e,t,r){const i=GA(),u=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=kD(),p=x1(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;void 0!==E&&(_.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(_.xmlHttpFactory=new LD({})),this.Eo(_.initMessageHeaders,t,r),_.encodeInitMessageHeaders=!0;const A=u.join("");Le(Es,`Creating RPC '${e}' stream ${i}: ${A}`,_);const x=c.createWebChannel(A,_);let L=!1,j=!1;const Q=new UO({ro:_e=>{j?Le(Es,`Not sending because RPC '${e}' stream ${i} is closed:`,_e):(L||(Le(Es,`Opening RPC '${e}' stream ${i} transport.`),x.open(),L=!0),Le(Es,`RPC '${e}' stream ${i} sending:`,_e),x.send(_e))},oo:()=>x.close()}),De=(_e,ze,dt)=>{_e.listen(ze,Xe=>{try{dt(Xe)}catch(gt){setTimeout(()=>{throw gt},0)}})};return De(x,Fg.EventType.OPEN,()=>{j||Le(Es,`RPC '${e}' stream ${i} transport opened.`)}),De(x,Fg.EventType.CLOSE,()=>{j||(j=!0,Le(Es,`RPC '${e}' stream ${i} transport closed`),Q.wo())}),De(x,Fg.EventType.ERROR,_e=>{j||(j=!0,Vs(Es,`RPC '${e}' stream ${i} transport errored:`,_e),Q.wo(new Me(le.UNAVAILABLE,"The operation could not be completed")))}),De(x,Fg.EventType.MESSAGE,_e=>{var ze;if(!j){const dt=_e.data[0];wt(!!dt);const Xe=dt,gt=Xe.error||(null===(ze=Xe[0])||void 0===ze?void 0:ze.error);if(gt){Le(Es,`RPC '${e}' stream ${i} received error:`,gt);const Zt=gt.status;let Jt=function(Xo){const Vy=Lr[Xo];if(void 0!==Vy)return oT(Vy)}(Zt),ui=gt.message;void 0===Jt&&(Jt=le.INTERNAL,ui="Unknown error status: "+Zt+" with message "+gt.message),j=!0,Q.wo(new Me(Jt,ui)),x.close()}else Le(Es,`RPC '${e}' stream ${i} received:`,dt),Q._o(dt)}}),De(p,FD.STAT_EVENT,_e=>{_e.stat===Z_.PROXY?Le(Es,`RPC '${e}' stream ${i} detected buffering proxy`):_e.stat===Z_.NOPROXY&&Le(Es,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{Q.fo()},0),Q}}function AT(){return typeof document<"u"?document:null}function jC(n){return new q1(n,!0)}class zA{constructor(e,t,r=1e3,i=1.5,u=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=u,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&Le("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Rx{constructor(e,t,r,i,u,c,p,_){this.ii=e,this.$o=r,this.Oo=i,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new zA(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,fe.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,fe.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,fe.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===le.RESOURCE_EXHAUSTED?(kr(t.toString()),kr("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===le.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new Me(le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No((0,fe.Z)(function*(){e.state=0,e.start()}))}tu(e){return Le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class BO extends Rx{constructor(e,t,r,i,u,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.serializer=u}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function I(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:st(),i=e.targetChange.targetIds||[],u=function(_,E){return _.useProto3Json?(wt(void 0===E||"string"==typeof E),oi.fromBase64String(E||"")):(wt(void 0===E||E instanceof Uint8Array),oi.fromUint8Array(E||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,p=c&&function(_){const E=void 0===_.code?le.UNKNOWN:oT(_.code);return new Me(E,_.message||"")}(c);t=new CA(r,i,u,p||null)}else if("documentChange"in e){const r=e.documentChange,i=o(n,r.document.name),u=Ur(r.document.updateTime),c=r.document.createTime?Ur(r.document.createTime):bt.min(),p=new Fi({mapValue:{fields:r.document.fields}}),_=xn.newFoundDocument(i,u,c,p);t=new py(r.targetIds||[],r.removedTargetIds||[],_.key,_)}else if("documentDelete"in e){const r=e.documentDelete,i=o(n,r.document),u=r.readTime?Ur(r.readTime):bt.min(),c=xn.newNoDocument(i,u);t=new py([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=o(n,r.document);t=new py([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return st();{const r=e.filter,{count:i=0,unchangedNames:u}=r,c=new iT(i,u);t=new uT(r.targetId,c)}}var _;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return bt.min();const u=i.targetChange;return u.targetIds&&u.targetIds.length?bt.min():u.readTime?Ur(u.readTime):bt.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=d(this.serializer),t.addTarget=function(i,u){let c;const p=u.target;if(c=rs(p)?{documents:$(i,p)}:{query:J(i,p)},c.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){c.resumeToken=EA(i,u.resumeToken);const _=dT(i,u.expectedCount);null!==_&&(c.expectedCount=_)}else if(u.snapshotVersion.compareTo(bt.min())>0){c.readTime=df(i,u.snapshotVersion.toTimestamp());const _=dT(i,u.expectedCount);null!==_&&(c.expectedCount=_)}return c}(this.serializer,e);const r=function Ve(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return st()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=d(this.serializer),t.removeTarget=e,this.Wo(t)}}class jO extends Rx{constructor(e,t,r,i,u,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.serializer=u,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(wt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function k(n,e){return n&&n.length>0?(wt(void 0!==e),n.map(t=>function(r,i){let u=Ur(r.updateTime?r.updateTime:i);return u.isEqual(bt.min())&&(u=Ur(i)),new V1(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Ur(e.commitTime);return this.listener.cu(r,t)}return wt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=d(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function S(n,e){let t;if(e instanceof wd)t={update:m(n,e.key,e.value)};else if(e instanceof Fl)t={delete:gy(n,e.key)};else if(e instanceof Wo)t={update:m(n,e.key,e.data),updateMask:Ed(e.fieldMask)};else{if(!(e instanceof lf))return st();t={verify:gy(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,u){const c=u.transform;if(c instanceof sf)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Cd)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof af)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof uf)return{fieldPath:u.field.canonicalString(),increment:c.gt};throw st()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:$1(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:st()),t;var i}(this.serializer,r))};this.Wo(t)}}class HO extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new Me(le.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,u])=>this.connection.Io(e,t,r,i,u)).catch(i=>{throw"FirebaseError"===i.name?(i.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Me(le.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,c])=>this.connection.vo(e,t,r,u,c,i)).catch(u=>{throw"FirebaseError"===u.name?(u.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Me(le.UNKNOWN,u.toString())})}terminate(){this.lu=!0}}class qO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(kr(t),this.mu=!1):Le("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class $O{constructor(e,t,r,i,u){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=u,this.Pu.Yr(p=>{r.enqueueAndForget((0,fe.Z)(function*(){var _;mf(c)&&(Le("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,fe.Z)(function*(E){const A=Ye(E);A.vu.add(4),yield Ey(A),A.bu.set("Unknown"),A.vu.delete(4),yield HC(A)}),function(E){return _.apply(this,arguments)})(c))}))}),this.bu=new qO(r,i)}}function HC(n){return KA.apply(this,arguments)}function KA(){return KA=(0,fe.Z)(function*(n){if(mf(n))for(const e of n.Ru)yield e(!0)}),KA.apply(this,arguments)}function Ey(n){return YA.apply(this,arguments)}function YA(){return YA=(0,fe.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),YA.apply(this,arguments)}function ST(n,e){const t=Ye(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),XA(t)?QA(t):Iy(t).Ko()&&JA(t,e))}function ZC(n,e){const t=Ye(n),r=Iy(t);t.Au.delete(e),r.Ko()&&Px(t,e),0===t.Au.size&&(r.Ko()?r.jo():mf(t)&&t.bu.set("Unknown"))}function JA(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(bt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Iy(n).su(e)}function Px(n,e){n.Vu.qt(e),Iy(n).iu(e)}function QA(n){n.Vu=new bA({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),Iy(n).start(),n.bu.gu()}function XA(n){return mf(n)&&!Iy(n).Uo()&&n.Au.size>0}function mf(n){return 0===Ye(n).vu.size}function Ox(n){n.Vu=void 0}function GO(n){return eS.apply(this,arguments)}function eS(){return eS=(0,fe.Z)(function*(n){n.Au.forEach((e,t)=>{JA(n,e)})}),eS.apply(this,arguments)}function zO(n,e){return tS.apply(this,arguments)}function tS(){return tS=(0,fe.Z)(function*(n,e){Ox(n),XA(n)?(n.bu.Iu(e),QA(n)):n.bu.set("Unknown")}),tS.apply(this,arguments)}function WO(n,e,t){return nS.apply(this,arguments)}function nS(){return nS=(0,fe.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof CA&&2===e.state&&e.cause)try{yield(r=(0,fe.Z)(function*(i,u){const c=u.cause;for(const p of u.targetIds)i.Au.has(p)&&(yield i.remoteSyncer.rejectListen(p,c),i.Au.delete(p),i.Vu.removeTarget(p))}),function(i,u){return r.apply(this,arguments)})(n,e)}catch(r){Le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield MT(n,r)}else if(e instanceof py?n.Vu.Ht(e):e instanceof uT?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(bt.min()))try{const r=yield bx(n.localStore);t.compareTo(r)>=0&&(yield function(i,u){const c=i.Vu.ce(u);return c.targetChanges.forEach((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const E=i.Au.get(_);E&&i.Au.set(_,E.withResumeToken(p.resumeToken,u))}}),c.targetMismatches.forEach((p,_)=>{const E=i.Au.get(p);if(!E)return;i.Au.set(p,E.withResumeToken(oi.EMPTY_BYTE_STRING,E.snapshotVersion)),Px(i,p);const A=new Ko(E.target,p,_,E.sequenceNumber);JA(i,A)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){Le("RemoteStore","Failed to raise snapshot:",r),yield MT(n,r)}var r}),nS.apply(this,arguments)}function MT(n,e,t){return rS.apply(this,arguments)}function rS(){return rS=(0,fe.Z)(function*(n,e,t){if(!Rl(e))throw e;n.vu.add(1),yield Ey(n),n.bu.set("Offline"),t||(t=()=>bx(n.localStore)),n.asyncQueue.enqueueRetryable((0,fe.Z)(function*(){Le("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield HC(n)}))}),rS.apply(this,arguments)}function kx(n,e){return e().catch(t=>MT(n,t,e))}function Ty(n){return iS.apply(this,arguments)}function iS(){return iS=(0,fe.Z)(function*(n){const e=Ye(n),t=_f(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;KO(e);)try{const i=yield PO(e.localStore,r);if(null===i){0===e.Eu.length&&t.jo();break}r=i.batchId,YO(e,i)}catch(i){yield MT(e,i)}Fx(e)&&Lx(e)}),iS.apply(this,arguments)}function KO(n){return mf(n)&&n.Eu.length<10}function YO(n,e){n.Eu.push(e);const t=_f(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function Fx(n){return mf(n)&&!_f(n).Uo()&&n.Eu.length>0}function Lx(n){_f(n).start()}function JO(n){return sS.apply(this,arguments)}function sS(){return sS=(0,fe.Z)(function*(n){_f(n).hu()}),sS.apply(this,arguments)}function QO(n){return oS.apply(this,arguments)}function oS(){return oS=(0,fe.Z)(function*(n){const e=_f(n);for(const t of n.Eu)e.uu(t.mutations)}),oS.apply(this,arguments)}function XO(n,e,t){return aS.apply(this,arguments)}function aS(){return aS=(0,fe.Z)(function*(n,e,t){const r=n.Eu.shift(),i=nT.from(r,e,t);yield kx(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Ty(n)}),aS.apply(this,arguments)}function ek(n,e){return uS.apply(this,arguments)}function uS(){return uS=(0,fe.Z)(function*(n,e){var t;e&&_f(n).ou&&(yield(t=(0,fe.Z)(function*(r,i){if(sT(u=i.code)&&u!==le.ABORTED){const c=r.Eu.shift();_f(r).Qo(),yield kx(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield Ty(r)}var u}),function(r,i){return t.apply(this,arguments)})(n,e)),Fx(n)&&Lx(n)}),uS.apply(this,arguments)}function Ux(n,e){return lS.apply(this,arguments)}function lS(){return lS=(0,fe.Z)(function*(n,e){const t=Ye(n);t.asyncQueue.verifyOperationInProgress(),Le("RemoteStore","RemoteStore received new credentials");const r=mf(t);t.vu.add(3),yield Ey(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield HC(t)}),lS.apply(this,arguments)}function dS(){return dS=(0,fe.Z)(function*(n,e){const t=Ye(n);e?(t.vu.delete(2),yield HC(t)):e||(t.vu.add(2),yield Ey(t),t.bu.set("Unknown"))}),dS.apply(this,arguments)}function Iy(n){return n.Su||(n.Su=function(e,t,r){const i=Ye(e);return i.fu(),new BO(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:GO.bind(null,n),ao:zO.bind(null,n),nu:WO.bind(null,n)}),n.Ru.push(function(){var e=(0,fe.Z)(function*(t){t?(n.Su.Qo(),XA(n)?QA(n):n.bu.set("Unknown")):(yield n.Su.stop(),Ox(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function _f(n){return n.Du||(n.Du=function(e,t,r){const i=Ye(e);return i.fu(),new jO(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:JO.bind(null,n),ao:ek.bind(null,n),au:QO.bind(null,n),cu:XO.bind(null,n)}),n.Ru.push(function(){var e=(0,fe.Z)(function*(t){t?(n.Du.Qo(),yield Ty(n)):(yield n.Du.stop(),n.Eu.length>0&&(Le("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class hS{constructor(e,t,r,i,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=u,this.deferred=new Wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,u){const c=Date.now()+r,p=new hS(e,t,c,i,u);return p.start(r),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Me(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dy(n,e){if(kr("AsyncQueue",`${e}: ${n}`),Rl(n))return new Me(le.UNAVAILABLE,`${e}: ${n}`);throw n}class Ay{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ke.comparator(t.key,r.key):(t,r)=>Ke.comparator(t.key,r.key),this.keyedMap=sy(),this.sortedSet=new Mn(this.comparator)}static emptySet(e){return new Ay(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ay)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(!i.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Ay;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class Vx{constructor(){this.Cu=new Mn(Ke.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):st():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Sy{constructor(e,t,r,i,u,c,p,_,E){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=E}static fromInitialDocuments(e,t,r,i,u){const c=[];return t.forEach(p=>{c.push({type:0,doc:p})}),new Sy(e,t,Ay.emptySet(t),c,r,i,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&co(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class tk{constructor(){this.Nu=void 0,this.listeners=[]}}class nk{constructor(){this.queries=new Eu(e=>wC(e),co),this.onlineState="Unknown",this.ku=new Set}}function fS(n,e){return pS.apply(this,arguments)}function pS(){return pS=(0,fe.Z)(function*(n,e){const t=Ye(n),r=e.query;let i=!1,u=t.queries.get(r);if(u||(i=!0,u=new tk),i)try{u.Nu=yield t.onListen(r)}catch(c){const p=Dy(c,`Initialization of query '${Xg(e.query)}' failed`);return void e.onError(p)}t.queries.set(r,u),u.listeners.push(e),e.Mu(t.onlineState),u.Nu&&e.$u(u.Nu)&&_S(t)}),pS.apply(this,arguments)}function gS(n,e){return mS.apply(this,arguments)}function mS(){return mS=(0,fe.Z)(function*(n,e){const t=Ye(n),r=e.query;let i=!1;const u=t.queries.get(r);if(u){const c=u.listeners.indexOf(e);c>=0&&(u.listeners.splice(c,1),i=0===u.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),mS.apply(this,arguments)}function rk(n,e){const t=Ye(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const p of c.listeners)p.$u(i)&&(r=!0);c.Nu=i}}r&&_S(t)}function ik(n,e,t){const r=Ye(n),i=r.queries.get(e);if(i)for(const u of i.listeners)u.onError(t);r.queries.delete(e)}function _S(n){n.ku.forEach(e=>{e.next()})}class yS{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Sy(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Sy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Hx{constructor(e){this.key=e}}class Zx{constructor(e){this.key=e}}class qx{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=zt(),this.mutatedKeys=zt(),this.tc=fA(e),this.ec=new Ay(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new Vx,i=t?t.ec:this.ec;let u=t?t.mutatedKeys:this.mutatedKeys,c=i,p=!1;const _="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,E="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((A,x)=>{const L=i.get(A),j=qs(this.query,x)?x:null,Q=!!L&&this.mutatedKeys.has(L.key),De=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let _e=!1;L&&j?L.data.isEqual(j.data)?Q!==De&&(r.track({type:3,doc:j}),_e=!0):this.rc(L,j)||(r.track({type:2,doc:j}),_e=!0,(_&&this.tc(j,_)>0||E&&this.tc(j,E)<0)&&(p=!0)):!L&&j?(r.track({type:0,doc:j}),_e=!0):L&&!j&&(r.track({type:1,doc:L}),_e=!0,(_||E)&&(p=!0)),_e&&(j?(c=c.add(j),u=De?u.add(A):u.delete(A)):(c=c.delete(A),u=u.delete(A)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const A="F"===this.query.limitType?c.last():c.first();c=c.delete(A.key),u=u.delete(A.key),r.track({type:1,doc:A})}return{ec:c,ic:r,zi:p,mutatedKeys:u}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const u=e.ic.xu();u.sort((E,A)=>function(x,L){const j=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return st()}};return j(x)-j(L)}(E.type,A.type)||this.tc(E.doc,A.doc)),this.oc(r);const c=t?this.uc():[],p=0===this.Zu.size&&this.current?1:0,_=p!==this.Xu;return this.Xu=p,0!==u.length||_?{snapshot:new Sy(this.query,e.ec,i,u,e.mutatedKeys,0===p,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:c}:{cc:c}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Vx,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=zt(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new Zx(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new Hx(r))}),t}hc(e){this.Yu=e.ir,this.Zu=zt();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Sy.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class ak{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class uk{constructor(e){this.key=e,this.fc=!1}}class lk{constructor(e,t,r,i,u,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.dc={},this.wc=new Eu(p=>wC(p),co),this._c=new Map,this.mc=new Set,this.gc=new Mn(Ke.comparator),this.yc=new Map,this.Ic=new RA,this.Tc={},this.Ec=new Map,this.Ac=lm.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function ck(n,e){return vS.apply(this,arguments)}function vS(){return vS=(0,fe.Z)(function*(n,e){const t=HS(n);let r,i;const u=t.wc.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),i=u.view.lc();else{const c=yield wy(t.localStore,Li(e)),p=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield CS(t,e,r,"current"===p,c.resumeToken),t.isPrimaryClient&&ST(t.remoteStore,c)}return i}),vS.apply(this,arguments)}function CS(n,e,t,r,i){return wS.apply(this,arguments)}function wS(){return wS=(0,fe.Z)(function*(n,e,t,r,i){n.Rc=(x,L,j)=>{return(Q=(0,fe.Z)(function*(De,_e,ze,dt){let Xe=_e.view.sc(ze);Xe.zi&&(Xe=yield ET(De.localStore,_e.query,!1).then(({documents:Jt})=>_e.view.sc(Jt,Xe)));const gt=dt&&dt.targetChanges.get(_e.targetId),Zt=_e.view.applyChanges(Xe,De.isPrimaryClient,gt);return NS(De,_e.targetId,Zt.cc),Zt.snapshot}),function(De,_e,ze,dt){return Q.apply(this,arguments)})(n,x,L,j);var Q};const u=yield ET(n.localStore,e,!0),c=new qx(e,u.ir),p=c.sc(u.documents),_=bd.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),E=c.applyChanges(p,n.isPrimaryClient,_);NS(n,t,E.cc);const A=new ak(e,t,c);return n.wc.set(e,A),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),E.snapshot}),wS.apply(this,arguments)}function dk(n,e){return bS.apply(this,arguments)}function bS(){return bS=(0,fe.Z)(function*(n,e){const t=Ye(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(u=>!co(u,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield by(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),ZC(t.remoteStore,r.targetId),My(t,r.targetId)}).catch(Nl))):(My(t,r.targetId),yield by(t.localStore,r.targetId,!0))}),bS.apply(this,arguments)}function ES(){return ES=(0,fe.Z)(function*(n,e,t){const r=ZS(n);try{const i=yield function(u,c){const p=Ye(u),_=zn.now(),E=c.reduce((L,j)=>L.add(j.key),zt());let A,x;return p.persistence.runTransaction("Locally write mutations","readwrite",L=>{let j=ws(),Q=zt();return p.Zi.getEntries(L,E).next(De=>{j=De,j.forEach((_e,ze)=>{ze.isValidDocument()||(Q=Q.add(_e))})}).next(()=>p.localDocuments.getOverlayedDocuments(L,j)).next(De=>{A=De;const _e=[];for(const ze of c){const dt=XE(ze,A.get(ze.key).overlayedDocument);null!=dt&&_e.push(new Wo(ze.key,dt,dC(dt.value.mapValue),or.exists(!0)))}return p.mutationQueue.addMutationBatch(L,_,_e,c)}).next(De=>{x=De;const _e=De.applyToLocalDocumentSet(A,Q);return p.documentOverlayCache.saveOverlays(L,De.batchId,_e)})}).then(()=>({batchId:x.batchId,changes:EC(A)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,c,p){let _=u.Tc[u.currentUser.toKey()];_||(_=new Mn(Vt)),_=_.insert(c,p),u.Tc[u.currentUser.toKey()]=_}(r,i.batchId,t),yield Td(r,i.changes),yield Ty(r.remoteStore)}catch(i){const u=Dy(i,"Failed to persist write");t.reject(u)}}),ES.apply(this,arguments)}function $x(n,e){return TS.apply(this,arguments)}function TS(){return TS=(0,fe.Z)(function*(n,e){const t=Ye(n);try{const r=yield RO(t.localStore,e);e.targetChanges.forEach((i,u)=>{const c=t.yc.get(u);c&&(wt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.fc=!0:i.modifiedDocuments.size>0?wt(c.fc):i.removedDocuments.size>0&&(wt(c.fc),c.fc=!1))}),yield Td(t,r,e)}catch(r){yield Nl(r)}}),TS.apply(this,arguments)}function Gx(n,e,t){const r=Ye(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((u,c)=>{const p=c.view.Mu(e);p.snapshot&&i.push(p.snapshot)}),function(u,c){const p=Ye(u);p.onlineState=c;let _=!1;p.queries.forEach((E,A)=>{for(const x of A.listeners)x.Mu(c)&&(_=!0)}),_&&_S(p)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function fk(n,e,t){return IS.apply(this,arguments)}function IS(){return IS=(0,fe.Z)(function*(n,e,t){const r=Ye(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),u=i&&i.key;if(u){let c=new Mn(Ke.comparator);c=c.insert(u,xn.newNoDocument(u,bt.min()));const p=zt().add(u),_=new cf(bt.min(),new Map,new Mn(Vt),c,p);yield $x(r,_),r.gc=r.gc.remove(u),r.yc.delete(e),RS(r)}else yield by(r.localStore,e,!1).then(()=>My(r,e,t)).catch(Nl)}),IS.apply(this,arguments)}function pk(n,e){return DS.apply(this,arguments)}function DS(){return DS=(0,fe.Z)(function*(n,e){const t=Ye(n),r=e.batch.batchId;try{const i=yield NO(t.localStore,e);xS(t,r,null),MS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Td(t,i)}catch(i){yield Nl(i)}}),DS.apply(this,arguments)}function gk(n,e,t){return AS.apply(this,arguments)}function AS(){return AS=(0,fe.Z)(function*(n,e,t){const r=Ye(n);try{const i=yield function(u,c){const p=Ye(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let E;return p.mutationQueue.lookupMutationBatch(_,c).next(A=>(wt(null!==A),E=A.keys(),p.mutationQueue.removeMutationBatch(_,A))).next(()=>p.mutationQueue.performConsistencyCheck(_)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(_,E,c)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,E)).next(()=>p.localDocuments.getDocuments(_,E))})}(r.localStore,e);xS(r,e,t),MS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Td(r,i)}catch(i){yield Nl(i)}}),AS.apply(this,arguments)}function MS(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function xS(n,e,t){const r=Ye(n);let i=r.Tc[r.currentUser.toKey()];if(i){const u=i.get(e);u&&(t?u.reject(t):u.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function My(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||zx(n,r)})}function zx(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(ZC(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),RS(n))}function NS(n,e,t){for(const r of t)r instanceof Hx?(n.Ic.addReference(r.key,e),_k(n,r)):r instanceof Zx?(Le("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||zx(n,r.key)):st()}function _k(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(Le("SyncEngine","New document in limbo: "+t),n.mc.add(r),RS(n))}function RS(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new Ke(an.fromString(e)),r=n.Ac.next();n.yc.set(r,new uk(t)),n.gc=n.gc.insert(t,r),ST(n.remoteStore,new Ko(Li(yd(t.path)),r,"TargetPurposeLimboResolution",Zs.ct))}}function Td(n,e,t){return PS.apply(this,arguments)}function PS(){return PS=(0,fe.Z)(function*(n,e,t){const r=Ye(n),i=[],u=[],c=[];var p;r.wc.isEmpty()||(r.wc.forEach((p,_)=>{c.push(r.Rc(_,e,t).then(E=>{if((E||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,E?.fromCache?"not-current":"current"),E){i.push(E);const A=LA.Li(_.targetId,E);u.push(A)}}))}),yield Promise.all(c),r.dc.nu(i),yield(p=(0,fe.Z)(function*(_,E){const A=Ye(_);try{yield A.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>se.forEach(E,L=>se.forEach(L.Fi,j=>A.persistence.referenceDelegate.addReference(x,L.targetId,j)).next(()=>se.forEach(L.Bi,j=>A.persistence.referenceDelegate.removeReference(x,L.targetId,j)))))}catch(x){if(!Rl(x))throw x;Le("LocalStore","Failed to update sequence numbers: "+x)}for(const x of E){const L=x.targetId;if(!x.fromCache){const j=A.Ji.get(L),De=j.withLastLimboFreeSnapshotVersion(j.snapshotVersion);A.Ji=A.Ji.insert(L,De)}}}),function(_,E){return p.apply(this,arguments)})(r.localStore,u))}),PS.apply(this,arguments)}function yk(n,e){return OS.apply(this,arguments)}function OS(){return OS=(0,fe.Z)(function*(n,e){const t=Ye(n);if(!t.currentUser.isEqual(e)){Le("SyncEngine","User change. New user:",e.toKey());const r=yield wx(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(c=>{c.forEach(p=>{p.reject(new Me(le.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Td(t,r.er)}var i}),OS.apply(this,arguments)}function vk(n,e){const t=Ye(n),r=t.yc.get(e);if(r&&r.fc)return zt().add(r.key);{let i=zt();const u=t._c.get(e);if(!u)return i;for(const c of u){const p=t.wc.get(c);i=i.unionWith(p.view.nc)}return i}}function HS(n){const e=Ye(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=$x.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fk.bind(null,e),e.dc.nu=rk.bind(null,e.eventManager),e.dc.Pc=ik.bind(null,e.eventManager),e}function ZS(n){const e=Ye(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gk.bind(null,e),e}class qC{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,fe.Z)(function*(){t.serializer=jC(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function Cx(n,e,t,r){return new xO(n,e,t,r)}(this.persistence,new vx,e.initialUser,this.serializer)}createPersistence(e){return new PA(CT.zs,this.serializer)}createSharedClientState(e){return new Mx}terminate(){var e=this;return(0,fe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class xy{initialize(e,t){var r=this;return(0,fe.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>Gx(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=yk.bind(null,r.syncEngine),yield function cS(n,e){return dS.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new nk}createDatastore(e){const t=jC(e.databaseInfo.databaseId),r=new VO(e.databaseInfo);return new HO(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,u=p=>Gx(this.syncEngine,p,0),c=xx.D()?new xx:new FO,new $O(t,r,i,u,c);var t,r,i,u,c}createSyncEngine(e,t){return function(r,i,u,c,p,_,E){const A=new lk(r,i,u,c,p,_);return E&&(A.vc=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,fe.Z)(function*(t){const r=Ye(t);Le("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Ey(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class xT{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):kr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Rk{constructor(e,t,r,i){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=zr.UNAUTHENTICATED,this.clientId=G0.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,fe.Z)(function*(p){Le("FirestoreClient","Received user=",p.uid),yield u.authCredentialListener(p),u.user=p});return function(p){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(Le("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,fe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Me(le.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,fe.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Dy(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function NT(n,e){return $S.apply(this,arguments)}function $S(){return $S=(0,fe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Le("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,fe.Z)(function*(u){r.isEqual(u)||(yield wx(e.localStore,u),r=u)});return function(u){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),$S.apply(this,arguments)}function GS(n,e){return zS.apply(this,arguments)}function zS(){return zS=(0,fe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield WS(n);Le("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>Ux(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,u)=>Ux(e.remoteStore,u)),n._onlineComponents=e}),zS.apply(this,arguments)}function Qx(n){return"FirebaseError"===n.name?n.code===le.FAILED_PRECONDITION||n.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function WS(n){return KS.apply(this,arguments)}function KS(){return KS=(0,fe.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Le("FirestoreClient","Using user provided OfflineComponentProvider");try{yield NT(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!Qx(t))throw t;Vs("Error using user provided cache. Falling back to memory cache: "+t),yield NT(n,new qC)}}else Le("FirestoreClient","Using default OfflineComponentProvider"),yield NT(n,new qC);return n._offlineComponents}),KS.apply(this,arguments)}function RT(n){return YS.apply(this,arguments)}function YS(){return YS=(0,fe.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Le("FirestoreClient","Using user provided OnlineComponentProvider"),yield GS(n,n._uninitializedComponentsProvider._online)):(Le("FirestoreClient","Using default OnlineComponentProvider"),yield GS(n,new xy))),n._onlineComponents}),YS.apply(this,arguments)}function PT(n){return WS(n).then(e=>e.localStore)}function Ny(n){return QS.apply(this,arguments)}function QS(){return QS=(0,fe.Z)(function*(n){const e=yield RT(n),t=e.eventManager;return t.onListen=ck.bind(null,e.syncEngine),t.onUnlisten=dk.bind(null,e.syncEngine),t}),QS.apply(this,arguments)}function nN(n,e,t={}){const r=new Wr;return n.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return function(i,u,c,p,_){const E=new xT({next:x=>{u.enqueueAndForget(()=>gS(i,A));const L=x.docs.has(c);!L&&x.fromCache?_.reject(new Me(le.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&x.fromCache&&p&&"server"===p.source?_.reject(new Me(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(x)},error:x=>_.reject(x)}),A=new yS(yd(c.path),E,{includeMetadataChanges:!0,Ku:!0});return fS(i,A)}(yield Ny(n),n.asyncQueue,e,t,r)})),r.promise}function rN(n,e,t={}){const r=new Wr;return n.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return function(i,u,c,p,_){const E=new xT({next:x=>{u.enqueueAndForget(()=>gS(i,A)),x.fromCache&&"server"===p.source?_.reject(new Me(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(x)},error:x=>_.reject(x)}),A=new yS(c,E,{includeMetadataChanges:!0,Ku:!0});return fS(i,A)}(yield Ny(n),n.asyncQueue,e,t,r)})),r.promise}function iN(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const sN=new Map;function XS(n,e,t){if(!t)throw new Me(le.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function aN(n){if(!Ke.isDocumentKey(n))throw new Me(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function uN(n){if(Ke.isDocumentKey(n))throw new Me(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function OT(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":st()}function ln(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Me(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=OT(n);throw new Me(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function lN(n,e){if(e<=0)throw new Me(le.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class cN{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Me(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Me(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function oN(n,e,t,r){if(!0===e&&!0===r)throw new Me(le.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=iN(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new Me(le.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Me(le.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Me(le.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $C{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cN({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Me(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Me(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cN(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new VD;switch(t.type){case"firstParty":return new ZD(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Me(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=sN.get(e);t&&(Le("ComponentProvider","Removing Datastore"),sN.delete(e),t.terminate())}(this),Promise.resolve()}}class ar{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ll(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ar(this.firestore,e,this._key)}}class is{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new is(this.firestore,e,this._query)}}class Ll extends is{constructor(e,t,r){super(e,t,yd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ar(this.firestore,null,new Ke(e))}withConverter(e){return new Ll(this.firestore,e,this._path)}}function kT(n,e,...t){if(n=(0,Wt.m9)(n),1===arguments.length&&(e=G0.A()),XS("doc","path",e),n instanceof $C){const r=an.fromString(e,...t);return aN(r),new ar(n,null,new Ke(r))}{if(!(n instanceof ar||n instanceof Ll))throw new Me(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(an.fromString(e,...t));return aN(r),new ar(n.firestore,n instanceof Ll?n.converter:null,new Ke(r))}}function fN(n,e){return n=(0,Wt.m9)(n),e=(0,Wt.m9)(e),(n instanceof ar||n instanceof Ll)&&(e instanceof ar||e instanceof Ll)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function eM(n,e){return n=(0,Wt.m9)(n),e=(0,Wt.m9)(e),n instanceof is&&e instanceof is&&n.firestore===e.firestore&&co(n._query,e._query)&&n.converter===e.converter}class Hk{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new zA(this,"async_queue_retry"),this.Xc=()=>{const t=AT();t&&Le("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=AT();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=AT();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Wr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,fe.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Rl(t))throw t;Le("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,kr("INTERNAL UNHANDLED ERROR: ",function(u){let c=u.message||"";return u.stack&&(c=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),c}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=hS.createAndSchedule(this,e,t,r,u=>this.na(u));return this.zc.push(i),i}Zc(){this.Wc&&st()}verifyOperationInProgress(){}sa(){var e=this;return(0,fe.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function tM(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class ur extends $C{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Hk,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||pN(this),this._firestoreClient.terminate()}}function Kr(n){return n._firestoreClient||pN(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function pN(n){var e,t,r;const i=n._freezeSettings(),u=(p=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new XD(n._databaseId,p,n._persistenceKey,(E=i).host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,iN(E.experimentalLongPollingOptions),E.useFetchStreams));var p,E;n._firestoreClient=new Rk(n._authCredentials,n._appCheckCredentials,n._queue,u),(null===(t=i.cache)||void 0===t?void 0:t._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Ul{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ul(oi.fromBase64String(e))}catch(t){throw new Me(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ul(oi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Id{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Me(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _r(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class dm{constructor(e){this._methodName=e}}class FT{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Me(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Me(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Vt(this._lat,e._lat)||Vt(this._long,e._long)}}const eF=/^__.*__$/;class tF{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Wo(e,this.data,this.fieldMask,t,this.fieldTransforms):new wd(e,this.data,t,this.fieldTransforms)}}class _N{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Wo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function yN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw st()}}class LT{constructor(e,t,r,i,u,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===u&&this.ua(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new LT(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return BT(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(yN(this.ca)&&eF.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class nF{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||jC(e)}ya(e,t,r,i=!1){return new LT({ca:e,methodName:t,ga:r,path:_r.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hm(n){const e=n._freezeSettings(),t=jC(n._databaseId);return new nF(n._databaseId,!!e.ignoreUndefinedProperties,t)}function UT(n,e,t,r,i,u={}){const c=n.ya(u.merge||u.mergeFields?2:0,e,t,i);sM("Data must be an object, but it was:",c,r);const p=wN(r,c);let _,E;if(u.merge)_=new Cs(c.fieldMask),E=c.fieldTransforms;else if(u.mergeFields){const A=[];for(const x of u.mergeFields){const L=WC(e,x,t);if(!c.contains(L))throw new Me(le.INVALID_ARGUMENT,`Field '${L}' is specified in your field mask but missing from your input data.`);EN(A,L)||A.push(L)}_=new Cs(A),E=c.fieldTransforms.filter(x=>_.covers(x.field))}else _=null,E=c.fieldTransforms;return new tF(new Fi(p),_,E)}class zC extends dm{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zC}}function CN(n,e,t,r=!1){return fm(t,n.ya(r?4:3,e))}function fm(n,e){if(bN(n=(0,Wt.m9)(n)))return sM("Unsupported field value:",e,n),wN(n,e);if(n instanceof dm)return function(t,r){if(!yN(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let u=0;for(const c of t){let p=fm(c,r.wa(u));null==p&&(p={nullValue:"NULL_VALUE"}),i.push(p),u++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Wt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return tm(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=zn.fromDate(t);return{timestampValue:df(r.serializer,i)}}if(t instanceof zn){const i=new zn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:df(r.serializer,i)}}if(t instanceof FT)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ul)return{bytesValue:EA(r.serializer,t._byteString)};if(t instanceof ar){const i=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(i))throw r._a(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:hT(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${OT(t)}`)}(n,e)}function wN(n,e){const t={};return $g(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gu(n,(r,i)=>{const u=fm(i,e.ha(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function bN(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof zn||n instanceof FT||n instanceof Ul||n instanceof ar||n instanceof dm)}function sM(n,e,t){if(!bN(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=OT(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function WC(n,e,t){if((e=(0,Wt.m9)(e))instanceof Id)return e._internalPath;if("string"==typeof e)return VT(n,e);throw BT("Field path arguments must be of type string or ",n,!1,void 0,t)}const oF=new RegExp("[~\\*/\\[\\]]");function VT(n,e,t){if(e.search(oF)>=0)throw BT(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Id(...e.split("."))._internalPath}catch{throw BT(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function BT(n,e,t,r,i){const u=r&&!r.isEmpty(),c=void 0!==i;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(u||c)&&(_+=" (found",u&&(_+=` in field ${r}`),c&&(_+=` in document ${i}`),_+=")"),new Me(le.INVALID_ARGUMENT,p+n+_)}function EN(n,e){return n.some(t=>t.isEqual(e))}class KC{constructor(e,t,r,i,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ar(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new aF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(jT("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class aF extends KC{data(){return super.data()}}function jT(n,e){return"string"==typeof e?VT(n,e):e instanceof Id?e._internalPath:e._delegate._internalPath}function TN(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Me(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class oM{}class YC extends oM{}function yf(n,e,...t){let r=[];e instanceof oM&&r.push(e),r=r.concat(t),function(i){const u=i.filter(p=>p instanceof Ry).length,c=i.filter(p=>p instanceof JC).length;if(u>1||u>0&&c>0)throw new Me(le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class JC extends YC{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new JC(e,t,r)}_apply(e){const t=this._parse(e);return SN(e._query,t),new is(e.firestore,e.converter,CC(e._query,t))}_parse(e){const t=hm(e.firestore);return function(i,u,c,p,_,E,A){let x;if(_.isKeyField()){if("array-contains"===E||"array-contains-any"===E)throw new Me(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if("in"===E||"not-in"===E){AN(A,E);const L=[];for(const j of A)L.push(DN(p,i,j));x={arrayValue:{values:L}}}else x=DN(p,i,A)}else"in"!==E&&"not-in"!==E&&"array-contains-any"!==E||AN(A,E),x=CN(c,"where",A,"in"===E||"not-in"===E);return en.create(_,E,x)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Ry extends oM{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ry(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Nn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let u=r;const c=i.getFlattenedFilters();for(const p of c)SN(u,p),u=CC(u,p)}(e._query,t),new is(e.firestore,e.converter,CC(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class aM extends YC{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new aM(e,t)}_apply(e){const t=function(r,i,u){if(null!==r.startAt)throw new Me(le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Me(le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new Ol(i,u);return function(p,_){if(null===vC(p)){const E=Qg(p);null!==E&&MN(0,E,_.field)}}(r,c),c}(e._query,this._field,this._direction);return new is(e.firestore,e.converter,function(r,i){const u=r.explicitOrderBy.concat([i]);return new bu(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class HT extends YC{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new HT(e,t,r)}_apply(e){return new is(e.firestore,e.converter,rf(e._query,this._limit,this._limitType))}}class ZT extends YC{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new ZT(e,t,r)}_apply(e){const t=IN(e,this.type,this._docOrFields,this._inclusive);return new is(e.firestore,e.converter,(i=t,new bu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class qT extends YC{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new qT(e,t,r)}_apply(e){const t=IN(e,this.type,this._docOrFields,this._inclusive);return new is(e.firestore,e.converter,(i=t,new bu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function IN(n,e,t,r){if(t[0]=(0,Wt.m9)(t[0]),t[0]instanceof KC)return function(i,u,c,p,_){if(!p)throw new Me(le.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const E=[];for(const A of vd(i))if(A.field.isKeyField())E.push(_d(u,p.key));else{const x=p.data.field(A.field);if(Y_(x))throw new Me(le.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+A.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===x){const L=A.field.canonicalString();throw new Me(le.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${L}' (used as the orderBy) does not exist.`)}E.push(x)}return new Cu(E,_)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=hm(n.firestore);return function(u,c,p,_,E,A){const x=u.explicitOrderBy;if(E.length>x.length)throw new Me(le.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const L=[];for(let j=0;j<E.length;j++){const Q=E[j];if(x[j].field.isKeyField()){if("string"!=typeof Q)throw new Me(le.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof Q}`);if(!iy(u)&&-1!==Q.indexOf("/"))throw new Me(le.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${Q}' contains a slash.`);const De=u.path.child(an.fromString(Q));if(!Ke.isDocumentKey(De))throw new Me(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${De}' is not because it contains an odd number of segments.`);const _e=new Ke(De);L.push(_d(c,_e))}else{const De=CN(p,_,Q);L.push(De)}}return new Cu(L,A)}(n._query,n.firestore._databaseId,i,e,t,r)}}function DN(n,e,t){if("string"==typeof(t=(0,Wt.m9)(t))){if(""===t)throw new Me(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iy(e)&&-1!==t.indexOf("/"))throw new Me(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(an.fromString(t));if(!Ke.isDocumentKey(r))throw new Me(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return _d(n,new Ke(r))}if(t instanceof ar)return _d(n,t._key);throw new Me(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${OT(t)}.`)}function AN(n,e){if(!Array.isArray(n)||0===n.length)throw new Me(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function SN(n,e){if(e.isInequality()){const r=Qg(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new Me(le.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const u=vC(n);null!==u&&MN(0,i,u)}const t=function(r,i){for(const u of r)for(const c of u.getFlattenedFilters())if(i.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Me(le.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function MN(n,e,t){if(!t.isEqual(e))throw new Me(le.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class uM{convertValue(e,t="none"){switch(Pl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(mu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw st()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return gu(e,(i,u)=>{r[i]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new FT(yr(e.latitude),yr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Gg(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(tf(e));default:return null}}convertTimestamp(e){const t=gd(e);return new zn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=an.fromString(e);wt(my(r));const i=new _u(r.get(1),r.get(3)),u=new Ke(r.popFirst(5));return i.isEqual(t)||kr(`Document ${u} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function $T(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class pm{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Dd extends KC{constructor(e,t,r,i,u,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new QC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(jT("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class QC extends Dd{data(e={}){return super.data(e)}}class vf{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new pm(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new QC(this._firestore,this._userDataWriter,r.key,r,new pm(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Me(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new QC(r._firestore,r._userDataWriter,c.doc.key,c.doc,new pm(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const p=new QC(r._firestore,r._userDataWriter,c.doc.key,c.doc,new pm(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,E=-1;return 0!==c.type&&(_=u.indexOf(c.doc.key),u=u.delete(c.doc.key)),1!==c.type&&(u=u.add(c.doc),E=u.indexOf(c.doc.key)),{type:yF(c.type),doc:p,oldIndex:_,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function yF(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return st()}}function NN(n,e){return n instanceof Dd&&e instanceof Dd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof vf&&e instanceof vf&&n._firestore===e._firestore&&eM(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Cf extends uM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ul(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ar(this.firestore,null,t)}}function RN(n,e,t){n=ln(n,ar);const r=ln(n.firestore,ur),i=$T(n.converter,e,t);return Py(r,[UT(hm(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,or.none())])}function PN(n,e,t,...r){n=ln(n,ar);const i=ln(n.firestore,ur),u=hm(i);let c;return c="string"==typeof(e=(0,Wt.m9)(e))||e instanceof Id?function iM(n,e,t,r,i,u){const c=n.ya(1,e,t),p=[WC(e,r,t)],_=[i];if(u.length%2!=0)throw new Me(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let L=0;L<u.length;L+=2)p.push(WC(e,u[L])),_.push(u[L+1]);const E=[],A=Fi.empty();for(let L=p.length-1;L>=0;--L)if(!EN(E,p[L])){const j=p[L];let Q=_[L];Q=(0,Wt.m9)(Q);const De=c.da(j);if(Q instanceof zC)E.push(j);else{const _e=fm(Q,De);null!=_e&&(E.push(j),A.set(j,_e))}}const x=new Cs(E);return new _N(A,x,c.fieldTransforms)}(u,"updateDoc",n._key,e,t,r):function rM(n,e,t,r){const i=n.ya(1,e,t);sM("Data must be an object, but it was:",i,r);const u=[],c=Fi.empty();gu(r,(_,E)=>{const A=VT(e,_,t);E=(0,Wt.m9)(E);const x=i.da(A);if(E instanceof zC)u.push(A);else{const L=fm(E,x);null!=L&&(u.push(A),c.set(A,L))}});const p=new Cs(u);return new _N(c,p,i.fieldTransforms)}(u,"updateDoc",n._key,e),Py(i,[c.toMutation(n._key,or.exists(!0))])}function ON(n,...e){var t,r,i;n=(0,Wt.m9)(n);let u={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||tM(e[c])||(u=e[c],c++);const p={includeMetadataChanges:u.includeMetadataChanges};if(tM(e[c])){const x=e[c];e[c]=null===(t=x.next)||void 0===t?void 0:t.bind(x),e[c+1]=null===(r=x.error)||void 0===r?void 0:r.bind(x),e[c+2]=null===(i=x.complete)||void 0===i?void 0:i.bind(x)}let _,E,A;if(n instanceof ar)E=ln(n.firestore,ur),A=yd(n._key.path),_={next:x=>{e[c]&&e[c](lM(E,n,x))},error:e[c+1],complete:e[c+2]};else{const x=ln(n,is);E=ln(x.firestore,ur),A=x._query;const L=new Cf(E);_={next:j=>{e[c]&&e[c](new vf(E,L,x,j))},error:e[c+1],complete:e[c+2]},TN(n._query)}return function(x,L,j,Q){const De=new xT(Q),_e=new yS(L,De,j);return x.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return fS(yield Ny(x),_e)})),()=>{De.Dc(),x.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return gS(yield Ny(x),_e)}))}}(Kr(E),A,p,_)}function Py(n,e){return function(t,r){const i=new Wr;return t.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return function hk(n,e,t){return ES.apply(this,arguments)}(yield function JS(n){return RT(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(Kr(n),e)}function lM(n,e,t){const r=t.docs.get(e._key),i=new Cf(n);return new Dd(n,i,e._key,r,new pm(t.hasPendingWrites,t.fromCache),e.converter)}function LN(){if(typeof Uint8Array>"u")throw new Me("unimplemented","Uint8Arrays are not available in this environment.")}function UN(){if(!function uC(){return typeof atob<"u"}())throw new Me("unimplemented","Blobs are unavailable in Firestore in this environment.")}class XC{constructor(e){this._delegate=e}static fromBase64String(e){return UN(),new XC(Ul.fromBase64String(e))}static fromUint8Array(e){return LN(),new XC(Ul.fromUint8Array(e))}toBase64(){return UN(),this._delegate.toBase64()}toUint8Array(){return LN(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function dM(n){return function GF(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class GT extends uM{constructor(e){super(),this.firestore=e}convertBytes(e){return new XC(new Ul(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Aa.forKey(t,this.firestore,null)}}class gm{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new QC(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new tw(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=gm.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let u=i.get(t);return u||(u=new gm(e,new GT(e),t),i.set(t,u)),u}}gm.INSTANCES=new WeakMap;class Aa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new GT(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Me("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Aa(t,new ar(t._delegate,r,new Ke(e)))}static forKey(e,t,r){return new Aa(t,new ar(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Oy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Oy(this.firestore,function hN(n,e,...t){if(n=(0,Wt.m9)(n),XS("collection","path",e),n instanceof $C){const r=an.fromString(e,...t);return uN(r),new Ll(n,null,r)}{if(!(n instanceof ar||n instanceof Ll))throw new Me(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(an.fromString(e,...t));return uN(r),new Ll(n.firestore,null,r)}}(this._delegate,e))}catch(t){throw $s(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Wt.m9)(e))instanceof ar&&fN(this._delegate,e)}set(e,t){t=function cM(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Me("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}("DocumentReference.set",t);try{return t?RN(this._delegate,e,t):RN(this._delegate,e)}catch(r){throw $s(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?PN(this._delegate,e):PN(this._delegate,e,t,...r)}catch(i){throw $s(i,"updateDoc()","DocumentReference.update()")}}delete(){return function IF(n){return Py(ln(n.firestore,ur),[new Fl(n._key,or.none())])}(this._delegate)}onSnapshot(...e){const t=HN(e),r=ZN(e,i=>new ew(this.firestore,new Dd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return ON(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function CF(n){n=ln(n,ar);const e=ln(n.firestore,ur),t=Kr(e),r=new Cf(e);return function kk(n,e){const t=new Wr;return n.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return(r=(0,fe.Z)(function*(i,u,c){try{const p=yield function(_,E){const A=Ye(_);return A.persistence.runTransaction("read document","readonly",x=>A.localDocuments.getDocument(x,E))}(i,u);p.isFoundDocument()?c.resolve(p):p.isNoDocument()?c.resolve(null):c.reject(new Me(le.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(p){const _=Dy(p,`Failed to get document '${u} from cache`);c.reject(_)}}),function(i,u,c){return r.apply(this,arguments)})(yield PT(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Dd(e,r,n._key,i,new pm(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function wF(n){n=ln(n,ar);const e=ln(n.firestore,ur);return nN(Kr(e),n._key,{source:"server"}).then(t=>lM(e,n,t))}(this._delegate):function vF(n){n=ln(n,ar);const e=ln(n.firestore,ur);return nN(Kr(e),n._key).then(t=>lM(e,n,t))}(this._delegate),t.then(r=>new ew(this.firestore,new Dd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Aa(this.firestore,this._delegate.withConverter(e?gm.getInstance(this.firestore,e):null))}}function $s(n,e,t){return n.message=n.message.replace(e,t),n}function HN(n){for(const e of n)if("object"==typeof e&&!dM(e))return e;return{}}function ZN(n,e){var t,r;let i;return i=dM(n[0])?n[0]:dM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{i.next&&i.next(e(u))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class ew{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Aa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return NN(this._delegate,e._delegate)}}class tw extends ew{data(e){const t=this._delegate.data(e);return function N1(n,e){n||st()}(void 0!==t),t}}class Gs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new GT(e)}where(e,t,r){try{return new Gs(this.firestore,yf(this._delegate,function uF(n,e,t){const r=e,i=jT("where",n);return JC._create(i,r,t)}(e,t,r)))}catch(i){throw $s(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Gs(this.firestore,yf(this._delegate,function lF(n,e="asc"){const t=e,r=jT("orderBy",n);return aM._create(r,t)}(e,t)))}catch(r){throw $s(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Gs(this.firestore,yf(this._delegate,function cF(n){return lN("limit",n),HT._create("limit",n,"F")}(e)))}catch(t){throw $s(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Gs(this.firestore,yf(this._delegate,function dF(n){return lN("limitToLast",n),HT._create("limitToLast",n,"L")}(e)))}catch(t){throw $s(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Gs(this.firestore,yf(this._delegate,function hF(...n){return ZT._create("startAt",n,!0)}(...e)))}catch(t){throw $s(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Gs(this.firestore,yf(this._delegate,function fF(...n){return ZT._create("startAfter",n,!1)}(...e)))}catch(t){throw $s(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Gs(this.firestore,yf(this._delegate,function pF(...n){return qT._create("endBefore",n,!1)}(...e)))}catch(t){throw $s(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Gs(this.firestore,yf(this._delegate,function gF(...n){return qT._create("endAt",n,!0)}(...e)))}catch(t){throw $s(t,"endAt()","Query.endAt()")}}isEqual(e){return eM(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function EF(n){n=ln(n,is);const e=ln(n.firestore,ur),t=Kr(e),r=new Cf(e);return function Fk(n,e){const t=new Wr;return n.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return(r=(0,fe.Z)(function*(i,u,c){try{const p=yield ET(i,u,!0),_=new qx(u,p.ir),E=_.sc(p.documents),A=_.applyChanges(E,!1);c.resolve(A.snapshot)}catch(p){const _=Dy(p,`Failed to execute query '${u} against cache`);c.reject(_)}}),function(i,u,c){return r.apply(this,arguments)})(yield PT(n),e,t);var r})),t.promise}(t,n._query).then(i=>new vf(e,r,n,i))}(this._delegate):"server"===e?.source?function TF(n){n=ln(n,is);const e=ln(n.firestore,ur),t=Kr(e),r=new Cf(e);return rN(t,n._query,{source:"server"}).then(i=>new vf(e,r,n,i))}(this._delegate):function bF(n){n=ln(n,is);const e=ln(n.firestore,ur),t=Kr(e),r=new Cf(e);return TN(n._query),rN(t,n._query).then(i=>new vf(e,r,n,i))}(this._delegate),t.then(r=>new hM(this.firestore,new vf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=HN(e),r=ZN(e,i=>new hM(this.firestore,new vf(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return ON(this._delegate,t,r)}withConverter(e){return new Gs(this.firestore,this._delegate.withConverter(e?gm.getInstance(this.firestore,e):null))}}class KF{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new tw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class hM{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Gs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new tw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new KF(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new tw(this._firestore,r))})}isEqual(e){return NN(this._delegate,e._delegate)}}class Oy extends Gs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Aa(this.firestore,e):null}doc(e){try{return new Aa(this.firestore,void 0===e?kT(this._delegate):kT(this._delegate,e))}catch(t){throw $s(t,"doc()","CollectionReference.doc()")}}add(e){return function DF(n,e){const t=ln(n.firestore,ur),r=kT(n),i=$T(n.converter,e);return Py(t,[UT(hm(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,or.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Aa(this.firestore,t))}isEqual(e){return fN(this._delegate,e._delegate)}withConverter(e){return new Oy(this.firestore,this._delegate.withConverter(e?gm.getInstance(this.firestore,e):null))}}function qN(n,e){return function XF(n,e=td.z){return new ti.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function pM(n,e){return qN(n,e).pipe((0,At.U)(t=>({payload:t,type:"query"})))}function zT(n,e){return pM(n,e).pipe(Oo(void 0),El(),(0,At.U)(([t,r])=>{const i=r.payload.docChanges(),u=i.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,p)=>{const _=i.find(A=>A.doc.ref.isEqual(c.ref)),E=t?.payload.docs.find(A=>A.ref.isEqual(c.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(c.metadata)||!_&&E&&JSON.stringify(E.metadata)===JSON.stringify(c.metadata)||u.push({type:"modified",payload:{oldIndex:p,newIndex:p,type:"modified",doc:c}})}),u}))}function $N(n,e,t){return zT(n,t).pipe(Ic((r,i)=>function tL(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function nL(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return gM(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return gM(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return gM(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(u=>u.payload),e),[]),function Rh(n,e=eo.y){return n=n??Ph,(0,wr.e)((t,r)=>{let i,u=!0;t.subscribe((0,hr.x)(r,c=>{const p=e(c);(u||!n(i,p))&&(u=!1,i=p,r.next(c))}))})}(),(0,At.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function gM(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function GN(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class zN{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=zT(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,At.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Oo(void 0),El(),br(([r,i])=>i.length>0||!r),(0,At.U)(([r,i])=>i),ir.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ic((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=GN(e);return $N(this.query,t,this.afs.schedulers.outsideAngular).pipe(ir.iC)}valueChanges(e={}){return pM(this.query,this.afs.schedulers.outsideAngular).pipe((0,At.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),ir.iC)}get(e){return(0,Xt.D)(this.query.get(e)).pipe(ir.iC)}add(e){return this.ref.add(e)}doc(e){return new WN(this.ref.doc(e),this.afs)}}class WN{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:u}=KN(r,t);return new zN(i,u,this.afs)}snapshotChanges(){return function eL(n,e){return qN(n,e).pipe(Oo(void 0),El(),(0,At.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ir.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,At.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Xt.D)(this.ref.get(e)).pipe(ir.iC)}}class rL{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?zT(this.query,this.afs.schedulers.outsideAngular).pipe((0,At.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),br(t=>t.length>0),ir.iC):zT(this.query,this.afs.schedulers.outsideAngular).pipe(ir.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ic((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=GN(e);return $N(this.query,t,this.afs.schedulers.outsideAngular).pipe(ir.iC)}valueChanges(e={}){return pM(this.query,this.afs.schedulers.outsideAngular).pipe((0,At.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),ir.iC)}get(e){return(0,Xt.D)(this.query.get(e)).pipe(ir.iC)}}const iL=new s.OlP("angularfire2.enableFirestorePersistence"),sL=new s.OlP("angularfire2.firestore.persistenceSettings"),oL=new s.OlP("angularfire2.firestore.settings"),aL=new s.OlP("angularfire2.firestore.use-emulator");function KN(n,e=(t=>t)){return{query:e(n),ref:n}}let Tr=(()=>{class n{constructor(t,r,i,u,c,p,_,E,A,x,L,j,Q,De,_e,ze,dt){this.schedulers=_;const Xe=(0,nr.on)(t,p,r),gt=A;x&&ed(Xe,p,L,Q,De,_e,j,ze),[this.firestore,this.persistenceEnabled$]=(0,nr.cc)(`${Xe.name}.firestore`,"AngularFirestore",Xe.name,()=>{const Zt=p.runOutsideAngular(()=>Xe.firestore());if(u&&Zt.settings(u),gt&&Zt.useEmulator(...gt),i&&!Ou(c)){const Jt=()=>{try{return(0,Xt.D)(Zt.enablePersistence(E||void 0).then(()=>!0,()=>!1))}catch(ui){return typeof console<"u"&&console.warn(ui),Qe(!1)}};return[Zt,p.runOutsideAngular(Jt)]}return[Zt,Qe(!1)]},[u,gt,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:c}=KN(i,r),p=this.schedulers.ngZone.run(()=>u);return new zN(p,c,this)}collectionGroup(t,r){const i=r||(c=>c),u=this.firestore.collectionGroup(t);return new rL(i(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new WN(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(nr.Dh),s.LFG(nr.xv,8),s.LFG(iL,8),s.LFG(oL,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(ir.HU),s.LFG(sL,8),s.LFG(aL,8),s.LFG($r,8),s.LFG(bi,8),s.LFG(bl,8),s.LFG(Xp,8),s.LFG(Ls,8),s.LFG(h_,8),s.LFG(Xc,8),s.LFG(c_,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),uL=(()=>{class n{constructor(t,r,i){this.fireauth=t,this.firestore=r,this.router=i}getPass(t){return this.firestore.collection("users").doc(t).get()}encryptPassword(t,r){const i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let u="";for(let c=0;c<t.length;c++){const p=t[c],_=i.indexOf(p);u+=-1!==_?i[(_+r)%i.length]:p}return u}decryptPassword(t,r){const i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let u="";for(let c=0;c<t.length;c++){const p=t[c],_=i.indexOf(p);if(-1!==_){let E=(_-r)%i.length;E<0&&(E+=i.length),u+=i[E]}else u+=p}return u}}return n.\u0275fac=function(t){return new(t||n)(s.LFG($r),s.LFG(Tr),s.LFG(Bt))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),YN=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n}),n})(),ym=(()=>{class n extends YN{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=s.n5z(n)))(r||n)}}(),n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})();const Vl=new s.OlP("NgValueAccessor"),dL={provide:Vl,useExisting:(0,s.Gpc)(()=>zs),multi:!0},fL=new s.OlP("CompositionEventMode");let zs=(()=>{class n extends YN{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function hL(){const n=O()?O().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(fL,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&s.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[s._Bn([dL]),s.qOj]}),n})();const Ts=new s.OlP("NgValidators"),Ef=new s.OlP("NgAsyncValidators");function aR(n){return null!=n}function uR(n){return(0,s.QGY)(n)?(0,Xt.D)(n):n}function lR(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function cR(n,e){return e.map(t=>t(n))}function dR(n){return n.map(e=>function mL(n){return!n.validate}(e)?e:t=>e.validate(t))}function mM(n){return null!=n?function hR(n){if(!n)return null;const e=n.filter(aR);return 0==e.length?null:function(t){return lR(cR(t,e))}}(dR(n)):null}function _M(n){return null!=n?function fR(n){if(!n)return null;const e=n.filter(aR);return 0==e.length?null:function(t){return function lL(...n){const e=(0,Ao.jO)(n),{args:t,keys:r}=Vn(n),i=new ti.y(u=>{const{length:c}=t;if(!c)return void u.complete();const p=new Array(c);let _=c,E=c;for(let A=0;A<c;A++){let x=!1;(0,Ro.Xf)(t[A]).subscribe((0,hr.x)(u,L=>{x||(x=!0,E--),p[A]=L},()=>_--,void 0,()=>{(!_||!x)&&(E||u.next(r?Qa(r,p):p),u.complete())}))}});return e?i.pipe(ol(e)):i}(cR(t,e).map(uR)).pipe((0,At.U)(lR))}}(dR(n)):null}function pR(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function yM(n){return n?Array.isArray(n)?n:[n]:[]}function KT(n,e){return Array.isArray(n)?n.includes(e):n===e}function _R(n,e){const t=yM(e);return yM(n).forEach(i=>{KT(t,i)||t.push(i)}),t}function yR(n,e){return yM(e).filter(t=>!KT(n,t))}class vR{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=mM(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=_M(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ws extends vR{get formDirective(){return null}get path(){return null}}class Tf extends vR{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class CR{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let ss=(()=>{class n extends CR{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Tf,2))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&s.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[s.qOj]}),n})(),Yo=(()=>{class n extends CR{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Ws,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&s.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[s.qOj]}),n})();const nw="VALID",JT="INVALID",ky="PENDING",rw="DISABLED";function bM(n){return(QT(n)?n.validators:n)||null}function bR(n){return Array.isArray(n)?mM(n):n||null}function EM(n,e){return(QT(e)?e.asyncValidators:n)||null}function ER(n){return Array.isArray(n)?_M(n):n||null}function QT(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class DR{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=bR(this._rawValidators),this._composedAsyncValidatorFn=ER(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===nw}get invalid(){return this.status===JT}get pending(){return this.status==ky}get disabled(){return this.status===rw}get enabled(){return this.status!==rw}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=bR(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=ER(e)}addValidators(e){this.setValidators(_R(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(_R(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(yR(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(yR(e,this._rawAsyncValidators))}hasValidator(e){return KT(this._rawValidators,e)}hasAsyncValidator(e){return KT(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ky,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=rw,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=nw,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===nw||this.status===ky)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?rw:nw}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ky,this._hasOwnPendingAsyncValidator=!0;const t=uR(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new s.vpe,this.statusChanges=new s.vpe}_calculateStatus(){return this._allControlsDisabled()?rw:this.errors?JT:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ky)?ky:this._anyControlsHaveStatus(JT)?JT:nw}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){QT(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class TM extends DR{constructor(e,t,r){super(bM(t),EM(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function IR(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new s.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function TR(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new s.vHH(1e3,"");if(!r[t])throw new s.vHH(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,u)=>{r=t(r,i,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}function iw(n,e){IM(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function IL(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&AR(n,e)})}(n,e),function AL(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function DL(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&AR(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function TL(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function tI(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function IM(n,e){const t=function gR(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(pR(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function mR(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(pR(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();tI(e._rawValidators,i),tI(e._rawAsyncValidators,i)}function AR(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const RL={provide:Ws,useExisting:(0,s.Gpc)(()=>Ks)},sw=(()=>Promise.resolve())();let Ks=(()=>{class n extends Ws{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new s.vpe,this.form=new TM({},mM(t),_M(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){sw.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),iw(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){sw.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){sw.then(()=>{const r=this._findContainer(t.path),i=new TM({});(function SR(n,e){IM(n,e)})(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){sw.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){sw.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function xR(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Ts,10),s.Y36(Ef,10))},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&s.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([RL]),s.qOj]}),n})();function NR(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function RR(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const PR=class extends DR{constructor(e=null,t,r){super(bM(t),EM(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),QT(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=RR(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){NR(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){NR(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){RR(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},kL={provide:Tf,useExisting:(0,s.Gpc)(()=>Vi)},FR=(()=>Promise.resolve())();let Vi=(()=>{class n extends Tf{constructor(t,r,i,u,c){super(),this._changeDetectorRef=c,this.control=new PR,this._registered=!1,this.update=new s.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function AM(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(u=>{u.constructor===zs?t=u:function xL(n){return Object.getPrototypeOf(n.constructor)===ym}(u)?r=u:i=u}),i||r||t||null}(0,u)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function DM(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){iw(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){FR.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&(0,s.D6c)(r);FR.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function XT(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Ws,9),s.Y36(Ts,10),s.Y36(Ef,10),s.Y36(Vl,10),s.Y36(s.sBO,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[s._Bn([kL]),s.qOj,s.TTD]}),n})(),Jo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const FL={provide:Vl,useExisting:(0,s.Gpc)(()=>Ad),multi:!0};let Ad=(()=>{class n extends ym{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=s.n5z(n)))(r||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&s.NdJ("input",function(u){return r.onChange(u.target.value)})("blur",function(){return r.onTouched()})},features:[s._Bn([FL]),s.qOj]}),n})();const LL={provide:Vl,useExisting:(0,s.Gpc)(()=>ow),multi:!0};let LR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),UL=(()=>{class n{constructor(){this._accessors=[]}add(t,r){this._accessors.push([t,r])}remove(t){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===t)return void this._accessors.splice(r,1)}select(t){this._accessors.forEach(r=>{this._isSameGroup(r,t)&&r[1]!==t&&r[1].fireUncheck(t.value)})}_isSameGroup(t,r){return!!t[0].control&&t[0]._parent===r._control._parent&&t[1].name===r.name}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:LR}),n})(),ow=(()=>{class n extends ym{constructor(t,r,i,u){super(t,r),this._registry=i,this._injector=u,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(Tf),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(UL),s.Y36(s.zs3))},n.\u0275dir=s.lG2({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,r){1&t&&s.NdJ("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[s._Bn([LL]),s.qOj]}),n})();const $L={provide:Vl,useExisting:(0,s.Gpc)(()=>Bl),multi:!0};function ZR(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Bl=(()=>{class n extends ym{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=ZR(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function GL(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=s.n5z(n)))(r||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&s.NdJ("change",function(u){return r.onChange(u.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[s._Bn([$L]),s.qOj]}),n})(),If=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(ZR(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(Bl,9))},n.\u0275dir=s.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const zL={provide:Vl,useExisting:(0,s.Gpc)(()=>NM),multi:!0};function qR(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let NM=(()=>{class n extends ym{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(u=>this._getOptionId(u));r=(u,c)=>{u._setSelected(i.indexOf(c.toString())>-1)}}else r=(i,u)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],u=r.selectedOptions;if(void 0!==u){const c=u;for(let p=0;p<c.length;p++){const E=this._getOptionValue(c[p].value);i.push(E)}}else{const c=r.options;for(let p=0;p<c.length;p++){const _=c[p];if(_.selected){const E=this._getOptionValue(_.value);i.push(E)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function WL(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=s.n5z(n)))(r||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&s.NdJ("change",function(u){return r.onChange(u.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[s._Bn([zL]),s.qOj]}),n})(),Df=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(qR(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(qR(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(NM,9))},n.\u0275dir=s.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),r2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[LR]}),n})(),i2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[r2]}),n})();function o2(n,e){1&n&&(s.TgZ(0,"div",11)(1,"span",12),s._uU(2,"Loading..."),s.qZA()())}let a2=(()=>{class n{constructor(t,r){this.ls=t,this.router=r,this.email="",this.password="",this.name="",this.LastName="",this.loading=!1,((n,e="https://api.emailjs.com")=>{if(!n)return;const t=_v(n);ys.publicKey=t.publicKey,ys.blockHeadless=t.blockHeadless,ys.blockList=t.blockList,ys.limitRate=t.limitRate,ys.origin=t.origin||e})("NLWkU3VzrBbZHeV4q")}ngOnInit(){}login(){""!=this.email?""!=this.password?this.ls.getPass(this.email).subscribe(t=>{t.exists?(this.mdpRecup=t.data(),this.mdpRecup=this.mdpRecup.password,this.emailRecup=t.data(),this.emailRecup=this.emailRecup.email,this.password=this.ls.encryptPassword(this.password,1),this.email==this.emailRecup&&this.password==this.mdpRecup?this.router.navigate(["/home",this.email]):alert("Mot de passe est inccorect")):alert("Adresse Introuvable")},t=>{console.error("Une erreur s'est produite :",t)}):alert("Please enter your password"):alert("Please enter your email")}verif(t){""!=this.email&&(t.preventDefault(),this.loading=!0,this.ls.getPass(this.email).subscribe(r=>{if(r.exists){this.mdpRecup=r.data(),this.mdpRecup=this.mdpRecup.password,this.m=JSON.stringify(this.mdpRecup);let i=this.ls.decryptPassword(this.m,1);const u={Destinataire:this.email,message:i};setTimeout(()=>{Ev_send("service_taqdhdx","template_boay3io",u).then(()=>{alert("merci de verifier votre email"),this.loading=!1},c=>{console.log("FAILED...",c.text),this.loading=!1}),this.loading=!1},2500)}else alert("Adresse Introuvable"),this.loading=!1},r=>{alert("Une erreur s'est produite "),this.loading=!1}))}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(uL),s.Y36(Bt))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-login"]],decls:21,vars:3,consts:[[1,"container"],["action","/login","method","post"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","name","email",1,"form-control",3,"ngModel","ngModelChange"],["for","password",1,"form-label"],["type","password","id","password","name","password",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary",3,"click"],["href","/register"],[3,"click"],["class","spinner-border text-primary","role","status",4,"ngIf"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0)(1,"form",1)(2,"h2"),s._uU(3,"Se connecter"),s.qZA(),s.TgZ(4,"div",2)(5,"label",3),s._uU(6,"Email"),s.qZA(),s.TgZ(7,"input",4),s.NdJ("ngModelChange",function(u){return r.email=u}),s.qZA()(),s._UZ(8,"br"),s.TgZ(9,"div",2)(10,"label",5),s._uU(11,"Mot de passe"),s.qZA(),s.TgZ(12,"input",6),s.NdJ("ngModelChange",function(u){return r.password=u}),s.qZA()(),s._UZ(13,"br"),s.TgZ(14,"button",7),s.NdJ("click",function(){return r.login()}),s._uU(15,"Se connecter"),s.qZA(),s.TgZ(16,"a",8),s._uU(17,"Pas encore inscrit ? Inscrivez-vous !"),s.qZA(),s.TgZ(18,"a",9),s.NdJ("click",function(u){return r.verif(u)}),s._uU(19,"Mot de passe obli\xe9 ? envoyer le mot de passe via email ?"),s.qZA(),s.YNc(20,o2,3,0,"div",10),s.qZA()()),2&t&&(s.xp6(7),s.Q6J("ngModel",r.email),s.xp6(5),s.Q6J("ngModel",r.password),s.xp6(8),s.Q6J("ngIf",r.loading))},dependencies:[bn,Jo,zs,ss,Yo,Vi,Ks],styles:[".container[_ngcontent-%COMP%]{width:100%;height:80vh;display:flex;align-items:center;justify-content:center}form[_ngcontent-%COMP%]{width:300px;margin:0 auto;padding:20px;border:1px solid #ccc;border-radius:30px}label[_ngcontent-%COMP%]{display:block;margin-bottom:5px}input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{width:95%;padding:10px;border:1px solid #ccc;border-radius:3px}button[_ngcontent-%COMP%]{display:block;width:100%;padding:10px;background-color:#4caf50;color:#fff;border:none;border-radius:5px;cursor:pointer}a[_ngcontent-%COMP%]{display:block;text-align:center;color:#007bff;text-decoration:none;margin-top:10px}"]}),n})();function VP(n){const e=function qU(n){return new ti.y(e=>{const t=c=>e.next(c);t(n.snapshot);const u=n.on("state_changed",t);return n.then(c=>{t(c),e.complete()},c=>{t(n.snapshot),(c=>{e.error(c)})(c)}),function(){u()}}).pipe(function u2(n,e=td.z){return(0,wr.e)((t,r)=>{let i=null,u=null,c=null;const p=()=>{if(i){i.unsubscribe(),i=null;const E=u;u=null,r.next(E)}};function _(){const E=c+n,A=e.now();if(A<E)return i=this.schedule(void 0,E-A),void r.add(i);p()}t.subscribe((0,hr.x)(r,E=>{u=E,c=e.now(),i||(i=e.schedule(_,n),r.add(i))},()=>{p(),r.complete()},void 0,()=>{u=i=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,At.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function lI(n){return{getDownloadURL:()=>Qe(void 0).pipe(ir.fc,Qn(()=>n.getDownloadURL()),ir.iC),getMetadata:()=>Qe(void 0).pipe(ir.fc,Qn(()=>n.getMetadata()),ir.iC),delete:()=>(0,Xt.D)(n.delete()),child:e=>lI(n.child(e)),updateMetadata:e=>(0,Xt.D)(n.updateMetadata(e)),put:(e,t)=>VP(n.put(e,t)),putString:(e,t,r)=>VP(n.putString(e,t,r)),list:e=>(0,Xt.D)(n.list(e)),listAll:()=>(0,Xt.D)(n.listAll())}}const $U=new s.OlP("angularfire2.storageBucket"),GU=new s.OlP("angularfire2.storage.maxUploadRetryTime"),zU=new s.OlP("angularfire2.storage.maxOperationRetryTime"),WU=new s.OlP("angularfire2.storage.use-emulator");let KU=(()=>{class n{constructor(t,r,i,u,c,p,_,E,A,x){const L=(0,nr.on)(t,c,r);this.storage=(0,nr.cc)(`${L.name}.storage.${i}`,"AngularFireStorage",L.name,()=>{const j=c.runOutsideAngular(()=>L.storage(i||void 0)),Q=A;return Q&&j.useEmulator(...Q),_&&j.setMaxUploadRetryTime(_),E&&j.setMaxOperationRetryTime(E),j},[_,E])}ref(t){return lI(this.storage.ref(t))}refFromURL(t){return lI(this.storage.refFromURL(t))}upload(t,r,i){return lI(this.storage.ref(t)).put(r,i)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(nr.Dh),s.LFG(nr.xv,8),s.LFG($U,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(ir.HU),s.LFG(GU,8),s.LFG(zU,8),s.LFG(WU,8),s.LFG(c_,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),YU=(()=>{class n{constructor(t,r,i){this.fireauth=t,this.firestore=r,this.router=i}encryptPassword(t,r){const i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let u="";for(let c=0;c<t.length;c++){const p=t[c],_=i.indexOf(p);u+=-1!==_?i[(_+r)%i.length]:p}return u}decryptPassword(t,r){const i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let u="";for(let c=0;c<t.length;c++){const p=t[c],_=i.indexOf(p);if(-1!==_){let E=(_-r)%i.length;E<0&&(E+=i.length),u+=i[E]}else u+=p}return u}register(t,r,i,u,c,p){const _=this.encryptPassword(r,1);this.firestore.collection("users").doc(t).set({nom:i,prenom:u,email:t,tel:c,img:p,password:_}).then(()=>{alert("Registration Successful"),this.router.navigate(["/login"])}).catch(E=>{alert(E.message),this.router.navigate(["/register"])})}getUsers(){return this.firestore.collection("users").snapshotChanges()}}return n.\u0275fac=function(t){return new(t||n)(s.LFG($r),s.LFG(Tr),s.LFG(Bt))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$M=(()=>{class n{constructor(t,r,i){this.fireauth=t,this.firestore=r,this.router=i}getCommandes(){return this.firestore.collection("Commande").snapshotChanges()}getFactA(t){const i=(new Date).getFullYear();return this.firestore.collection("FactA"+i).doc().get()}addFactA(t,r){const u=(new Date).getFullYear();this.firestore.collection("FactA"+u).doc(r.toString()).set({NumC:t,NumF:r,date:new Date,NumBL:0}).then(()=>{alert(" La commande Numero: "+t+" est Factur\xe9e")}).catch(p=>{alert(p.message)}),this.firestore.collection("Commande").doc(t).update({NumF:r}).then(()=>{console.log("update NumF Successful")}).catch(p=>{alert(p.message)})}getNumF(){const r=(new Date).getFullYear();return this.firestore.collection("FactA"+r).snapshotChanges()}deleteC(t,r){var i=this;return(0,fe.Z)(function*(){const p=yield i.firestore.collection(r).ref.where("NumC","==",t).get();0!==p.size?p.docs.forEach(_=>{_.ref.delete()}):console.error(`Aucun document trouv\xe9 avec l'id: ${t}`)})()}}return n.\u0275fac=function(t){return new(t||n)(s.LFG($r),s.LFG(Tr),s.LFG(Bt))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),GM=(()=>{class n{constructor(t,r,i){this.fireauth=t,this.firestore=r,this.router=i}commandeInfo(t){return this.firestore.collection("Commande").doc(t).get()}articleInfo(){return this.firestore.collection("Article").snapshotChanges()}timestampToDate(t){const r=parseInt(t.split("seconds=")[1].split(",")[0]),i=parseInt(t.split("nanoseconds=")[1].split(")")[0]);return new Date(1e3*r+i/1e6).toLocaleDateString("fr-FR",{year:"numeric",month:"numeric",day:"numeric"})}}return n.\u0275fac=function(t){return new(t||n)(s.LFG($r),s.LFG(Tr),s.LFG(Bt))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fo=(()=>{class n{constructor(t,r,i,u,c){this.HS=t,this.firestore=r,this.router=i,this.BS=u,this.route=c}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(s.Y36($M),s.Y36(Tr),s.Y36(Bt),s.Y36(GM),s.Y36(vn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-navbar"]],inputs:{email:"email"},decls:46,vars:10,consts:[[1,"navbar","navbar-expand-lg","navbar-light",2,"background-color","#E6E6FA"],[1,"container-fluid"],[1,"navbar-brand",3,"href"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarScroll","aria-controls","navbarScroll","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarScroll",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","my-2","my-lg-0","navbar-nav-scroll",2,"--bs-scroll-height","100px"],[1,"nav-item"],["aria-current","page",1,"nav-link",3,"href"],[1,"nav-link",3,"href"],[1,"nav-item","dropdown"],["href","#","id","navbarScrollingDropdown","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],["aria-labelledby","navbarScrollingDropdown",1,"dropdown-menu"],[1,"dropdown-item",3,"href"],["href","#",1,"nav-link"]],template:function(t,r){1&t&&(s.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),s._uU(3,"Home"),s.qZA(),s.TgZ(4,"button",3),s._UZ(5,"span",4),s.qZA(),s.TgZ(6,"div",5)(7,"ul",6)(8,"li",7)(9,"a",8),s._uU(10,"Commande"),s.qZA()(),s.TgZ(11,"li",7)(12,"a",9),s._uU(13,"Facture"),s.qZA()(),s.TgZ(14,"li",7)(15,"a",9),s._uU(16,"Bon de Livraison"),s.qZA()(),s.TgZ(17,"li",7)(18,"a",9),s._uU(19,"Cheques"),s.qZA()(),s.TgZ(20,"li",10)(21,"a",11),s._uU(22," D\xe9penses "),s.qZA(),s.TgZ(23,"ul",12)(24,"li")(25,"a",13),s._uU(26,"Achats"),s.qZA()(),s.TgZ(27,"li")(28,"a",13),s._uU(29,"Frais "),s.qZA()()()(),s.TgZ(30,"li",10)(31,"a",11),s._uU(32," Etats "),s.qZA(),s.TgZ(33,"ul",12)(34,"li")(35,"a",13),s._uU(36,"Facture au cours de livraison "),s.qZA()(),s.TgZ(37,"li")(38,"a",13),s._uU(39,"Etats de ventes"),s.qZA()(),s.TgZ(40,"li")(41,"a",13),s._uU(42,"Etats des factures non regl\xe9e"),s.qZA()()()(),s.TgZ(43,"li",7)(44,"a",14),s._uU(45,"Deconnexion"),s.qZA()()()()()()),2&t&&(s.xp6(2),s.MGl("href","home/",r.email,"  ",s.LSH),s.xp6(7),s.MGl("href","/commande/",r.email,"",s.LSH),s.xp6(3),s.MGl("href","/allFact/",r.email,"",s.LSH),s.xp6(3),s.MGl("href","/allBL/",r.email,"",s.LSH),s.xp6(3),s.MGl("href","/cheques/",r.email,"",s.LSH),s.xp6(7),s.MGl("href","/achats/",r.email,"",s.LSH),s.xp6(3),s.MGl("href","/frais/",r.email,"",s.LSH),s.xp6(7),s.MGl("href","/fcours/",r.email,"",s.LSH),s.xp6(3),s.MGl("href","/EVentes/",r.email,"",s.LSH),s.xp6(3),s.MGl("href","/EtatNR/",r.email,"",s.LSH))}}),n})();function JU(n,e){if(1&n&&s._UZ(0,"img",20),2&n){const t=s.oxw();s.Q6J("src",t.selectedFile,s.LSH)}}function QU(n,e){1&n&&s._UZ(0,"img",21)}let XU=(()=>{class n{constructor(t,r){this.storage=t,this.Rs=r,this.isSpinnerVisible=!1,this.Users=[],this.arrayEmail=[]}ngOnInit(){this.Rs.getUsers().subscribe(t=>{this.Users=t.map(r=>r.payload.doc.data());for(let r=0;r<this.Users.length;r++)this.arrayEmail[r]=this.Users[r].email})}upload(t){this.file=t.target.files[0];const r=new FileReader;if(t.target.files&&t.target.files.length){const[i]=t.target.files;r.readAsDataURL(i),r.onload=()=>{this.selectedFile=r.result,this.storage.ref("users/"+this.file.name).put(this.file).then(c=>{c.ref.getDownloadURL().then(p=>{console.log("Image URL:",p),this.img=p,console.log(this.img)})})}}}register(){""!=this.email?""!=this.password?(this.arrayEmail.includes(this.email)&&alert(" Cette email est utiliser dans un autre compte "),this.Rs.register(this.email,this.password,this.nom,this.prenom,this.tel,this.img),this.email="",this.password=""):alert("Please enter your password"):alert("Please enter your email")}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(KU),s.Y36(YU))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-register"]],decls:38,vars:7,consts:[[1,"container"],["for","Image",1,"form-label"],[1,"uk-inline"],["class","uk-border-pill","width","200","height","200","alt","Photo choisie",3,"src",4,"ngIf"],["class","uk-border-pill","src","assets/images/avatar.png","width","200","height","200","alt","Image par d\xe9faut",4,"ngIf"],["type","file",3,"change"],[1,"mb-3"],["for","nom",1,"form-label"],["type","text","name","nom",1,"form-control",3,"ngModel","ngModelChange"],["for","prenom",1,"form-label"],["type","text","name","prenom",1,"form-control",3,"ngModel","ngModelChange"],["for","tel",1,"form-label"],["type","number","name","tel",1,"form-control",3,"ngModel","ngModelChange"],["for","email",1,"form-label"],["type","email","name","email",1,"form-control",3,"ngModel","ngModelChange"],["for","password",1,"form-label"],["type","password","name","password",1,"form-control",3,"ngModel","ngModelChange"],["id","element-to-animate"],["type","submit",1,"btn","btn-primary",3,"click"],["href","/login"],["width","200","height","200","alt","Photo choisie",1,"uk-border-pill",3,"src"],["src","assets/images/avatar.png","width","200","height","200","alt","Image par d\xe9faut",1,"uk-border-pill"]],template:function(t,r){1&t&&(s._UZ(0,"app-navbar"),s.TgZ(1,"div",0)(2,"form")(3,"h2"),s._uU(4," Inscription "),s.qZA(),s.TgZ(5,"label",1),s._uU(6," Image de Profile "),s.qZA(),s._UZ(7,"br"),s.TgZ(8,"div",2),s.YNc(9,JU,1,1,"img",3),s.YNc(10,QU,1,0,"img",4),s.qZA(),s.TgZ(11,"input",5),s.NdJ("change",function(u){return r.upload(u)}),s.qZA(),s.TgZ(12,"div",6)(13,"label",7),s._uU(14,"Nom"),s.qZA(),s.TgZ(15,"input",8),s.NdJ("ngModelChange",function(u){return r.nom=u}),s.qZA()(),s.TgZ(16,"div",6)(17,"label",9),s._uU(18,"Pr\xe9nom"),s.qZA(),s.TgZ(19,"input",10),s.NdJ("ngModelChange",function(u){return r.prenom=u}),s.qZA()(),s.TgZ(20,"div",6)(21,"label",11),s._uU(22,"Numero de Telephone "),s.qZA(),s.TgZ(23,"input",12),s.NdJ("ngModelChange",function(u){return r.tel=u}),s.qZA()(),s.TgZ(24,"div",6)(25,"label",13),s._uU(26,"Email"),s.qZA(),s.TgZ(27,"input",14),s.NdJ("ngModelChange",function(u){return r.email=u}),s.qZA()(),s.TgZ(28,"div",6)(29,"label",15),s._uU(30,"Mot de passe"),s.qZA(),s.TgZ(31,"input",16),s.NdJ("ngModelChange",function(u){return r.password=u}),s.qZA()(),s._UZ(32,"div",17),s.TgZ(33,"button",18),s.NdJ("click",function(){return r.register()}),s._uU(34,"Envoyer"),s.qZA(),s._UZ(35,"br"),s.TgZ(36,"a",19),s._uU(37,"avez-vous deja un compte ? Se connecter !"),s.qZA()()()),2&t&&(s.xp6(9),s.Q6J("ngIf",r.selectedFile),s.xp6(1),s.Q6J("ngIf",!r.selectedFile),s.xp6(5),s.Q6J("ngModel",r.nom),s.xp6(4),s.Q6J("ngModel",r.prenom),s.xp6(4),s.Q6J("ngModel",r.tel),s.xp6(4),s.Q6J("ngModel",r.email),s.xp6(4),s.Q6J("ngModel",r.password))},dependencies:[bn,Jo,zs,Ad,ss,Yo,Vi,Ks,fo],styles:["form[_ngcontent-%COMP%]{margin:0;padding:0}.container[_ngcontent-%COMP%]{width:100%;height:100vh;align-items:center;justify-content:center;padding-top:3%;padding-bottom:5%}.form-container[_ngcontent-%COMP%]{margin:20px}.form-label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], input[type=file][_ngcontent-%COMP%]{display:block;width:100%;padding:10px;border:1px solid #ccc;border-radius:4px}button[type=submit][_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;padding:10px 20px;border:none;border-radius:4px;cursor:pointer}input[_ngcontent-%COMP%]:focus, button[_ngcontent-%COMP%]:hover{outline:none;box-shadow:0 0 0 1px #0003}"]}),n})();function eV(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"tr")(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.ALo(7,"date"),s.qZA(),s.TgZ(8,"td"),s._uU(9),s.qZA(),s.TgZ(10,"td")(11,"button",12),s.NdJ("click",function(){const u=s.CHM(t).$implicit,c=s.oxw();return s.KtG(c.testModal(u.NumC))}),s._uU(12,"Facture"),s.qZA()(),s.TgZ(13,"td")(14,"button",13),s.NdJ("click",function(){const u=s.CHM(t).$implicit,c=s.oxw();return s.KtG(c.update(u.NumC,u.date.toDate(),u.Timbre,u.client))}),s._uU(15,"Update"),s.qZA()(),s.TgZ(16,"td")(17,"button",14),s.NdJ("click",function(){const u=s.CHM(t).$implicit,c=s.oxw();return s.KtG(c.delete(u.NumC))}),s._uU(18,"Delete"),s.qZA()()()}if(2&n){const t=e.$implicit;s.xp6(2),s.Oqu(t.NumC),s.xp6(2),s.Oqu(t.client),s.xp6(2),s.Oqu(s.xi3(7,4,t.date.toDate(),"dd/MM/yyyy")),s.xp6(3),s.Oqu(t.etat)}}function tV(n,e){if(1&n){const t=s.EpF();s._uU(0," Cette Commande n'est pas encore Facturer "),s.TgZ(1,"div",15)(2,"button",16),s.NdJ("click",function(){s.CHM(t);const i=s.oxw();return s.KtG(i.FacturationAuto())}),s._uU(3,"Facturation Auto"),s.qZA(),s.TgZ(4,"button",17),s._uU(5,"Facturation Personalis\xe9e"),s.qZA(),s.TgZ(6,"button",18),s._uU(7,"Fermer"),s.qZA()()}}function nV(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"span"),s._uU(1," Cette Commande est deja facturer "),s.TgZ(2,"div",15)(3,"button",18),s._uU(4,"Fermer"),s.qZA(),s.TgZ(5,"button",16),s.NdJ("click",function(){s.CHM(t);const i=s.oxw();return s.KtG(i.seeFact())}),s._uU(6,"Voir"),s.qZA()()()}}let rV=(()=>{class n{constructor(t,r,i,u,c){this.HS=t,this.firestore=r,this.router=i,this.BS=u,this.route=c,this.commandes=[],this.d=new Date,this.arrayNumC=[],this.arrayNumF=[],this.DFacturation=this.d.toLocaleDateString("fr-FR"),this.DocF=[]}ngOnInit(){this.HS.getNumF().subscribe(t=>{this.DocF=t.map(r=>r.payload.doc.id)}),this.getCommandes(),this.route.paramMap.subscribe(t=>{this.email=t.get("email"),this.HS.getNumF().subscribe(r=>{this.NumF=r.map(i=>i.payload.doc.data());for(let i=0;i<this.NumF.length;i++){const u=this.NumF[i].NumC,c=JSON.parse(this.NumF[i].NumF);this.arrayNumC[i]=u,this.arrayNumF[i]=c}})})}getCommandes(){this.HS.getCommandes().subscribe(t=>{this.commandes=t.map(r=>r.payload.doc.data())})}testModal(t){this.NC=t,this.OK=!!this.arrayNumC.includes(t),console.log(this.OK)}seeFact(){this.router.navigate(["/FactA",this.NC,this.email])}FacturationAuto(){this.HS.addFactA(this.NC,0!=this.DocF.length?this.DocF.length+1:1)}delete(t){const i=(new Date).getFullYear(),u=i;this.HS.deleteC(t,"Article"),this.HS.deleteC(t,"ArticleBL"),this.HS.deleteC(t,"BL"+i),this.HS.deleteC(t,"FactA"+u),this.HS.deleteC(t,"Commande"),this.HS.deleteC(t,"FECours"),alert("La commande est Bien Supprim\xe9 , ainsi que la facture, le BL et de l'etat des des factures en cours de livraison")}update(t,r,i,u){const c=r.toLocaleDateString("en-GB");i.toString(),this.router.navigate(["/updateC",this.email,c,u,i,t])}}return n.\u0275fac=function(t){return new(t||n)(s.Y36($M),s.Y36(Tr),s.Y36(Bt),s.Y36(GM),s.Y36(vn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-home"]],decls:34,vars:4,consts:[[3,"email"],[1,"container"],[4,"ngFor","ngForOf"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["notOkTemplate",""],[4,"ngIf","ngIfElse"],["type","button","data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-light",3,"click"],["type","button",1,"btn","btn-warning",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-primary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"]],template:function(t,r){if(1&t&&(s._UZ(0,"app-navbar",0),s.TgZ(1,"div",1)(2,"h1"),s._uU(3,"Bon de commande"),s.qZA(),s.TgZ(4,"table")(5,"thead")(6,"tr")(7,"td"),s._uU(8,"Num\xe9ro Du Bon de Commande"),s.qZA(),s.TgZ(9,"td"),s._uU(10,"Client"),s.qZA(),s.TgZ(11,"td"),s._uU(12,"Date Du Bon de Commande"),s.qZA(),s.TgZ(13,"td"),s._uU(14,"Etat"),s.qZA(),s.TgZ(15,"td"),s._uU(16," Facture "),s.qZA(),s.TgZ(17,"td"),s._uU(18,"Modifier"),s.qZA(),s.TgZ(19,"td"),s._uU(20,"Supprimer"),s.qZA()()(),s.TgZ(21,"tbody"),s.YNc(22,eV,19,7,"tr",2),s.qZA()(),s.TgZ(23,"div",3)(24,"div",4)(25,"div",5)(26,"div",6)(27,"h5",7),s._uU(28,"Alert"),s.qZA(),s._UZ(29,"button",8),s.qZA(),s.TgZ(30,"div",9),s.YNc(31,tV,8,0,"ng-template",null,10,s.W1O),s.YNc(33,nV,7,0,"span",11),s.qZA()()()()()),2&t){const i=s.MAs(32);s.Q6J("email",r.email),s.xp6(22),s.Q6J("ngForOf",r.commandes),s.xp6(11),s.Q6J("ngIf",r.OK)("ngIfElse",i)}},dependencies:[Yt,bn,fo,cs],styles:["table[_ngcontent-%COMP%]{width:100%;margin-top:1.5cm}th[_ngcontent-%COMP%]{padding:10px 15px;text-align:left;font-weight:700;border:1px solid #ddd}td[_ngcontent-%COMP%]{padding:10px 15px;border:1px solid #ddd}.table-striped[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#0000000d}button[_ngcontent-%COMP%]{padding:5px 10px;border:none;border-radius:4px;cursor:pointer}.btn-light[_ngcontent-%COMP%]{background-color:#e9ecef;color:#343a40}.btn-warning[_ngcontent-%COMP%]{background-color:#ffc107;color:#343a40}.btn-danger[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}button[_ngcontent-%COMP%]:hover{opacity:.8}"]}),n})(),iV=(()=>{class n{constructor(t,r){this.firestore=t,this.router=r}addArticle(t,r,i,u,c){this.firestore.collection("Article").doc().set({NumC:t,LibA:r,PrixUn:i,TVA:u,Qte:c}).then(()=>{alert("L'article est ajout\xe9e pour la commande Numero: "+t)}).catch(p=>{alert(p.message)})}addCommande(t,r,i){this.firestore.collection("Commande").doc(t).set({NumC:t,client:r,Timbre:i,NumF:0,date:new Date,etat:"en attente...",NumBL:0}).then(()=>{alert(" La commande Numero: "+t+" est stocker avec succ\xe9es")}).catch(u=>{alert(u.message)})}getCommandes(){return this.firestore.collection("Commande").snapshotChanges()}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Tr),s.LFG(Bt))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sV=(()=>{class n{constructor(t,r,i){this.route=t,this.CS=r,this.HS=i,this.commandes=[],this.arrayNumC=[]}ngOnInit(){this.route.paramMap.subscribe(t=>{t.get("email"),this.email=t.get("email")}),this.HS.getCommandes().subscribe(t=>{this.commandes=t.map(r=>r.payload.doc.id)}),this.route.paramMap.subscribe(t=>{let r=t.get("nba");this.nba=parseInt(r)}),this.CS.getCommandes().subscribe(t=>{this.commandes=t.map(r=>r.payload.doc.data());for(let r=0;r<this.commandes.length;r++)this.arrayNumC[r]=this.commandes[r].NumC})}addTask(){""!==this.NumC&&""!==this.client?(this.CS.addArticle(this.NumC,this.LibA,this.PA,this.TVA,this.QTE),this.LibA="",this.PA=0,this.TVA=0,this.QTE=0):alert("La numero de Commande et le client sont obligatoire")}addCommande(){""!==this.NumC&&""!==this.client?this.arrayNumC.includes(this.NumC)?alert("Ce Numero de Commande est deja existe dans le Base de donne\xe9s"):(this.CS.addCommande(this.NumC,this.client,1),this.client="",this.LibA="",this.PA=0,this.TVA=0,this.QTE=0,this.NumC=""):alert("La numero de Commande et le client sont obligatoire")}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(vn),s.Y36(iV),s.Y36($M))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-commande"]],decls:48,vars:10,consts:[[3,"email"],[1,"container"],["commandeForm","ngForm"],[1,"form-group"],["for","task"],["type","text","id","NumC","placeholder","Numero de bande de commande","name","numC",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","client","placeholder","Numero de bande de commande","name","client",1,"form-control",3,"ngModel","ngModelChange"],["id","submitButton","type","submit",1,"btn","btn-primary",3,"disabled","click"],["articleForm","ngForm"],["type","text","id","NumC","placeholder","Numero de bande de commande","name","numC","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","LibA","placeholder","Nom de l'article","name","LibA",1,"form-control",3,"ngModel","ngModelChange"],["type","number","id","PA","placeholder","Prix Unitaire de l'article","name","PA",1,"form-control",3,"ngModel","ngModelChange"],["type","number","id","TVA","placeholder","TVA","name","TVA",1,"form-control",3,"ngModel","ngModelChange"],["type","number","id","QTE","placeholder","QTE","name","QTE",1,"form-control",3,"ngModel","ngModelChange"]],template:function(t,r){if(1&t&&(s._UZ(0,"app-navbar",0),s.TgZ(1,"div",1)(2,"h1"),s._uU(3," Ajouter une nouvelle commande "),s.qZA(),s._UZ(4,"hr"),s.TgZ(5,"form",null,2)(7,"div",3)(8,"label",4),s._uU(9,"Numero de la bande de commande :"),s.qZA(),s.TgZ(10,"input",5),s.NdJ("ngModelChange",function(u){return r.NumC=u}),s.qZA(),s._UZ(11,"br"),s.TgZ(12,"label",4),s._uU(13,"Client : "),s.qZA(),s.TgZ(14,"input",6),s.NdJ("ngModelChange",function(u){return r.client=u}),s.qZA(),s._UZ(15,"br"),s.TgZ(16,"button",7),s.NdJ("click",function(){return r.addCommande()}),s._uU(17,"Ajouter la commande"),s.qZA()()(),s._UZ(18,"hr"),s.TgZ(19,"h3"),s._uU(20," Ajouter Des articles a votre commande "),s.qZA(),s._UZ(21,"hr"),s.TgZ(22,"form",null,8)(24,"div",3)(25,"label",4),s._uU(26,"Numero de la bande de commande :"),s.qZA(),s.TgZ(27,"input",9),s.NdJ("ngModelChange",function(u){return r.NumC=u}),s.qZA(),s._UZ(28,"br"),s.TgZ(29,"label",4),s._uU(30,"Nom de l'article : "),s.qZA(),s.TgZ(31,"input",10),s.NdJ("ngModelChange",function(u){return r.LibA=u}),s.qZA(),s._UZ(32,"br"),s.TgZ(33,"label",4),s._uU(34,"Prix Unitaire de l'article :"),s.qZA(),s.TgZ(35,"input",11),s.NdJ("ngModelChange",function(u){return r.PA=u}),s.qZA(),s._UZ(36,"br"),s.TgZ(37,"label",4),s._uU(38,"TVA :"),s.qZA(),s.TgZ(39,"input",12),s.NdJ("ngModelChange",function(u){return r.TVA=u}),s.qZA(),s._UZ(40,"br"),s.TgZ(41,"label",4),s._uU(42,"Quantit\xe9 : :"),s.qZA(),s.TgZ(43,"input",13),s.NdJ("ngModelChange",function(u){return r.QTE=u}),s.qZA(),s._UZ(44,"br"),s.TgZ(45,"button",7),s.NdJ("click",function(){return r.addTask()}),s._uU(46,"Ajouter l'article"),s.qZA(),s._UZ(47,"br"),s.qZA()()()),2&t){const i=s.MAs(6),u=s.MAs(23);s.Q6J("email",r.email),s.xp6(10),s.Q6J("ngModel",r.NumC),s.xp6(4),s.Q6J("ngModel",r.client),s.xp6(2),s.Q6J("disabled",i.invalid),s.xp6(11),s.Q6J("ngModel",r.NumC),s.xp6(4),s.Q6J("ngModel",r.LibA),s.xp6(4),s.Q6J("ngModel",r.PA),s.xp6(4),s.Q6J("ngModel",r.TVA),s.xp6(4),s.Q6J("ngModel",r.QTE),s.xp6(2),s.Q6J("disabled",u.invalid)}},dependencies:[Jo,zs,Ad,ss,Yo,Vi,Ks,fo],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;margin:0;padding:20px;background-color:#f5f5f5}h1[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}hr[_ngcontent-%COMP%]{border:0;height:1px;background-color:#ddd}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;margin-bottom:30px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:15px}label[_ngcontent-%COMP%]{margin-bottom:5px;font-weight:700}.form-control[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:8px}.form-control[_ngcontent-%COMP%]:focus{border-color:#999}#submitButton[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;border:none;border-radius:4px;padding:10px 20px;font-weight:700;cursor:pointer;margin-top:10px;transition:background-color .2s ease-in-out}#submitButton[_ngcontent-%COMP%]:hover{background-color:#2980b9}.container[_ngcontent-%COMP%]{border:1px solid #eee;border-radius:4px;padding:20px;max-width:800px;margin:0 auto}#articleForm[_ngcontent-%COMP%]   .form-control[disabled][_ngcontent-%COMP%]{background-color:#eee;cursor:not-allowed}"]}),n})(),oV=(()=>{class n{constructor(t,r,i){this.fireauth=t,this.firestore=r,this.router=i}commandeInfo(t){return this.firestore.collection("Commande").doc(t).get()}articleInfo(){return this.firestore.collection("Article").snapshotChanges()}IBM(){return this.firestore.collection("IBM").doc("gjmZnHkOvgCiPrRNReTt").get()}timestampToDate(t){const r=parseInt(t.split("seconds=")[1].split(",")[0]),i=parseInt(t.split("nanoseconds=")[1].split(")")[0]);return new Date(1e3*r+i/1e6).toLocaleDateString("fr-FR",{year:"numeric",month:"numeric",day:"numeric"})}}return n.\u0275fac=function(t){return new(t||n)(s.LFG($r),s.LFG(Tr),s.LFG(Bt))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function aV(n,e){if(1&n&&(s.TgZ(0,"tr")(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA(),s.TgZ(7,"td"),s._uU(8),s.qZA(),s.TgZ(9,"td"),s._uU(10),s.qZA(),s.TgZ(11,"td"),s._uU(12),s.qZA(),s.TgZ(13,"td"),s._uU(14),s.qZA(),s.TgZ(15,"td"),s._uU(16),s.qZA()()),2&n){const t=e.$implicit,r=e.index;s.xp6(2),s.Oqu(r+1),s.xp6(2),s.Oqu(t.LibA),s.xp6(2),s.Oqu(t.Qte),s.xp6(2),s.Oqu(t.PrixUn.toFixed(3)),s.xp6(2),s.Oqu((t.PrixUn*t.Qte).toFixed(3)),s.xp6(2),s.hij("",t.TVA,"%"),s.xp6(2),s.Oqu((t.PrixUn*(1+t.TVA/100)).toFixed(3)),s.xp6(2),s.hij(" ",(t.PrixUn*t.Qte*(1+t.TVA/100)).toFixed(3)," ")}}let uV=(()=>{class n{constructor(t,r,i){this.route=t,this.FAS=r,this.firestore=i,this.years=new Date,this.annee=this.years.getFullYear(),this.NumBL=0,this.TVA19=0,this.TVA7=0,this.THT=0}ngOnInit(){this.route.paramMap.subscribe(t=>{this.email=t.get("email"),this.NumC=t.get("NumC"),this.Getarticles(),this.GetCommandes()}),this.FAS.IBM().subscribe(t=>{t.exists&&(this.codeTVA=t.data(),this.codeTVA=this.codeTVA.CodeTva,this.adr=t.data(),this.adr=this.adr.Adresse,this.EIBM=t.data(),this.EIBM=this.EIBM.Email,this.fax=t.data(),this.fax=this.fax["T\xe9l/Fax"],this.GSM=t.data(),this.GSM=this.GSM.GSM,this.RIB=t.data(),this.RIB=this.RIB.RIB)})}Getarticles(){this.FAS.articleInfo().subscribe(t=>{this.Articles=t.map(r=>r.payload.doc.data()),this.Articles=this.Articles.filter(r=>r.NumC===this.NumC),this.Articles.forEach(r=>{this.THT+=r.PrixUn*r.Qte}),this.Articles.forEach(r=>{19==r.TVA?this.TVA19+=r.PrixUn*r.Qte*(r.TVA/100):this.TVA7+=r.PrixUn*r.Qte*(r.TVA/100),this.MTVA=this.TVA19+this.TVA7})})}GetCommandes(){this.FAS.commandeInfo(this.NumC).subscribe(t=>{const r=t.data();this.Timbre=r.Timbre,this.NumF=r.NumF,this.fullNumF=this.NumF.toString()+"/"+this.annee.toString(),this.client=r.client,this.etat=r.etat,this.date=r.date,this.NumBL=r.NumBL,this.fullNumBL=this.NumBL.toString()+"/"+this.annee.toString(),this.mydate=this.date.toLocaleString("fr-FR",{year:"numeric",month:"2-digit",day:"2-digit"}),this.mydate=this.FAS.timestampToDate(this.mydate)})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(vn),s.Y36(oV),s.Y36(Tr))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-fact-auto"]],decls:86,vars:16,consts:[[1,"container"],[1,"guache"],[1,"Con"],[2,"text-align","left"],[2,"padding-bottom","0.5cm"],[4,"ngFor","ngForOf"],["colspan","7",2,"text-align","right"],["type","text","placeholder"," Montant en lettres "]],template:function(t,r){1&t&&(s.TgZ(0,"div",0)(1,"div",1)(2,"h1"),s._uU(3,"IBM "),s.TgZ(4,"h5"),s._uU(5," Informatique Bureautique Moderne"),s.TgZ(6,"h5"),s._uU(7,"\u0627\u0644\u0625\u0639\u0644\u0627\u0645\u064a\u0629 \u0648 \u0627\u0644\u0625\u062f\u0627\u0631\u064a\u0629 \u0627\u0644\u062d\u062f\u064a\u062b\u0629"),s.qZA()()()(),s.TgZ(8,"div",2),s._uU(9),s._UZ(10,"br"),s._uU(11),s._UZ(12,"br"),s._uU(13),s._UZ(14,"br"),s._uU(15),s._UZ(16,"br"),s._uU(17),s.qZA(),s.TgZ(18,"h2",3),s._uU(19,"Facture"),s.qZA(),s.TgZ(20,"div",4),s._uU(21),s._UZ(22,"br"),s._uU(23),s._UZ(24,"br"),s._uU(25),s._UZ(26,"br"),s._uU(27),s._UZ(28,"br"),s._uU(29),s._UZ(30,"br"),s.qZA(),s.TgZ(31,"table")(32,"thead")(33,"tr")(34,"th"),s._uU(35,"N\xb0"),s.qZA(),s.TgZ(36,"th"),s._uU(37,"DESIGNATION"),s.qZA(),s.TgZ(38,"th"),s._uU(39,"Qte"),s.qZA(),s.TgZ(40,"th"),s._uU(41,"PUHT"),s.qZA(),s.TgZ(42,"th"),s._uU(43,"PTHT"),s.qZA(),s.TgZ(44,"th"),s._uU(45,"TVA"),s.qZA(),s.TgZ(46,"th"),s._uU(47,"PUTTC"),s.qZA(),s.TgZ(48,"th"),s._uU(49,"PTTTC"),s.qZA()()(),s.TgZ(50,"tbody"),s.YNc(51,aV,17,8,"tr",5),s.qZA(),s.TgZ(52,"tfoot")(53,"tr")(54,"td",6),s._uU(55,"TOTAL T.HT :"),s.qZA(),s.TgZ(56,"td"),s._uU(57),s.qZA()(),s.TgZ(58,"tr")(59,"td",6),s._uU(60,"TVA 7 :"),s.qZA(),s.TgZ(61,"td"),s._uU(62),s.qZA()(),s.TgZ(63,"tr")(64,"td",6),s._uU(65,"TVA 19 :"),s.qZA(),s.TgZ(66,"td"),s._uU(67),s.qZA()(),s.TgZ(68,"tr")(69,"td",6),s._uU(70,"TVA Totale :"),s.qZA(),s.TgZ(71,"td"),s._uU(72),s.qZA()(),s.TgZ(73,"tr")(74,"td",6),s._uU(75,"Totale TTC :"),s.qZA(),s.TgZ(76,"td"),s._uU(77),s.qZA()()()(),s._UZ(78,"br"),s._uU(79," Arret\xe9e la pr\xe9sente facture \xe0 la somme de : "),s._UZ(80,"br")(81,"input",7),s.qZA(),s._UZ(82,"br")(83,"br")(84,"br")(85,"footer")),2&t&&(s.xp6(9),s.hij(" Adresse : ",r.adr," "),s.xp6(2),s.hij(" Matricule Fiscal : ",r.codeTVA,""),s.xp6(2),s.hij(" Tel/Fax : ",r.GSM,""),s.xp6(2),s.hij(" Email : ",r.EIBM,""),s.xp6(2),s.hij(" RIB : ",r.RIB," "),s.xp6(4),s.hij(" Numero N\xb0 : ",r.fullNumF," "),s.xp6(2),s.hij(" Date : ",r.mydate," "),s.xp6(2),s.hij(" Client : ",r.client,""),s.xp6(2),s.hij(" Bon de Commande : ",r.NumC,""),s.xp6(2),s.hij(" Bon de Livraison : ",0===r.NumBL?"":r.fullNumBL," "),s.xp6(22),s.Q6J("ngForOf",r.Articles),s.xp6(6),s.Oqu(r.THT.toFixed(3)),s.xp6(5),s.Oqu(r.TVA7.toFixed(3)),s.xp6(5),s.Oqu(r.TVA19.toFixed(3)),s.xp6(5),s.Oqu((r.TVA19+r.TVA7).toFixed(3)),s.xp6(5),s.Oqu((r.TVA19+r.TVA7+r.THT).toFixed(3)))},dependencies:[Yt],styles:["body[_ngcontent-%COMP%]{font-family:sans-serif}.container[_ngcontent-%COMP%]{width:100%;height:100vh;align-items:center;justify-content:center;padding-top:3%;padding-bottom:5%}header[_ngcontent-%COMP%]{background-color:#1a009b;color:#fff;padding:10px;text-align:center}h1[_ngcontent-%COMP%]{font-size:2em;margin:0}.droite[_ngcontent-%COMP%]{text-align:right}.gauche[_ngcontent-%COMP%]{text-align:left}.facture[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}table[_ngcontent-%COMP%]{width:90%;margin-top:1.5cm}th[_ngcontent-%COMP%]{padding:10px 15px;text-align:left;font-weight:700;border:1px solid #ddd}td[_ngcontent-%COMP%]{padding:10px 15px;border:1px solid #ddd}.table-striped[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#0000000d}footer[_ngcontent-%COMP%]{margin:auto;padding:10px;text-align:center;width:80%;background-color:#fff;font-family:Arial,sans-serif;font-size:10px;color:#666;margin-block-end:1px}body[_ngcontent-%COMP%]{margin:0;padding:0}.container[_ngcontent-%COMP%]{height:auto;padding:0}table[_ngcontent-%COMP%]{width:95%;margin-top:0}.mydate[_ngcontent-%COMP%]{padding-left:75%}.sig[_ngcontent-%COMP%]{padding-left:65%;margin-top:1cm;margin-bottom:5cm}input[type=text][_ngcontent-%COMP%]{width:700px;height:30px;border:none}.Con[_ngcontent-%COMP%]{float:left;width:300px;height:200px;margin:20px;border:1px solid #ccc;padding:20px;background-color:#f0f0f0}.Con2[_ngcontent-%COMP%]{float:right;width:300px;height:200px;margin:20px auto;border:1px solid #ccc;padding:20px;background-color:#f0f0f0}"]}),n})();function lV(n,e){if(1&n&&(s.TgZ(0,"tr")(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA()()),2&n){const t=e.$implicit,r=e.index;s.xp6(2),s.Oqu(r+1),s.xp6(2),s.hij(" ",t.LibA," "),s.xp6(2),s.hij(" ",t.Qte," ")}}let cV=(()=>{class n{constructor(t,r){this.BS=t,this.route=r,this.NumBL=0,this.years=new Date,this.annee=this.years.getFullYear()}ngOnInit(){this.Getarticles(),this.route.paramMap.subscribe(t=>{this.email=t.get("email"),this.NC=t.get("NumC")}),this.GetCommandes()}Getarticles(){this.BS.articleInfo().subscribe(t=>{this.Articles=t.map(r=>r.payload.doc.data()),this.Articles=this.Articles.filter(r=>r.NumC===this.NC)})}GetCommandes(){this.BS.commandeInfo(this.NC).subscribe(t=>{const r=t.data();this.Timbre=r.Timbre,this.NumBL=r.NumBL,this.NumF=r.NumF,this.fullNumBL=this.NumF.toString()+"/"+this.annee.toString(),this.client=r.client,this.etat=r.etat,this.date=r.date,this.mydate=this.date.toLocaleString("fr-FR",{year:"numeric",month:"2-digit",day:"2-digit"}),this.mydate=this.BS.timestampToDate(this.mydate)})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(GM),s.Y36(vn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-bl"]],decls:26,vars:5,consts:[[1,"gauche"],[1,"droite"],[2,"text-align","center"],[1,"container"],[1,"mydate"],[2,"padding-bottom","0.5cm"],[4,"ngFor","ngForOf"]],template:function(t,r){1&t&&(s.TgZ(0,"header")(1,"h1"),s._uU(2,"IBM"),s.qZA(),s.TgZ(3,"div",0),s._uU(4,"Informatique Bureautique Moderne"),s.qZA(),s.TgZ(5,"div",1),s._uU(6," \u0627\u0644\u0625\u0639\u0644\u0627\u0645\u064a\u0629 \u0648 \u0627\u0644\u0625\u062f\u0627\u0631\u064a\u0629 \u0627\u0644\u062d\u062f\u064a\u062b\u0629 "),s.qZA()(),s.TgZ(7,"h2",2),s._uU(8),s.qZA(),s.TgZ(9,"div",3)(10,"div",4),s._uU(11),s.qZA(),s.TgZ(12,"div",5),s._uU(13),s._UZ(14,"br"),s._uU(15),s._UZ(16,"br"),s.qZA(),s.TgZ(17,"table")(18,"tr")(19,"th"),s._uU(20," N\xb0 "),s.qZA(),s.TgZ(21,"th"),s._uU(22," DESIGNATION "),s.qZA(),s.TgZ(23,"th"),s._uU(24," QTE "),s.qZA()(),s.YNc(25,lV,7,3,"tr",6),s.qZA()()),2&t&&(s.xp6(8),s.hij("BON DE LIVRAISON N\xb0 ",r.fullNumBL," "),s.xp6(3),s.hij(" Date : ",r.mydate,""),s.xp6(2),s.hij(" Client : ",r.client,""),s.xp6(2),s.hij(" Bon de Commande : ",r.NC,""),s.xp6(10),s.Q6J("ngForOf",r.Articles))},dependencies:[Yt],styles:["body[_ngcontent-%COMP%]{font-family:sans-serif}.container[_ngcontent-%COMP%]{width:100%;height:100vh;align-items:center;justify-content:center;padding-top:3%;padding-bottom:5%}header[_ngcontent-%COMP%]{background-color:#1a009b;color:#fff;padding:10px;text-align:center}h1[_ngcontent-%COMP%]{font-size:2em;margin:0}.gauche[_ngcontent-%COMP%], .droite[_ngcontent-%COMP%]{font-size:1.5em;margin:0}.droite[_ngcontent-%COMP%]{text-align:right}.gauche[_ngcontent-%COMP%]{text-align:left}.facture[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}table[_ngcontent-%COMP%]{width:90%;margin-top:1.5cm}th[_ngcontent-%COMP%]{padding:10px 15px;text-align:left;font-weight:700;border:1px solid #ddd}td[_ngcontent-%COMP%]{padding:10px 15px;border:1px solid #ddd}.table-striped[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#0000000d}footer[_ngcontent-%COMP%]{margin:auto;padding:10px;text-align:center;width:80%;background-color:#fff;font-family:Arial,sans-serif;font-size:10px;color:#666;margin-block-end:1px}body[_ngcontent-%COMP%]{margin:0;padding:0}.container[_ngcontent-%COMP%]{height:auto;padding:0}table[_ngcontent-%COMP%]{width:95%;margin-top:0}.mydate[_ngcontent-%COMP%]{padding-left:75%}.sig[_ngcontent-%COMP%]{padding-left:65%;margin-top:1cm;margin-bottom:5cm}"]}),n})(),dV=(()=>{class n{constructor(t,r,i){this.fireauth=t,this.firestore=r,this.router=i}getFactA(t){return this.firestore.collection("FactA"+t).snapshotChanges()}getFactA1(){const r=(new Date).getFullYear();return this.firestore.collection("FactA"+r).snapshotChanges()}getBL(){const r=(new Date).getFullYear();return this.firestore.collection("BL"+r).snapshotChanges()}BLGlobal(t,r,i){const c=(new Date).getFullYear();this.firestore.collection("BL"+c).doc(i.toString()).set({NumC:r,NumF:t,NumBL:i,date:new Date,Cat:"G"}).then(()=>{alert(" Le BL est ajout\xe9e  ")}).catch(E=>{alert(E.message)}),this.firestore.collection("FactA"+c).doc(t.toString()).update({NumBL:i}),this.firestore.collection("Commande").doc(r.toString()).update({NumBL:i})}getNumBL(){const r=(new Date).getFullYear();return this.firestore.collection("BL"+r).snapshotChanges()}getNumFcours(){return this.firestore.collection("FECours").snapshotChanges()}deleteC(t,r){var i=this;return(0,fe.Z)(function*(){const p=yield i.firestore.collection(r).ref.where("NumC","==",t).get();0!==p.size?p.docs.forEach(_=>{_.ref.delete()}):console.error(`Aucun document trouv\xe9 avec l'id: ${t}`)})()}maxTab(t,r){return r.sort(),r[r.length-1]===t}commandeInfo(t){return this.firestore.collection("Commande").doc(t).get()}articleInfo(){return this.firestore.collection("Article").snapshotChanges()}addFcours(t,r,i){this.firestore.collection("FECours").doc(t).set({NumC:t,NumF:r,MTTC:i})}}return n.\u0275fac=function(t){return new(t||n)(s.LFG($r),s.LFG(Tr),s.LFG(Bt))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function hV(n,e){if(1&n&&(s.TgZ(0,"option",15),s._uU(1),s.qZA()),2&n){const t=e.$implicit;s.Q6J("value",t),s.xp6(1),s.Oqu(t)}}function fV(n,e){1&n&&(s.TgZ(0,"tr")(1,"td",16)(2,"p"),s._uU(3," pas de donne\xe9s "),s.qZA()()())}function pV(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"tr")(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.ALo(7,"date"),s.qZA(),s.TgZ(8,"td")(9,"button",17),s.NdJ("click",function(){const u=s.CHM(t).$implicit,c=s.oxw();return s.KtG(c.AjouterBL(u.NumC,u.NumF))}),s._uU(10,"Ajouter BL"),s.qZA()(),s.TgZ(11,"td")(12,"button",18),s.NdJ("click",function(){const u=s.CHM(t).$implicit,c=s.oxw();return s.KtG(c.seeFact(u.NumC))}),s._uU(13,"Voir"),s.qZA()(),s.TgZ(14,"td")(15,"button",19),s.NdJ("click",function(){const u=s.CHM(t).$implicit,c=s.oxw();return s.KtG(c.livraison(u.NumC,u.NumF))}),s._uU(16,"Livraison"),s.qZA()(),s.TgZ(17,"td")(18,"button",20),s.NdJ("click",function(){const u=s.CHM(t).$implicit,c=s.oxw();return s.KtG(c.toupdate(u.date.toDate(),u.NumF))}),s._uU(19,"Update"),s.qZA()(),s.TgZ(20,"td")(21,"button",21),s.NdJ("click",function(){const u=s.CHM(t).$implicit,c=s.oxw();return s.KtG(c.delete(u.NumC,u.NumF))}),s._uU(22,"Delete"),s.qZA()()()}if(2&n){const t=e.$implicit;s.xp6(2),s.hij(" ",t.NumF," "),s.xp6(2),s.hij(" ",t.NumC," "),s.xp6(2),s.Oqu(s.xi3(7,3,t.date.toDate(),"dd/MM/yyyy"))}}function gV(n,e){if(1&n){const t=s.EpF();s._uU(0," Cette Facture n'a pas encore du BL . "),s.TgZ(1,"div",22)(2,"button",23),s.NdJ("click",function(){s.CHM(t);const i=s.oxw();return s.KtG(i.BLGlobal())}),s._uU(3," Ajouter BL Global "),s.qZA(),s.TgZ(4,"button",24),s._uU(5," Ajouter BL Personalis\xe9e "),s.qZA(),s.TgZ(6,"button",25),s._uU(7,"Fermer"),s.qZA()()}}function mV(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"span"),s._uU(1," Cette Facture a deja un BL . "),s.TgZ(2,"div",22)(3,"button",24),s._uU(4," Ajouter BL Global "),s.qZA(),s.TgZ(5,"button",24),s._uU(6," Ajouter BL Personalis\xe9e "),s.qZA(),s.TgZ(7,"button",23),s.NdJ("click",function(){s.CHM(t);const i=s.oxw();return s.KtG(i.seeBL())}),s._uU(8," Voir "),s.qZA(),s.TgZ(9,"button",25),s._uU(10,"Fermer"),s.qZA()()()}}let _V=(()=>{class n{constructor(t,r,i){this.allS=t,this.router=r,this.route=i,this.years=[],this.date=new Date,this.facts=[],this.BLs=[],this.DocBL=[],this.DocFE=[],this.arrayNumC=[],this.arrayNumBL=[],this.arrayNumF=[],this.ok=!1,this.TVA19=0,this.TVA7=0,this.THT=0}ngOnInit(){this.allS.getNumBL().subscribe(r=>{this.DocBL=r.map(i=>i.payload.doc.id)}),this.allS.getNumFcours().subscribe(r=>{this.DocFE=r.map(i=>i.payload.doc.id)}),this.route.paramMap.subscribe(r=>{r.get("email"),this.email=r.get("email")});const t=(new Date).getFullYear();this.selectedYear=t,this.getAllFact(this.selectedYear);for(let r=0;r<10;r++)this.years.push(t-r);this.allS.getBL().subscribe(r=>{this.BLs=r.map(i=>i.payload.doc.data());for(let i=0;i<this.BLs.length;i++){const c=this.BLs[i].NumBL;this.arrayNumC[i]=this.BLs[i].NumC,this.arrayNumBL[i]=c}}),this.allS.getFactA1().subscribe(r=>{this.BLs=r.map(i=>i.payload.doc.data());for(let i=0;i<this.BLs.length;i++)this.arrayNumF[i]=this.BLs[i].NumF})}onYearChange(){this.allS.getFactA(this.selectedYear).subscribe(t=>{this.facts=t.map(r=>r.payload.doc.data())})}getAllFact(t){this.allS.getFactA(t).subscribe(r=>{this.facts=r.map(i=>i.payload.doc.data())})}seeFact(t){this.router.navigate(["/FactA",t,this.email])}AjouterBL(t,r){this.NC=t,this.NF=r,this.ok=!!this.arrayNumC.includes(t)}BLGlobal(){this.allS.BLGlobal(this.NF,this.NC,0!=this.DocBL.length?this.DocBL.length+1:1)}seeBL(){this.router.navigate(["/BL",this.NC,this.email])}delete(t,r){if(this.allS.maxTab(r,this.arrayNumF)){const u=(new Date).getFullYear(),c=u;this.allS.deleteC(t,"ArticleBL"),this.allS.deleteC(t,"BL"+u),this.allS.deleteC(t,"FactA"+c),this.allS.deleteC(t,"EtatNR"),this.allS.deleteC(t,"Ventes"+c),alert("La facture est Bien Supprim\xe9 , ainsi que le BL")}else alert("Vous ne pouvez pas supprimer cette facture, car ce n'est pas la derni\xe8re")}livraison(t,r){this.DocFE.includes(t)?alert(" Cette Facture est deja au cours de livraison "):this.allS.articleInfo().subscribe(i=>{this.Articles=i.map(c=>c.payload.doc.data()),this.Articles=this.Articles.filter(c=>c.NumC===t),this.Articles.forEach(c=>{this.THT+=c.PrixUn*c.Qte}),this.Articles.forEach(c=>{19==c.TVA?this.TVA19+=c.PrixUn*c.Qte*(c.TVA/100):this.TVA7+=c.PrixUn*c.Qte*(c.TVA/100),this.MTVA=this.TVA19+this.TVA7}),this.allS.addFcours(t,r,(this.THT+this.MTVA).toFixed(3)),alert(" Cette Facture est Maintenant en cours de livraison ")})}toupdate(t,r){const i=t.toLocaleDateString("en-GB");this.router.navigate(["/updateF",this.email,i,r])}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(dV),s.Y36(Bt),s.Y36(vn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-allfacture"]],decls:42,vars:8,consts:[[3,"email"],[1,"container"],[3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[4,"ngFor","ngForOf"],["id","BLmodal","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","staticBackdropLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["notOkTemplate",""],[4,"ngIf","ngIfElse"],[3,"value"],["colspan","7",1,"exception"],["type","button","data-bs-toggle","modal","data-bs-target","#BLmodal",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-warning",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-primary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"]],template:function(t,r){if(1&t&&(s._UZ(0,"app-navbar",0)(1,"br"),s.TgZ(2,"div",1),s._uU(3," Chercher en : "),s.TgZ(4,"select",2),s.NdJ("ngModelChange",function(u){return r.selectedYear=u})("change",function(){return r.onYearChange()}),s.YNc(5,hV,2,2,"option",3),s.qZA(),s._UZ(6,"br")(7,"br"),s._uU(8),s.TgZ(9,"table")(10,"thead")(11,"tr")(12,"td"),s._uU(13," Num\xe9ro Facture "),s.qZA(),s.TgZ(14,"td"),s._uU(15," Num\xe9ro bon de commande "),s.qZA(),s.TgZ(16,"td"),s._uU(17," Date "),s.qZA(),s.TgZ(18,"td"),s._uU(19," Bon de Livraison "),s.qZA(),s.TgZ(20,"td"),s._uU(21," Voir "),s.qZA(),s.TgZ(22,"td"),s._uU(23," Debut de la livraison "),s.qZA(),s.TgZ(24,"td"),s._uU(25," Modifier "),s.qZA(),s.TgZ(26,"td"),s._uU(27," Supprimer "),s.qZA()()(),s.TgZ(28,"tbody"),s.YNc(29,fV,4,0,"tr",4),s.YNc(30,pV,23,6,"tr",5),s.qZA()(),s.TgZ(31,"div",6)(32,"div",7)(33,"div",8)(34,"div",9)(35,"h1",10),s._uU(36,"Alert"),s.qZA(),s._UZ(37,"button",11),s.qZA(),s.TgZ(38,"div",12),s.YNc(39,gV,8,0,"ng-template",null,13,s.W1O),s.qZA(),s.YNc(41,mV,11,0,"span",14),s.qZA()()()()),2&t){const i=s.MAs(40);s.Q6J("email",r.email),s.xp6(4),s.Q6J("ngModel",r.selectedYear),s.xp6(1),s.Q6J("ngForOf",r.years),s.xp6(3),s.hij(" Facturation ",r.selectedYear," : "),s.xp6(21),s.Q6J("ngIf",0===(null==r.facts?null:r.facts.length)),s.xp6(1),s.Q6J("ngForOf",r.facts),s.xp6(11),s.Q6J("ngIf",r.ok)("ngIfElse",i)}},dependencies:[Yt,bn,If,Df,Bl,ss,Vi,fo,cs],styles:["table[_ngcontent-%COMP%]{width:100%;margin-top:1.5cm}th[_ngcontent-%COMP%]{padding:10px 15px;text-align:left;font-weight:700;border:1px solid #ddd}td[_ngcontent-%COMP%]{padding:10px 15px;border:1px solid #ddd}.table-striped[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#0000000d}button[_ngcontent-%COMP%]{padding:5px 10px;border:none;border-radius:4px;cursor:pointer}.btn-light[_ngcontent-%COMP%]{background-color:#e9ecef;color:#343a40}.btn-warning[_ngcontent-%COMP%]{background-color:#ffc107;color:#343a40}.btn-danger[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}button[_ngcontent-%COMP%]:hover{opacity:.8}.exception[_ngcontent-%COMP%]{text-align:center}"]}),n})(),yV=(()=>{class n{constructor(t,r,i){this.fireauth=t,this.firestore=r,this.router=i}NumBL(){const r=(new Date).getFullYear();return this.firestore.collection("BL"+r).snapshotChanges()}getBL(){const r=(new Date).getFullYear();return this.firestore.collection("BL"+r).snapshotChanges()}getBLA(t){return this.firestore.collection("BL"+t).snapshotChanges()}deleteC(t,r){var i=this;return(0,fe.Z)(function*(){const p=yield i.firestore.collection(r).ref.where("NumC","==",t).get();0!==p.size?p.docs.forEach(_=>{_.ref.delete()}):console.error(`Aucun document trouv\xe9 avec l'id: ${t}`)})()}}return n.\u0275fac=function(t){return new(t||n)(s.LFG($r),s.LFG(Tr),s.LFG(Bt))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function vV(n,e){if(1&n&&(s.TgZ(0,"option",7),s._uU(1),s.qZA()),2&n){const t=e.$implicit;s.Q6J("value",t),s.xp6(1),s.Oqu(t)}}function CV(n,e){1&n&&(s.TgZ(0,"tr")(1,"td",8)(2,"p"),s._uU(3," pas de donne\xe9s "),s.qZA()()())}function wV(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"tr")(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.ALo(7,"date"),s.qZA(),s.TgZ(8,"td")(9,"button",9),s.NdJ("click",function(){const u=s.CHM(t).$implicit,c=s.oxw();return s.KtG(c.seeBL(u.NumC))}),s._uU(10,"Voir"),s.qZA()(),s.TgZ(11,"td")(12,"button",10),s.NdJ("click",function(){const u=s.CHM(t).$implicit,c=s.oxw();return s.KtG(c.update(u.NumBL,u.date.toDate()))}),s._uU(13,"Update"),s.qZA()(),s.TgZ(14,"td")(15,"button",11),s.NdJ("click",function(){const u=s.CHM(t).$implicit,c=s.oxw();return s.KtG(c.delete(u.NumC))}),s._uU(16,"Delete"),s.qZA()()()}if(2&n){const t=e.$implicit;s.xp6(2),s.hij(" ",t.NumBL," "),s.xp6(2),s.hij(" ",t.NumC," "),s.xp6(2),s.Oqu(s.xi3(7,3,t.date.toDate(),"dd/MM/yyyy"))}}let bV=(()=>{class n{constructor(t,r,i){this.allS=t,this.router=r,this.route=i,this.years=[],this.date=new Date,this.facts=[],this.BLs=[],this.DocBL=[],this.arrayNumC=[],this.arrayNumBL=[],this.ok=!1}ngOnInit(){this.allS.NumBL().subscribe(r=>{this.DocBL=r.map(i=>i.payload.doc.id)}),this.route.paramMap.subscribe(r=>{r.get("email"),this.email=r.get("email")});const t=(new Date).getFullYear();this.selectedYear=t;for(let r=0;r<10;r++)this.years.push(t-r);this.allS.getBL().subscribe(r=>{this.BLs=r.map(i=>i.payload.doc.data());for(let i=0;i<this.BLs.length;i++){const c=this.BLs[i].NumBL;this.arrayNumC[i]=this.BLs[i].NumC,this.arrayNumBL[i]=c}}),console.log(this.arrayNumBL)}onYearChange(){this.allS.getBLA(this.selectedYear).subscribe(t=>{this.BLs=t.map(r=>r.payload.doc.data())})}getAllFact(){this.allS.getBLA(this.selectedYear).subscribe(t=>{this.BLs=t.map(r=>r.payload.doc.data())})}seeBL(t){this.router.navigate(["/BL",t,this.email])}toAddBl(){this.router.navigate(["/addbl",this.email])}delete(t){const i=(new Date).getFullYear();this.allS.deleteC(t,"Article"),this.allS.deleteC(t,"ArticleBL"),this.allS.deleteC(t,"BL"+i),alert("Le BL est Bien Supprim\xe9 .")}update(t,r){const i=r.toLocaleDateString("en-GB");this.router.navigate(["/updateBL",this.email,i,t])}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(yV),s.Y36(Bt),s.Y36(vn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-allbl"]],decls:29,vars:6,consts:[[3,"email"],[1,"container"],[3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"btn","btn-info",3,"click"],[3,"value"],["colspan","7",1,"exception"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-warning",3,"click"],[1,"btn","btn-danger",3,"click"]],template:function(t,r){1&t&&(s._UZ(0,"app-navbar",0),s.TgZ(1,"div",1),s._uU(2," Chercher en : "),s.TgZ(3,"select",2),s.NdJ("ngModelChange",function(u){return r.selectedYear=u})("change",function(){return r.onYearChange()}),s.YNc(4,vV,2,2,"option",3),s.qZA(),s._UZ(5,"br")(6,"br"),s._uU(7),s.TgZ(8,"table")(9,"thead")(10,"tr")(11,"td"),s._uU(12," Num\xe9ro BL "),s.qZA(),s.TgZ(13,"td"),s._uU(14," Num\xe9ro bon de commande "),s.qZA(),s.TgZ(15,"td"),s._uU(16," Date "),s.qZA(),s.TgZ(17,"td"),s._uU(18," Voir "),s.qZA(),s.TgZ(19,"td"),s._uU(20," Modifier "),s.qZA(),s.TgZ(21,"td"),s._uU(22," Supprimer "),s.qZA()()(),s.TgZ(23,"tbody"),s.YNc(24,CV,4,0,"tr",4),s.YNc(25,wV,17,6,"tr",5),s.qZA()(),s._UZ(26,"br"),s.TgZ(27,"button",6),s.NdJ("click",function(){return r.toAddBl()}),s._uU(28," Ajouter Un BL Personalis\xe9 "),s.qZA()()),2&t&&(s.Q6J("email",r.email),s.xp6(3),s.Q6J("ngModel",r.selectedYear),s.xp6(1),s.Q6J("ngForOf",r.years),s.xp6(3),s.hij(" Facturation ",r.selectedYear," : "),s.xp6(17),s.Q6J("ngIf",0===(null==r.BLs?null:r.BLs.length)),s.xp6(1),s.Q6J("ngForOf",r.BLs))},dependencies:[Yt,bn,If,Df,Bl,ss,Vi,fo,cs],styles:["table[_ngcontent-%COMP%]{width:100%;margin-top:1.5cm}th[_ngcontent-%COMP%]{padding:10px 15px;text-align:left;font-weight:700;border:1px solid #ddd}td[_ngcontent-%COMP%]{padding:10px 15px;border:1px solid #ddd}.table-striped[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#0000000d}button[_ngcontent-%COMP%]{padding:5px 10px;border:none;border-radius:4px;cursor:pointer}.btn-light[_ngcontent-%COMP%]{background-color:#e9ecef;color:#343a40}.btn-warning[_ngcontent-%COMP%]{background-color:#ffc107;color:#343a40}.btn-danger[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}button[_ngcontent-%COMP%]:hover{opacity:.8}.exception[_ngcontent-%COMP%]{text-align:center}"]}),n})(),EV=(()=>{class n{constructor(t){this.firestore=t}NumBL(){const r=(new Date).getFullYear();return this.firestore.collection("BL"+r).snapshotChanges()}addArticle(t,r,i,u){this.firestore.collection("ArticleBL").doc(r.toString()).set({NumC:t,NumBL:r,nomAR:i,Qte:u}).then(()=>{alert("L'article est ajout\xe9e pour le BL Numero: "+r)}).catch(c=>{alert(c.message)})}addBL(t,r,i){const c=(new Date).getFullYear();this.firestore.collection("BL"+c).doc(r.toString()).set({NumC:t,NumBL:r,client:i,Cat:"p",date:new Date}).then(()=>{alert("Le BL est ajout\xe9e dans la base de donn\xe9es sous le num\xe9ro : "+r)}).catch(_=>{alert(_.message)})}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Tr))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),TV=(()=>{class n{constructor(t,r,i){this.route=t,this.ABS=r,this.router=i,this.DocBL=[],this.NumBL=1,this.date=new Date}ngOnInit(){this.route.paramMap.subscribe(t=>{this.email=t.get("email")}),this.ABS.NumBL().subscribe(t=>{this.DocBL=t.map(r=>r.payload.doc.id);for(let r=0;r<this.DocBL.length;r++)this.NumBL<this.DocBL[r]&&(this.NumBL=this.DocBL[r])})}toAddBl(){this.router.navigate(["/addbl",this.email])}addArticleBL(){this.ABS.addArticle(this.NumC,this.NumBL,this.nomAR,this.Qte),this.nomAR="",this.Qte=0}addBLA(){this.NumBL=Number(this.NumBL)+1,this.ABS.addBL(this.NumC,this.NumBL,this.client),this.NumBL=this.NumBL,this.NumC="",this.client="",this.toAddBl()}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(vn),s.Y36(EV),s.Y36(Bt))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-add-bl"]],decls:42,vars:9,consts:[[3,"email"],[2,"text-align","center"],[1,"container"],["commandeForm","ngForm"],[1,"form-group"],["for","task"],["type","text","id","NumBL","placeholder","Numero du BL","name","NumBL","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","NumC","placeholder","Numero de bande de commande","name","numC",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","client","placeholder","Nom du client","name","client",1,"form-control",3,"ngModel","ngModelChange"],["id","submitButton","type","submit",1,"btn","btn-primary",3,"disabled","click"],["articleForm","ngForm"],["type","text","id","nomAR","placeholder","Nom de l'article","name","nomAR",1,"form-control",3,"ngModel","ngModelChange"],["type","number","id","Qte","placeholder","Qte","name","Qte",1,"form-control",3,"ngModel","ngModelChange"]],template:function(t,r){if(1&t&&(s._UZ(0,"app-navbar",0),s.TgZ(1,"h2",1),s._uU(2," Ajouter un BL "),s.qZA(),s.TgZ(3,"div",2)(4,"form",null,3)(6,"div",4)(7,"label",5),s._uU(8,"Numero du BL "),s.qZA(),s.TgZ(9,"input",6),s.NdJ("ngModelChange",function(u){return r.NumBL=u}),s.qZA(),s._UZ(10,"br"),s.TgZ(11,"label",5),s._uU(12,"Numero de la bande de commande :"),s.qZA(),s.TgZ(13,"input",7),s.NdJ("ngModelChange",function(u){return r.NumC=u}),s.qZA(),s._UZ(14,"br"),s.TgZ(15,"label",5),s._uU(16,"Client : "),s.qZA(),s.TgZ(17,"input",8),s.NdJ("ngModelChange",function(u){return r.client=u}),s.qZA(),s._UZ(18,"br"),s.TgZ(19,"button",9),s.NdJ("click",function(){return r.addBLA()}),s._uU(20,"Ajouter BL"),s.qZA()()(),s._UZ(21,"hr"),s.TgZ(22,"h3"),s._uU(23," Ajouter Des articles a votre BL "),s.qZA(),s._UZ(24,"hr"),s.TgZ(25,"form",null,10)(27,"div",4)(28,"label",5),s._uU(29,"Numero du BL "),s.qZA(),s.TgZ(30,"input",6),s.NdJ("ngModelChange",function(u){return r.NumBL=u}),s.qZA(),s._UZ(31,"br"),s.TgZ(32,"label",5),s._uU(33,"Nom de l'article : "),s.qZA(),s.TgZ(34,"input",11),s.NdJ("ngModelChange",function(u){return r.nomAR=u}),s.qZA(),s._UZ(35,"br"),s.TgZ(36,"label",5),s._uU(37,"Quantit\xe9 : :"),s.qZA(),s.TgZ(38,"input",12),s.NdJ("ngModelChange",function(u){return r.Qte=u}),s.qZA(),s._UZ(39,"br"),s.TgZ(40,"button",9),s.NdJ("click",function(){return r.addArticleBL()}),s._uU(41,"Ajouter Article"),s.qZA()()()()),2&t){const i=s.MAs(5);s.Q6J("email",r.email),s.xp6(9),s.Q6J("ngModel",r.NumBL),s.xp6(4),s.Q6J("ngModel",r.NumC),s.xp6(4),s.Q6J("ngModel",r.client),s.xp6(2),s.Q6J("disabled",i.invalid),s.xp6(11),s.Q6J("ngModel",r.NumBL),s.xp6(4),s.Q6J("ngModel",r.nomAR),s.xp6(4),s.Q6J("ngModel",r.Qte),s.xp6(2),s.Q6J("disabled",i.invalid)}},dependencies:[Jo,zs,Ad,ss,Yo,Vi,Ks,fo],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;margin:0;padding:20px;background-color:#f5f5f5}h1[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}hr[_ngcontent-%COMP%]{border:0;height:1px;background-color:#ddd}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;margin-bottom:30px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:15px}label[_ngcontent-%COMP%]{margin-bottom:5px;font-weight:700}.form-control[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:8px}.form-control[_ngcontent-%COMP%]:focus{border-color:#999}#submitButton[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;border:none;border-radius:4px;padding:10px 20px;font-weight:700;cursor:pointer;margin-top:10px;transition:background-color .2s ease-in-out}#submitButton[_ngcontent-%COMP%]:hover{background-color:#2980b9}.container[_ngcontent-%COMP%]{border:1px solid #eee;border-radius:4px;padding:20px;max-width:800px;margin:0 auto}#articleForm[_ngcontent-%COMP%]   .form-control[disabled][_ngcontent-%COMP%]{background-color:#eee;cursor:not-allowed}"]}),n})(),IV=(()=>{class n{constructor(t,r,i){this.fireauth=t,this.firestore=r,this.router=i}getNumFcours(){return this.firestore.collection("FECours").snapshotChanges()}deleteC(t,r){var i=this;return(0,fe.Z)(function*(){const p=yield i.firestore.collection(r).ref.where("NumC","==",t).get();0!==p.size?p.docs.forEach(_=>{_.ref.delete()}):console.error(`Aucun document trouv\xe9 avec l'id: ${t}`)})()}commandeInfo(t){return this.firestore.collection("Commande").doc(t).get()}articleInfo(){return this.firestore.collection("Article").snapshotChanges()}addET(t,r,i,u,c,p,_,E){const x=(new Date).getFullYear();this.firestore.collection("Ventes"+x).doc(r.toString()).set({NumC:t,NumF:r,dateF:i,client:u,PTHT:c,MTVA:p,timbre:_,MTTC:E}).then(()=>{alert("La facture est ajout\xe9e a l'etat des ventes:")}).catch(j=>{alert(j.message)})}addNR(t,r,i,u,c,p,_,E){this.firestore.collection("EtatNR").doc(r.toString()).set({NumC:t,NumF:r,dateF:i,client:u,PTHT:c,MTVA:p,timbre:_,MTTC:E,Reg:!1}).then(()=>{alert("La facture est ajout\xe9e a l'etat des factures non r\xe9gl\xe9e")}).catch(A=>{alert(A.message)})}}return n.\u0275fac=function(t){return new(t||n)(s.LFG($r),s.LFG(Tr),s.LFG(Bt))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function DV(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"tr")(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA(),s.TgZ(7,"td")(8,"button",3),s.NdJ("click",function(){const u=s.CHM(t).$implicit,c=s.oxw();return s.KtG(c.add(u.NumC,u.NumF,u.MTTC))}),s._uU(9,"Ajouter "),s.qZA()(),s.TgZ(10,"td")(11,"button",4),s.NdJ("click",function(){const u=s.CHM(t).$implicit,c=s.oxw();return s.KtG(c.delete(u.NumC))}),s._uU(12," Supprimer "),s.qZA()()()}if(2&n){const t=e.$implicit;s.xp6(2),s.Oqu(t.NumF),s.xp6(2),s.Oqu(t.NumC),s.xp6(2),s.Oqu(t.MTTC)}}let AV=(()=>{class n{constructor(t,r,i){this.route=t,this.FELS=r,this.router=i,this.FEL=[],this.TVA19=0,this.TVA7=0}ngOnInit(){this.route.paramMap.subscribe(t=>{t.get("email"),this.email=t.get("email")}),this.FELS.getNumFcours().subscribe(t=>{this.FEL=t.map(r=>r.payload.doc.data())}),console.log(this.FEL)}delete(t){this.FELS.deleteC(t,"FECours"),alert("Cette Facture est supprimer de l'etat")}add(t,r,i){this.FELS.articleInfo().subscribe(u=>{this.Articles=u.map(c=>c.payload.doc.data()),this.Articles=this.Articles.filter(c=>c.NumC===t),this.Articles.forEach(c=>{this.THT=(c.PrixUn*c.Qte).toFixed(3).toString()}),this.Articles.forEach(c=>{19==c.TVA?this.TVA19+=c.PrixUn*c.Qte*(c.TVA/100):this.TVA7+=c.PrixUn*c.Qte*(c.TVA/100),this.MTVA=(this.TVA19+this.TVA7).toFixed(3).toString()})}),this.FELS.commandeInfo(t).subscribe(u=>{const c=u.data();this.Timbre=c.Timbre,this.client=c.client,this.date=c.date,this.FELS.addET(t,r,this.date,this.client,this.THT,this.MTVA,this.Timbre,i),this.FELS.addNR(t,r,this.date,this.client,this.THT,this.MTVA,this.Timbre,i)}),this.FELS.deleteC(t,"FECours")}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(vn),s.Y36(IV),s.Y36(Bt))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-factencours"]],decls:20,vars:2,consts:[[3,"email"],[1,"container"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(t,r){1&t&&(s._UZ(0,"app-navbar",0)(1,"br"),s.TgZ(2,"div",1)(3,"h2"),s._uU(4," Facture en cours de livraison "),s.qZA(),s.TgZ(5,"table")(6,"thead")(7,"tr")(8,"td"),s._uU(9," Num\xe9ro Facture "),s.qZA(),s.TgZ(10,"td"),s._uU(11," Num\xe9ro bon de commande "),s.qZA(),s.TgZ(12,"td"),s._uU(13," Total TTC "),s.qZA(),s.TgZ(14,"td"),s._uU(15," Ajouter a l'etat des ventes "),s.qZA(),s.TgZ(16,"td"),s._uU(17," suppression "),s.qZA()()(),s.TgZ(18,"tbody"),s.YNc(19,DV,13,3,"tr",2),s.qZA()()()),2&t&&(s.Q6J("email",r.email),s.xp6(19),s.Q6J("ngForOf",r.FEL))},dependencies:[Yt,fo],styles:["table[_ngcontent-%COMP%]{width:85%;margin-top:1.5cm}th[_ngcontent-%COMP%]{padding:10px 15px;text-align:left;font-weight:700;border:1px solid #ddd}td[_ngcontent-%COMP%]{padding:10px 15px;border:1px solid #ddd}.table-striped[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#0000000d}button[_ngcontent-%COMP%]{padding:5px 10px;border:none;border-radius:4px;cursor:pointer}.btn-light[_ngcontent-%COMP%]{background-color:#e9ecef;color:#343a40}.btn-warning[_ngcontent-%COMP%]{background-color:#ffc107;color:#343a40}.btn-danger[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}button[_ngcontent-%COMP%]:hover{opacity:.8}.exception[_ngcontent-%COMP%]{text-align:center}"]}),n})(),SV=(()=>{class n{constructor(t,r){this.firestore=t,this.router=r}getVentes(){const r=(new Date).getFullYear();return this.firestore.collection("Ventes"+r).snapshotChanges()}getVentes01(t){return this.firestore.collection("Ventes"+t).snapshotChanges()}getVentes02(t,r,i){let u;return i.length=0,this.firestore.collection("Ventes"+t).snapshotChanges().subscribe(p=>{u=p.map(E=>E.payload.doc.data());for(var _=0;_<u.length;_++)u[_].dateF.toDate().toLocaleString("en-US",{month:"long"})==r&&i.push(u[_])}),i}deleteC(t,r){var i=this;return(0,fe.Z)(function*(){const p=yield i.firestore.collection(r).ref.where("NumC","==",t).get();0!==p.size?p.docs.forEach(_=>{_.ref.delete()}):console.error(`Aucun document trouv\xe9 avec l'id: ${t}`)})()}somme(t,r,i,u,c){let p;i.length=0,u.length=0,c.length=0,this.firestore.collection("Ventes"+t).snapshotChanges().subscribe(A=>{p=A.map(L=>L.payload.doc.data());for(var x=0;x<p.length;x++)p[x].dateF.toDate().toLocaleString("en-US",{month:"long"})==r&&(i.push(parseFloat(p[x].MTTC)),u.push(parseFloat(p[x].PTHT)),c.push(parseFloat(p[x].MTVA)))})}somme1(t,r,i,u){let c;r.length=0,i.length=0,u.length=0,this.firestore.collection("Ventes"+t).snapshotChanges().subscribe(_=>{c=_.map(A=>A.payload.doc.data());for(var E=0;E<c.length;E++)r.push(parseFloat(c[E].MTTC)),i.push(parseFloat(c[E].PTHT)),u.push(parseFloat(c[E].MTVA))})}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Tr),s.LFG(Bt))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function MV(n,e){if(1&n&&(s.TgZ(0,"option",8),s._uU(1),s.qZA()),2&n){const t=e.$implicit;s.s9C("value",t),s.xp6(1),s.Oqu(t)}}function xV(n,e){if(1&n&&(s.TgZ(0,"option",8),s._uU(1),s.qZA()),2&n){const t=e.$implicit;s.Q6J("value",t),s.xp6(1),s.Oqu(t)}}function NV(n,e){if(1&n&&(s.TgZ(0,"option",8),s._uU(1),s.qZA()),2&n){const t=e.$implicit;s.s9C("value",t),s.xp6(1),s.Oqu(t)}}function RV(n,e){1&n&&(s.TgZ(0,"tr")(1,"td",9)(2,"p"),s._uU(3," pas de donne\xe9s "),s.qZA()()())}function PV(n,e){if(1&n&&(s.TgZ(0,"tr")(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.ALo(5,"date"),s.qZA(),s.TgZ(6,"td"),s._uU(7),s.qZA(),s.TgZ(8,"td"),s._uU(9),s.qZA(),s.TgZ(10,"td"),s._uU(11),s.qZA(),s.TgZ(12,"td"),s._uU(13),s.qZA(),s.TgZ(14,"td"),s._uU(15),s.qZA(),s.TgZ(16,"td")(17,"button",10),s._uU(18," Supprimer "),s.qZA()()()),2&n){const t=e.$implicit;s.xp6(2),s.hij(" ",t.NumF,"/2024 "),s.xp6(2),s.Oqu(s.xi3(5,7,t.dateF.toDate(),"dd/MM/yyyy")),s.xp6(3),s.hij(" ",t.client," "),s.xp6(2),s.hij(" ",t.timbre," "),s.xp6(2),s.hij(" ",t.PTHT," "),s.xp6(2),s.hij(" ",t.MTVA," "),s.xp6(2),s.hij(" ",t.MTTC," ")}}let OV=(()=>{class n{constructor(t,r){this.route=t,this.evs=r,this.Ventes=[],this.Ventes2=[],this.VTPM=[],this.TVTPM=[],this.THTPM=[],this.months=["January","February","March","April","May","June","July","August","September","October","November","December"],this.selectedMonth="January",this.TR=["Toutes l'ann\xe9e","Par Mois"],this.selectedTR="Toutes l'ann\xe9e",this.years=[],this.date=new Date}ngOnInit(){this.route.paramMap.subscribe(r=>{this.email=r.get("email")}),this.Ventes2=this.onYearChange01();const t=(new Date).getFullYear();this.selectedYear=t,this.evs.somme1(this.selectedYear,this.VTPM,this.THTPM,this.TVTPM);for(let r=0;r<10;r++)this.years.push(t-r)}onYearChange(){this.evs.getVentes01(this.selectedYear).subscribe(t=>{this.Ventes=t.map(r=>r.payload.doc.data())})}onYearChange01(){"Toutes l'ann\xe9e"===this.selectedTR?(this.evs.somme1(this.selectedYear,this.VTPM,this.THTPM,this.TVTPM),this.evs.getVentes().subscribe(t=>{this.Ventes2=t.map(r=>r.payload.doc.data())})):(this.evs.somme(this.selectedYear,this.selectedMonth,this.VTPM,this.THTPM,this.TVTPM),this.Ventes2=this.evs.getVentes02(this.selectedYear,this.selectedMonth,this.Ventes2))}delete(){}sumArray(t){let r=0;for(let i of t)r+=i;return r}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(vn),s.Y36(SV))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-eventes"]],decls:49,vars:12,consts:[[3,"email"],[1,"container"],[3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[4,"ngFor","ngForOf"],["colspan","4"],[2,"background-color","black"],[3,"value"],["colspan","8",1,"exception"],["type","button",1,"btn","btn-danger"]],template:function(t,r){1&t&&(s._UZ(0,"app-navbar",0),s.TgZ(1,"div",1)(2,"h3"),s._uU(3,"Chercher :"),s.qZA(),s._uU(4," Type de recherche : "),s.TgZ(5,"select",2),s.NdJ("ngModelChange",function(u){return r.selectedTR=u})("change",function(){return r.onYearChange01()}),s.YNc(6,MV,2,2,"option",3),s.qZA(),s._UZ(7,"br")(8,"br"),s._uU(9," Ann\xe9e : "),s.TgZ(10,"select",2),s.NdJ("ngModelChange",function(u){return r.selectedYear=u})("change",function(){return r.onYearChange()}),s.YNc(11,xV,2,2,"option",3),s.qZA(),s._UZ(12,"br")(13,"br"),s._uU(14," Mois : "),s.TgZ(15,"select",2),s.NdJ("ngModelChange",function(u){return r.selectedMonth=u})("change",function(){return r.onYearChange01()}),s.YNc(16,NV,2,2,"option",3),s.qZA(),s.TgZ(17,"table")(18,"thead")(19,"tr")(20,"td"),s._uU(21," Num\xe9ro Facture "),s.qZA(),s.TgZ(22,"td"),s._uU(23," Date "),s.qZA(),s.TgZ(24,"td"),s._uU(25," Client "),s.qZA(),s.TgZ(26,"td"),s._uU(27," Timbre "),s.qZA(),s.TgZ(28,"td"),s._uU(29," PT.HT "),s.qZA(),s.TgZ(30,"td"),s._uU(31," TVA "),s.qZA(),s.TgZ(32,"td"),s._uU(33," Total TTC "),s.qZA(),s.TgZ(34,"td"),s._uU(35," Suppression "),s.qZA()()(),s.TgZ(36,"tbody"),s.YNc(37,RV,4,0,"tr",4),s.YNc(38,PV,19,10,"tr",5),s.TgZ(39,"tr")(40,"td",6),s._uU(41," Totale "),s.qZA(),s.TgZ(42,"td"),s._uU(43),s.qZA(),s.TgZ(44,"td"),s._uU(45),s.qZA(),s.TgZ(46,"td"),s._uU(47),s.qZA(),s._UZ(48,"td",7),s.qZA()()()()),2&t&&(s.Q6J("email",r.email),s.xp6(5),s.Q6J("ngModel",r.selectedTR),s.xp6(1),s.Q6J("ngForOf",r.TR),s.xp6(4),s.Q6J("ngModel",r.selectedYear),s.xp6(1),s.Q6J("ngForOf",r.years),s.xp6(4),s.Q6J("ngModel",r.selectedMonth),s.xp6(1),s.Q6J("ngForOf",r.months),s.xp6(21),s.Q6J("ngIf",0===(null==r.Ventes2?null:r.Ventes2.length)),s.xp6(1),s.Q6J("ngForOf",r.Ventes2),s.xp6(5),s.hij(" ",r.sumArray(r.THTPM)," "),s.xp6(2),s.hij(" ",r.sumArray(r.TVTPM)," "),s.xp6(2),s.hij(" ",r.sumArray(r.VTPM)," "))},dependencies:[Yt,bn,If,Df,Bl,ss,Vi,fo,cs],styles:["table[_ngcontent-%COMP%]{width:100%;margin-top:1.5cm}th[_ngcontent-%COMP%]{padding:10px 15px;text-align:left;font-weight:700;border:1px solid #ddd}td[_ngcontent-%COMP%]{padding:10px 15px;border:1px solid #ddd}.table-striped[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#0000000d}button[_ngcontent-%COMP%]{padding:5px 10px;border:none;border-radius:4px;cursor:pointer}.btn-light[_ngcontent-%COMP%]{background-color:#e9ecef;color:#343a40}.btn-warning[_ngcontent-%COMP%]{background-color:#ffc107;color:#343a40}.btn-danger[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}button[_ngcontent-%COMP%]:hover{opacity:.8}.exception[_ngcontent-%COMP%]{text-align:center}"]}),n})(),kV=(()=>{class n{constructor(t,r){this.firestore=t,this.router=r}getNR(){return this.firestore.collection("EtatNR").snapshotChanges()}getNR1(t,r){let i;t.length=0,"Pay\xe9e"==r?this.firestore.collection("EtatNR").snapshotChanges().subscribe(u=>{i=u.map(p=>p.payload.doc.data());for(var c=0;c<i.length;c++)i[c].Reg&&t.push(i[c]);return t}):"Non Pay\xe9e"==r&&this.firestore.collection("EtatNR").snapshotChanges().subscribe(u=>{i=u.map(p=>p.payload.doc.data());for(var c=0;c<i.length;c++)i[c].Reg||t.push(i[c]);return t})}changer(t,r){r?this.firestore.collection("EtatNR").doc(t.toString()).update({Reg:!1}):this.firestore.collection("EtatNR").doc(t.toString()).update({Reg:!0})}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Tr),s.LFG(Bt))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function FV(n,e){if(1&n&&(s.TgZ(0,"option",6),s._uU(1),s.qZA()),2&n){const t=e.$implicit;s.s9C("value",t),s.xp6(1),s.Oqu(t)}}function LV(n,e){1&n&&(s.TgZ(0,"tr")(1,"td",7)(2,"p"),s._uU(3," pas de donne\xe9s "),s.qZA()()())}function UV(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"tr")(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.ALo(5,"date"),s.qZA(),s.TgZ(6,"td"),s._uU(7),s.qZA(),s.TgZ(8,"td"),s._uU(9),s.qZA(),s.TgZ(10,"td"),s._uU(11),s.qZA(),s.TgZ(12,"td"),s._uU(13),s.qZA(),s.TgZ(14,"td"),s._uU(15),s.qZA(),s.TgZ(16,"td"),s._uU(17),s.qZA(),s.TgZ(18,"td")(19,"button",8),s.NdJ("click",function(){const u=s.CHM(t).$implicit,c=s.oxw();return s.KtG(c.changer(u.NumF,u.Reg))}),s._uU(20,"Changer"),s.qZA()()()}if(2&n){const t=e.$implicit;s.xp6(2),s.hij(" ",t.NumF,"/2024 "),s.xp6(2),s.Oqu(s.xi3(5,8,t.dateF.toDate(),"dd/MM/yyyy")),s.xp6(3),s.hij(" ",t.client," "),s.xp6(2),s.hij(" ",t.PTHT," "),s.xp6(2),s.hij(" ",t.MTVA," "),s.xp6(2),s.hij(" ",t.timbre," "),s.xp6(2),s.hij(" ",t.MTTC," "),s.xp6(2),s.hij(" ",t.Reg?"Pay\xe9e":"Non Pay\xe9e"," ")}}let VV=(()=>{class n{constructor(t,r){this.route=t,this.NRS=r,this.NR=[],this.F=["Toutes","Pay\xe9e","Non Pay\xe9e"],this.selectedF="Toutes"}ngOnInit(){this.route.paramMap.subscribe(t=>{this.email=t.get("email")}),this.NR=this.Filtrer()}changer(t,r){this.NRS.changer(t,r)}Filtrer(){"Toutes"===this.selectedF?this.NRS.getNR().subscribe(t=>{this.NR=t.map(r=>r.payload.doc.data())}):this.NRS.getNR1(this.NR,this.selectedF)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(vn),s.Y36(kV))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-nr"]],decls:31,vars:5,consts:[[3,"email"],[1,"container"],[3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"value"],["colspan","9",1,"exception"],["type","button",1,"btn","btn-light",3,"click"]],template:function(t,r){1&t&&(s._UZ(0,"app-navbar",0),s.TgZ(1,"div",1)(2,"h2"),s._uU(3," Etat des Facture non r\xe9gl\xe9e : "),s.qZA(),s._uU(4," Filtrage : "),s.TgZ(5,"select",2),s.NdJ("ngModelChange",function(u){return r.selectedF=u})("change",function(){return r.Filtrer()}),s.YNc(6,FV,2,2,"option",3),s.qZA(),s.TgZ(7,"table")(8,"thead")(9,"tr")(10,"td"),s._uU(11," Num\xe9ro Facture "),s.qZA(),s.TgZ(12,"td"),s._uU(13," Date "),s.qZA(),s.TgZ(14,"td"),s._uU(15," Client "),s.qZA(),s.TgZ(16,"td"),s._uU(17," PT.HT "),s.qZA(),s.TgZ(18,"td"),s._uU(19," TVA "),s.qZA(),s.TgZ(20,"td"),s._uU(21," Timbre "),s.qZA(),s.TgZ(22,"td"),s._uU(23," Total TTC "),s.qZA(),s.TgZ(24,"td"),s._uU(25," Reglement "),s.qZA(),s.TgZ(26,"td"),s._uU(27," Changer l'etet de r\xe9glement "),s.qZA()()(),s.TgZ(28,"tbody"),s.YNc(29,LV,4,0,"tr",4),s.YNc(30,UV,21,11,"tr",5),s.qZA()()()),2&t&&(s.Q6J("email",r.email),s.xp6(5),s.Q6J("ngModel",r.selectedF),s.xp6(1),s.Q6J("ngForOf",r.F),s.xp6(23),s.Q6J("ngIf",0===(null==r.NR?null:r.NR.length)),s.xp6(1),s.Q6J("ngForOf",r.NR))},dependencies:[Yt,bn,If,Df,Bl,ss,Vi,fo,cs],styles:["table[_ngcontent-%COMP%]{width:100%;margin-top:1.5cm}th[_ngcontent-%COMP%]{padding:10px 15px;text-align:left;font-weight:700;border:1px solid #ddd}td[_ngcontent-%COMP%]{padding:10px 15px;border:1px solid #ddd}.table-striped[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#0000000d}button[_ngcontent-%COMP%]{padding:5px 10px;border:none;border-radius:4px;cursor:pointer}.btn-light[_ngcontent-%COMP%]{background-color:#e9ecef;color:#343a40}.btn-warning[_ngcontent-%COMP%]{background-color:#ffc107;color:#343a40}.btn-danger[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}button[_ngcontent-%COMP%]:hover{opacity:.8}.exception[_ngcontent-%COMP%]{text-align:center}"]}),n})(),BV=(()=>{class n{constructor(t,r,i){this.fireauth=t,this.firestore=r,this.router=i}update(t,r){const u=(new Date).getFullYear();this.firestore.collection("FactA"+u).doc(r).update({date:t}).then(()=>{alert("update Successful")}).catch(p=>{alert(p.message)})}}return n.\u0275fac=function(t){return new(t||n)(s.LFG($r),s.LFG(Tr),s.LFG(Bt))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jV=(()=>{class n{constructor(t,r){this.route=t,this.us=r}ngOnInit(){this.route.paramMap.subscribe(t=>{this.email=t.get("email")}),this.route.paramMap.subscribe(t=>{this.date=t.get("date");var r=this.date.split("/");this.date=r[2]+"-"+r[1]+"-"+r[0]}),this.route.paramMap.subscribe(t=>{this.NumF=t.get("NumF")})}update(t){const r=new Date(this.date);this.us.update(r,this.NumF)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(vn),s.Y36(BV))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-update-fact"]],decls:12,vars:2,consts:[[1,"container"],["taskForm","ngForm"],[1,"form-group"],["for","nameTask"],["type","date","ngModel","","name","date",1,"form-control",3,"ngModel","ngModelChange"],["id","submitButton","type","submit",1,"btn","btn-primary",3,"disabled","click"]],template:function(t,r){if(1&t&&(s.TgZ(0,"div",0)(1,"h1"),s._uU(2," Changer la date de votre facture : "),s.qZA(),s.TgZ(3,"form",null,1)(5,"div",2)(6,"label",3),s._uU(7,"Date"),s.qZA(),s.TgZ(8,"input",4),s.NdJ("ngModelChange",function(u){return r.date=u}),s.qZA()(),s._UZ(9,"br"),s.TgZ(10,"button",5),s.NdJ("click",function(){return r.update(r.date)}),s._uU(11,"Modifier"),s.qZA()()()),2&t){const i=s.MAs(4);s.xp6(8),s.Q6J("ngModel",r.date),s.xp6(2),s.Q6J("disabled",i.invalid)}},dependencies:[Jo,zs,ss,Yo,Vi,Ks]}),n})(),HV=(()=>{class n{constructor(t,r,i){this.fireauth=t,this.firestore=r,this.router=i}update(t,r,i,u){var c=this;return(0,fe.Z)(function*(){const E="Ventes"+(new Date).getFullYear();c.firestore.collection("Commande").doc(u).update({date:t,client:r,timbre:i}).then(()=>{alert("update Successful")}).catch(_e=>{alert(_e.message)});const A=c.firestore.collection(E).ref,x=c.firestore.collection("EtatNR").ref;(yield A.where("NumC","==",u).get()).docs.forEach(_e=>{_e.ref.update({client:r,timbre:i})}),(yield x.where("NumC","==",u).get()).docs.forEach(_e=>{_e.ref.update({client:r,Timbre:i})})})()}}return n.\u0275fac=function(t){return new(t||n)(s.LFG($r),s.LFG(Tr),s.LFG(Bt))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ZV=(()=>{class n{constructor(t,r){this.route=t,this.ucs=r}ngOnInit(){this.route.paramMap.subscribe(t=>{this.email=t.get("email")}),this.route.paramMap.subscribe(t=>{this.date=t.get("date");var r=this.date.split("/");this.date=r[2]+"-"+r[1]+"-"+r[0]}),this.route.paramMap.subscribe(t=>{this.NumC=t.get("NumC")}),this.route.paramMap.subscribe(t=>{this.timbre=t.get("timbre")}),this.route.paramMap.subscribe(t=>{this.client=t.get("client")})}update(){const t=Number(this.timbre),r=new Date(this.date);this.ucs.update(r,this.client,t,this.NumC)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(vn),s.Y36(HV))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-update-c"]],decls:18,vars:5,consts:[[1,"container"],["taskForm","ngForm"],[1,"form-group"],["for","cleint"],["type","string","ngModel","","name","client",1,"form-control",3,"ngModel","ngModelChange"],["for","timbre"],["type","number","ngModel","","name","timbre",1,"form-control",3,"ngModel","ngModelChange"],["for","nameTask"],["type","date","ngModel","","name","date",1,"form-control",3,"ngModel","ngModelChange"],["id","submitButton","type","submit",1,"btn","btn-primary",3,"disabled","click"]],template:function(t,r){if(1&t&&(s.TgZ(0,"div",0)(1,"h1"),s._uU(2),s.qZA(),s.TgZ(3,"form",null,1)(5,"div",2)(6,"label",3),s._uU(7,"Nom du client:"),s.qZA(),s.TgZ(8,"input",4),s.NdJ("ngModelChange",function(u){return r.client=u}),s.qZA(),s.TgZ(9,"label",5),s._uU(10,"Timbre:"),s.qZA(),s.TgZ(11,"input",6),s.NdJ("ngModelChange",function(u){return r.timbre=u}),s.qZA(),s.TgZ(12,"label",7),s._uU(13,"Date:"),s.qZA(),s.TgZ(14,"input",8),s.NdJ("ngModelChange",function(u){return r.date=u}),s.qZA()(),s._UZ(15,"br"),s.TgZ(16,"button",9),s.NdJ("click",function(){return r.update()}),s._uU(17,"Modifier"),s.qZA()()()),2&t){const i=s.MAs(4);s.xp6(2),s.hij(" Changer la commande N\xb0 ",r.NumC," "),s.xp6(6),s.Q6J("ngModel",r.client),s.xp6(3),s.Q6J("ngModel",r.timbre),s.xp6(3),s.Q6J("ngModel",r.date),s.xp6(2),s.Q6J("disabled",i.invalid)}},dependencies:[Jo,zs,Ad,ss,Yo,Vi,Ks]}),n})(),qV=(()=>{class n{constructor(t,r,i){this.fireauth=t,this.firestore=r,this.router=i}update(t,r){const u=(new Date).getFullYear();this.firestore.collection("BL"+u).doc(r).update({date:t}).then(()=>{alert("update Successful")}).catch(p=>{alert(p.message)})}}return n.\u0275fac=function(t){return new(t||n)(s.LFG($r),s.LFG(Tr),s.LFG(Bt))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$V=(()=>{class n{constructor(t,r){this.route=t,this.ubls=r}ngOnInit(){this.route.paramMap.subscribe(t=>{this.email=t.get("email")}),this.route.paramMap.subscribe(t=>{this.date=t.get("date");var r=this.date.split("/");this.date=r[2]+"-"+r[1]+"-"+r[0]}),this.route.paramMap.subscribe(t=>{this.NumF=t.get("NumBL")})}update(t){const r=new Date(this.date);this.ubls.update(r,this.NumF)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(vn),s.Y36(qV))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-update-bl"]],decls:12,vars:2,consts:[[1,"container"],["taskForm","ngForm"],[1,"form-group"],["for","nameTask"],["type","date","ngModel","","name","date",1,"form-control",3,"ngModel","ngModelChange"],["id","submitButton","type","submit",1,"btn","btn-primary",3,"disabled","click"]],template:function(t,r){if(1&t&&(s.TgZ(0,"div",0)(1,"h1"),s._uU(2," Changer la date de votre BL : "),s.qZA(),s.TgZ(3,"form",null,1)(5,"div",2)(6,"label",3),s._uU(7,"Date"),s.qZA(),s.TgZ(8,"input",4),s.NdJ("ngModelChange",function(u){return r.date=u}),s.qZA()(),s._UZ(9,"br"),s.TgZ(10,"button",5),s.NdJ("click",function(){return r.update(r.date)}),s._uU(11,"Modifier"),s.qZA()()()),2&t){const i=s.MAs(4);s.xp6(8),s.Q6J("ngModel",r.date),s.xp6(2),s.Q6J("disabled",i.invalid)}},dependencies:[Jo,zs,ss,Yo,Vi,Ks]}),n})(),GV=(()=>{class n{constructor(t,r){this.firestore=t,this.router=r}addCheque(t,r,i,u,c){this.firestore.collection("Cheque").doc(t).set({NCH:t,Designation:r,dateCH:i,M:u,NF:c,rq:!1}).then(()=>{alert(" Le Cheque Numero: "+t+" est stocker avec succ\xe9es")}).catch(p=>{alert(p.message)})}getChequesID(){return this.firestore.collection("Cheque").snapshotChanges()}changer(t,r){this.firestore.collection("Cheque").doc(t).update({rq:r})}getNR1(t,r){let i;t.length=0,"vers\xe9"==r?this.firestore.collection("Cheque").snapshotChanges().subscribe(u=>{i=u.map(p=>p.payload.doc.data());for(var c=0;c<i.length;c++)i[c].rq&&t.push(i[c]);return t}):"Non vers\xe9"==r&&this.firestore.collection("Cheque").snapshotChanges().subscribe(u=>{i=u.map(p=>p.payload.doc.data());for(var c=0;c<i.length;c++)i[c].rq||t.push(i[c]);return t})}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Tr),s.LFG(Bt))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function zV(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div")(1,"form",null,10)(3,"div",11)(4,"label",12),s._uU(5,"N\xb0 Cheque :"),s.qZA(),s.TgZ(6,"input",13),s.NdJ("ngModelChange",function(i){s.CHM(t);const u=s.oxw();return s.KtG(u.NCH=i)}),s.qZA(),s._UZ(7,"br"),s.TgZ(8,"label",12),s._uU(9,"Designation : "),s.qZA(),s.TgZ(10,"input",14),s.NdJ("ngModelChange",function(i){s.CHM(t);const u=s.oxw();return s.KtG(u.des=i)}),s.qZA(),s._UZ(11,"br"),s.TgZ(12,"label",12),s._uU(13,"Date : "),s.qZA(),s.TgZ(14,"input",15),s.NdJ("ngModelChange",function(i){s.CHM(t);const u=s.oxw();return s.KtG(u.dateCH=i)}),s.qZA(),s._UZ(15,"br"),s.TgZ(16,"label",12),s._uU(17,"Montant : "),s.qZA(),s.TgZ(18,"input",16),s.NdJ("ngModelChange",function(i){s.CHM(t);const u=s.oxw();return s.KtG(u.M=i)}),s.qZA(),s._UZ(19,"br"),s.TgZ(20,"label",12),s._uU(21,"N\xb0 Facture : "),s.qZA(),s.TgZ(22,"input",17),s.NdJ("ngModelChange",function(i){s.CHM(t);const u=s.oxw();return s.KtG(u.NF=i)}),s.qZA(),s._UZ(23,"br"),s.TgZ(24,"button",18),s.NdJ("click",function(){s.CHM(t);const i=s.oxw();return s.KtG(i.addCheque())}),s._uU(25,"Ajouter le Cheque"),s.qZA()()()()}if(2&n){const t=s.MAs(2),r=s.oxw();s.xp6(6),s.Q6J("ngModel",r.NCH),s.xp6(4),s.Q6J("ngModel",r.des),s.xp6(4),s.Q6J("ngModel",r.dateCH),s.xp6(4),s.Q6J("ngModel",r.M),s.xp6(4),s.Q6J("ngModel",r.NF),s.xp6(2),s.Q6J("disabled",t.invalid)}}function WV(n,e){if(1&n&&(s.TgZ(0,"option",19),s._uU(1),s.qZA()),2&n){const t=e.$implicit;s.s9C("value",t),s.xp6(1),s.Oqu(t)}}function KV(n,e){1&n&&(s.TgZ(0,"tr")(1,"td",20)(2,"p"),s._uU(3," pas de donne\xe9s "),s.qZA()()())}function YV(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"tr")(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.ALo(7,"date"),s.qZA(),s.TgZ(8,"td"),s._uU(9),s.qZA(),s.TgZ(10,"td"),s._uU(11),s.qZA(),s.TgZ(12,"td"),s._uU(13),s.qZA(),s.TgZ(14,"td")(15,"button",21),s.NdJ("click",function(){const u=s.CHM(t).$implicit,c=s.oxw();return s.KtG(c.changer(u.NCH,u.rq))}),s._uU(16,"Changer"),s.qZA()(),s.TgZ(17,"td")(18,"button",22),s.NdJ("click",function(){const u=s.CHM(t).$implicit,c=s.oxw();return s.KtG(c.update(u.NCH))}),s._uU(19,"Update"),s.qZA()(),s.TgZ(20,"td")(21,"button",23),s.NdJ("click",function(){const u=s.CHM(t).$implicit,c=s.oxw();return s.KtG(c.delete(u.NCH))}),s._uU(22,"Delete"),s.qZA()()()}if(2&n){const t=e.$implicit;s.xp6(2),s.hij(" ",t.NCH," "),s.xp6(2),s.hij(" ",t.Designation," "),s.xp6(2),s.Oqu(s.xi3(7,6,t.dateCH.toDate(),"dd/MM/yyyy")),s.xp6(3),s.hij(" ",t.M," "),s.xp6(2),s.hij(" ",t.NF," "),s.xp6(2),s.hij(" ",t.rq?"Oui":"Non"," ")}}let JV=(()=>{class n{constructor(t,r,i){this.route=t,this.CHS=r,this.router=i,this.IDS=[],this.dateCH=new Date,this.rq=!1,this.cheques=[],this.F=["Toutes","vers\xe9","Non vers\xe9"],this.selectedF="Toutes",this.selectedValue="oui"}ngOnInit(){this.route.paramMap.subscribe(t=>{this.email=t.get("email")}),this.CHS.getChequesID().subscribe(t=>{this.IDS=t.map(r=>r.payload.doc.id)}),this.cheques=this.Filtrer()}addCheque(){const t=new Date(this.dateCH);this.IDS.includes(this.NCH)?alert("Ce cheques est deja stock\xe9e"):(this.M=this.M.toFixed(3),this.CHS.addCheque(this.NCH,this.des,t,this.M,this.NF),this.NCH="",this.des="",this.dateCH=new Date,this.M=0,this.NF="")}changer(t,r){this.CHS.changer(t,r=!r)}Filtrer(){"Toutes"===this.selectedF?this.CHS.getChequesID().subscribe(t=>{this.cheques=t.map(r=>r.payload.doc.data())}):this.CHS.getNR1(this.cheques,this.selectedF)}delete(t){this.router.navigate(["/deleteCheque",this.email,t])}update(t){this.router.navigate(["/updateCheque",this.email,t])}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(vn),s.Y36(GV),s.Y36(Bt))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-cheques"]],decls:45,vars:8,consts:[[3,"email"],[1,"container"],["type","radio","id","oui","name","reponse","value","oui",3,"ngModel","ngModelChange"],["for","oui"],["type","radio","id","non","name","reponse","value","non",3,"ngModel","ngModelChange"],["for","non"],[4,"ngIf"],[3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["chequeForm","ngForm"],[1,"form-group"],["for","task"],["type","text","id","NCH","placeholder","Numero Cheque","name","NCH",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","des","placeholder","Designation","name","des",1,"form-control",3,"ngModel","ngModelChange"],["type","date","id","dateCH","name","dateCH",1,"form-control",3,"ngModel","ngModelChange"],["type","number","id","M","placeholder","Montant","name","M",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","NF","placeholder","Numero facture","name","NF",1,"form-control",3,"ngModel","ngModelChange"],["id","submitButton","type","submit",1,"btn","btn-primary",3,"disabled","click"],[3,"value"],["colspan","9",1,"exception"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-warning",3,"click"],[1,"btn","btn-danger",3,"click"]],template:function(t,r){1&t&&(s._UZ(0,"app-navbar",0),s.TgZ(1,"div",1)(2,"h1"),s._uU(3," Ajouter un Ch\xe9que : "),s.TgZ(4,"h6"),s._uU(5," afficher le formulaire d'ajout ? "),s._UZ(6,"br"),s.TgZ(7,"input",2),s.NdJ("ngModelChange",function(u){return r.selectedValue=u}),s.qZA(),s.TgZ(8,"label",3),s._uU(9,"Oui"),s.qZA(),s._UZ(10,"br"),s.TgZ(11,"input",4),s.NdJ("ngModelChange",function(u){return r.selectedValue=u}),s.qZA(),s.TgZ(12,"label",5),s._uU(13,"Non"),s.qZA()()(),s.YNc(14,zV,26,6,"div",6),s.TgZ(15,"h2"),s._uU(16,"Etats des cheques :"),s.qZA(),s._uU(17," Filtrage : "),s.TgZ(18,"select",7),s.NdJ("ngModelChange",function(u){return r.selectedF=u})("change",function(){return r.Filtrer()}),s.YNc(19,WV,2,2,"option",8),s.qZA(),s.TgZ(20,"table")(21,"thead")(22,"tr")(23,"td"),s._uU(24," N\xb0 Cheque "),s.qZA(),s.TgZ(25,"td"),s._uU(26," Designation "),s.qZA(),s.TgZ(27,"td"),s._uU(28," Date "),s.qZA(),s.TgZ(29,"td"),s._uU(30," Montant "),s.qZA(),s.TgZ(31,"td"),s._uU(32," N\xb0 Facture "),s.qZA(),s.TgZ(33,"td"),s._uU(34," Verssement "),s.qZA(),s.TgZ(35,"td"),s._uU(36," Changer le verssement "),s.qZA(),s.TgZ(37,"td"),s._uU(38," Modifier "),s.qZA(),s.TgZ(39,"td"),s._uU(40," Supprimer "),s.qZA()()(),s.TgZ(41,"tbody"),s.YNc(42,KV,4,0,"tr",6),s.YNc(43,YV,23,9,"tr",9),s.qZA()(),s._UZ(44,"br"),s.qZA()),2&t&&(s.Q6J("email",r.email),s.xp6(7),s.Q6J("ngModel",r.selectedValue),s.xp6(4),s.Q6J("ngModel",r.selectedValue),s.xp6(3),s.Q6J("ngIf","oui"===r.selectedValue),s.xp6(4),s.Q6J("ngModel",r.selectedF),s.xp6(1),s.Q6J("ngForOf",r.F),s.xp6(23),s.Q6J("ngIf",0===(null==r.cheques?null:r.cheques.length)),s.xp6(1),s.Q6J("ngForOf",r.cheques))},dependencies:[Yt,bn,Jo,If,Df,zs,Ad,Bl,ow,ss,Yo,Vi,Ks,fo,cs],styles:["table[_ngcontent-%COMP%]{width:100%;margin-top:1.5cm}th[_ngcontent-%COMP%]{padding:10px 15px;text-align:left;font-weight:700;border:1px solid #ddd}td[_ngcontent-%COMP%]{padding:10px 15px;border:1px solid #ddd}.table-striped[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#0000000d}button[_ngcontent-%COMP%]{padding:5px 10px;border:none;border-radius:4px;cursor:pointer}.btn-light[_ngcontent-%COMP%]{background-color:#e9ecef;color:#343a40}.btn-warning[_ngcontent-%COMP%]{background-color:#ffc107;color:#343a40}.btn-danger[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}button[_ngcontent-%COMP%]:hover{opacity:.8}.exception[_ngcontent-%COMP%]{text-align:center}"]}),n})(),QV=(()=>{class n{constructor(t,r){this.firestore=t,this.router=r}getCH(t){return this.firestore.collection("Cheque").doc(t).get()}update(t,r,i,u,c,p){this.firestore.collection("Cheque").doc(t).update({Designation:r,M:i,NCH:t,NF:u,dateCH:c,rq:p}),alert("Mise \xe0 jour du ch\xe8que N\xb0"+t+" effectu\xe9e avec succ\xe8s !")}catch(t){alert("\xc9chec de la mise \xe0 jour du ch\xe8que. Veuillez r\xe9essayer.")}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Tr),s.LFG(Bt))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),XV=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.UCH=i}ngOnInit(){this.route.paramMap.subscribe(t=>{this.email=t.get("email"),this.IDC=t.get("IDC")}),this.UCH.getCH(this.IDC).subscribe(t=>{if(t.exists){this.des=t.data(),this.des=this.des.Designation,this.dateCH=t.data(),this.dateCH=this.dateCH.dateCH,this.M=t.data(),this.M=this.M.M,this.NF=t.data(),this.NF=this.NF.NF,this.rq=t.data(),this.rq=this.rq.rq,this.rq2=this.rq?"Oui":"Non",this.date=this.dateCH.toDate().toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"});var r=this.date.split("/");this.date=r[2]+"-"+r[1]+"-"+r[0]}})}update(t){const r=new Date(this.date);alert(r),this.UCH.update(t,this.des,this.M,this.NF,r,this.rq)}changer(){this.rq=!this.rq,this.rq2=this.rq?"Oui":"Non"}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Bt),s.Y36(vn),s.Y36(QV))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-update"]],decls:28,vars:8,consts:[[3,"email"],[1,"container"],["taskForm","ngForm"],[1,"form-group"],["for","nameTask"],["type","text","ngModel","","name","des",1,"form-control",3,"ngModel","ngModelChange"],["type","date","ngModel","","name","date",1,"form-control",3,"ngModel","ngModelChange"],["type","text","ngModel","","name","M",1,"form-control",3,"ngModel","ngModelChange"],["type","text","ngModel","","name","NF",1,"form-control",3,"ngModel","ngModelChange"],["type","text","ngModel","","name","rq2","disabled","true",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-success",3,"click"],["id","submitButton","type","submit",1,"btn","btn-warning",3,"disabled","click"]],template:function(t,r){if(1&t&&(s._UZ(0,"app-navbar",0),s.TgZ(1,"div",1)(2,"h1"),s._uU(3),s.qZA(),s.TgZ(4,"form",null,2)(6,"div",3)(7,"label",4),s._uU(8,"Designation"),s.qZA(),s.TgZ(9,"input",5),s.NdJ("ngModelChange",function(u){return r.des=u}),s.qZA(),s.TgZ(10,"label",4),s._uU(11,"Date"),s.qZA(),s.TgZ(12,"input",6),s.NdJ("ngModelChange",function(u){return r.date=u}),s.qZA(),s.TgZ(13,"label",4),s._uU(14,"Montant"),s.qZA(),s.TgZ(15,"input",7),s.NdJ("ngModelChange",function(u){return r.M=u}),s.qZA(),s.TgZ(16,"label",4),s._uU(17,"Numero du facture"),s.qZA(),s.TgZ(18,"input",8),s.NdJ("ngModelChange",function(u){return r.NF=u}),s.qZA(),s.TgZ(19,"label",4),s._uU(20,"Verssement"),s.qZA(),s.TgZ(21,"input",9),s.NdJ("ngModelChange",function(u){return r.rq2=u}),s.qZA(),s.TgZ(22,"button",10),s.NdJ("click",function(){return r.changer()}),s._uU(23,"Changer"),s.qZA()(),s._UZ(24,"br"),s.TgZ(25,"button",11),s.NdJ("click",function(){return r.update(r.IDC)}),s._uU(26,"Update"),s.qZA()()(),s._UZ(27,"br")),2&t){const i=s.MAs(5);s.Q6J("email",r.email),s.xp6(3),s.hij(" Voulez-vous Supprimer le cheque N\xb0",r.IDC," ? "),s.xp6(6),s.Q6J("ngModel",r.des),s.xp6(3),s.Q6J("ngModel",r.date),s.xp6(3),s.Q6J("ngModel",r.M),s.xp6(3),s.Q6J("ngModel",r.NF),s.xp6(3),s.Q6J("ngModel",r.rq2),s.xp6(4),s.Q6J("disabled",i.invalid)}},dependencies:[Jo,zs,ss,Yo,Vi,Ks,fo]}),n})(),eB=(()=>{class n{constructor(t,r){this.firestore=t,this.router=r}getCH(t){return this.firestore.collection("Cheque").doc(t).get()}deleteCH(t){var r=this;return(0,fe.Z)(function*(){try{yield r.firestore.collection("Cheque").doc(t).delete(),console.log("Document successfully deleted."),alert("Document successfully deleted.")}catch(i){console.error("Error deleting document:",i),alert("Error deleting document: "+i)}})()}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Tr),s.LFG(Bt))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tB=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.DCH=i}ngOnInit(){this.route.paramMap.subscribe(t=>{this.email=t.get("email"),this.IDC=t.get("IDC")}),this.DCH.getCH(this.IDC).subscribe(t=>{if(t.exists){this.des=t.data(),this.des=this.des.Designation,this.dateCH=t.data(),this.dateCH=this.dateCH.dateCH,this.M=t.data(),this.M=this.M.M,this.NF=t.data(),this.NF=this.NF.NF,this.rq=t.data(),this.rq=this.rq.rq?"Oui":"Non",this.date=this.dateCH.toDate().toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"});var r=this.date.split("/");this.date=r[2]+"-"+r[1]+"-"+r[0]}})}delete(t){this.DCH.deleteCH(t),this.router.navigate(["/cheques",this.email])}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Bt),s.Y36(vn),s.Y36(eB))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-delete"]],decls:26,vars:8,consts:[[3,"email"],[1,"container"],["taskForm","ngForm"],[1,"form-group"],["for","nameTask"],["type","text","ngModel","","name","des","disabled","true",1,"form-control",3,"ngModel","ngModelChange"],["type","date","ngModel","","name","date","disabled","true",1,"form-control",3,"ngModel","ngModelChange"],["type","text","ngModel","","name","M","disabled","true",1,"form-control",3,"ngModel","ngModelChange"],["type","text","ngModel","","name","NF","disabled","true",1,"form-control",3,"ngModel","ngModelChange"],["type","text","ngModel","","name","rq","disabled","true",1,"form-control",3,"ngModel","ngModelChange"],["id","submitButton","type","submit",1,"btn","btn-danger",3,"disabled","click"]],template:function(t,r){if(1&t&&(s._UZ(0,"app-navbar",0),s.TgZ(1,"div",1)(2,"h1"),s._uU(3),s.qZA(),s.TgZ(4,"form",null,2)(6,"div",3)(7,"label",4),s._uU(8,"Designation"),s.qZA(),s.TgZ(9,"input",5),s.NdJ("ngModelChange",function(u){return r.des=u}),s.qZA(),s.TgZ(10,"label",4),s._uU(11,"Date"),s.qZA(),s.TgZ(12,"input",6),s.NdJ("ngModelChange",function(u){return r.date=u}),s.qZA(),s.TgZ(13,"label",4),s._uU(14,"Montant"),s.qZA(),s.TgZ(15,"input",7),s.NdJ("ngModelChange",function(u){return r.M=u}),s.qZA(),s.TgZ(16,"label",4),s._uU(17,"Numero du facture"),s.qZA(),s.TgZ(18,"input",8),s.NdJ("ngModelChange",function(u){return r.NF=u}),s.qZA(),s.TgZ(19,"label",4),s._uU(20,"Verssement"),s.qZA(),s.TgZ(21,"input",9),s.NdJ("ngModelChange",function(u){return r.rq=u}),s.qZA()(),s._UZ(22,"br"),s.TgZ(23,"button",10),s.NdJ("click",function(){return r.delete(r.IDC)}),s._uU(24,"Supprimer"),s.qZA()()(),s._UZ(25,"br")),2&t){const i=s.MAs(5);s.Q6J("email",r.email),s.xp6(3),s.hij(" Voulez-vous Supprimer le cheque N\xb0",r.IDC," ? "),s.xp6(6),s.Q6J("ngModel",r.des),s.xp6(3),s.Q6J("ngModel",r.date),s.xp6(3),s.Q6J("ngModel",r.M),s.xp6(3),s.Q6J("ngModel",r.NF),s.xp6(3),s.Q6J("ngModel",r.rq),s.xp6(2),s.Q6J("disabled",i.invalid)}},dependencies:[Jo,zs,ss,Yo,Vi,Ks,fo]}),n})(),nB=(()=>{class n{constructor(t){this.firestore=t}addFrais(t,r,i,u){const p=(new Date).getFullYear();this.firestore.collection("Frais"+p).doc().set({NF:t,Designation:i,date:r,M:u}).then(()=>{alert(" Le frais est stocker avec succ\xe9es")}).catch(E=>{alert(E.message)})}getFraisID(){const r=(new Date).getFullYear();return this.firestore.collection("Frais"+r).snapshotChanges()}getFrais(t,r,i){let u;return i.length=0,this.firestore.collection("Frais"+t).snapshotChanges().subscribe(p=>{u=p.map(E=>E.payload.doc.data());for(var _=0;_<u.length;_++)u[_].date.toDate().toLocaleString("en-US",{month:"long"})==r&&i.push(u[_])}),i}somme(t,r,i){let u;i.length=0,this.firestore.collection("Frais"+t).snapshotChanges().subscribe(p=>{u=p.map(E=>E.payload.doc.data());for(var _=0;_<u.length;_++)u[_].date.toDate().toLocaleString("en-US",{month:"long"})==r&&i.push(parseFloat(u[_].M))})}somme1(t,r){let i;r.length=0,this.firestore.collection("Frais"+t).snapshotChanges().subscribe(p=>{i=p.map(E=>E.payload.doc.data());for(var _=0;_<i.length;_++)r.push(parseFloat(i[_].M))})}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Tr))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function rB(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div")(1,"form",null,13)(3,"div",14)(4,"label",15),s._uU(5,"N\xb0 Facture : "),s.qZA(),s.TgZ(6,"input",16),s.NdJ("ngModelChange",function(i){s.CHM(t);const u=s.oxw();return s.KtG(u.NF=i)}),s.qZA(),s._UZ(7,"br"),s.TgZ(8,"label",15),s._uU(9,"Designation : "),s.qZA(),s.TgZ(10,"input",17),s.NdJ("ngModelChange",function(i){s.CHM(t);const u=s.oxw();return s.KtG(u.des=i)}),s.qZA(),s._UZ(11,"br"),s.TgZ(12,"label",15),s._uU(13,"Date : "),s.qZA(),s.TgZ(14,"input",18),s.NdJ("ngModelChange",function(i){s.CHM(t);const u=s.oxw();return s.KtG(u.date=i)}),s.qZA(),s._UZ(15,"br"),s.TgZ(16,"label",15),s._uU(17,"Montant : "),s.qZA(),s.TgZ(18,"input",19),s.NdJ("ngModelChange",function(i){s.CHM(t);const u=s.oxw();return s.KtG(u.TTC=i)}),s.qZA(),s._UZ(19,"br"),s.TgZ(20,"button",20),s.NdJ("click",function(){s.CHM(t);const i=s.oxw();return s.KtG(i.addFrais())}),s._uU(21,"Ajouter le Cheque"),s.qZA()()()()}if(2&n){const t=s.MAs(2),r=s.oxw();s.xp6(6),s.Q6J("ngModel",r.NF),s.xp6(4),s.Q6J("ngModel",r.des),s.xp6(4),s.Q6J("ngModel",r.date),s.xp6(4),s.Q6J("ngModel",r.TTC),s.xp6(2),s.Q6J("disabled",t.invalid)}}function iB(n,e){if(1&n&&(s.TgZ(0,"option",21),s._uU(1),s.qZA()),2&n){const t=e.$implicit;s.s9C("value",t),s.xp6(1),s.Oqu(t)}}function sB(n,e){if(1&n&&(s.TgZ(0,"option",21),s._uU(1),s.qZA()),2&n){const t=e.$implicit;s.Q6J("value",t),s.xp6(1),s.Oqu(t)}}function oB(n,e){if(1&n&&(s.TgZ(0,"option",21),s._uU(1),s.qZA()),2&n){const t=e.$implicit;s.s9C("value",t),s.xp6(1),s.Oqu(t)}}function aB(n,e){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const t=s.oxw();s.xp6(1),s.AsE(" Frais ",t.selectedMonth," ",t.selectedYear," ")}}function uB(n,e){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const t=s.oxw();s.xp6(1),s.hij(" Les Frais de toutes L'ann\xe9e ",t.selectedYear," ")}}function lB(n,e){1&n&&(s.TgZ(0,"tr")(1,"td",22)(2,"p"),s._uU(3," pas de donne\xe9s "),s.qZA()()())}function cB(n,e){if(1&n&&(s.TgZ(0,"tr")(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.ALo(7,"date"),s.qZA(),s.TgZ(8,"td"),s._uU(9),s.qZA(),s.TgZ(10,"td")(11,"button",23),s._uU(12,"Update"),s.qZA()(),s.TgZ(13,"td")(14,"button",24),s._uU(15,"Delete"),s.qZA()()()),2&n){const t=e.$implicit;s.xp6(2),s.hij(" ",t.NF," "),s.xp6(2),s.hij(" ",t.Designation," "),s.xp6(2),s.Oqu(s.xi3(7,4,t.date.toDate(),"dd/MM/yyyy")),s.xp6(3),s.hij(" ",t.M," ")}}let dB=(()=>{class n{constructor(t,r,i){this.route=t,this.router=r,this.FService=i,this.frais=[],this.NF="",this.Totale=[],this.selectedValue="oui",this.F=["Toutes l'ann\xe9e","Par Mois"],this.selectedF="Toutes l'ann\xe9e",this.months=["January","February","March","April","May","June","July","August","September","October","November","December"],this.selectedMonth="January",this.years=[]}ngOnInit(){this.route.paramMap.subscribe(r=>{this.email=r.get("email")}),this.FService.getFraisID().subscribe(r=>{this.frais=r.map(i=>i.payload.doc.data())});const t=(new Date).getFullYear();this.selectedYear=t;for(let r=0;r<10;r++)this.years.push(t-r);this.FService.somme1(this.selectedYear,this.Totale)}addFrais(){const t=new Date(this.date);this.TTC=this.TTC.toFixed(3),this.FService.addFrais(this.NF,t,this.des,this.TTC),this.NF="",this.des="",this.date=new Date,this.TTC=0}filtrer(){"Toutes l'ann\xe9e"===this.selectedF?this.FService.getFraisID().subscribe(t=>{this.frais=t.map(r=>r.payload.doc.data())}):(this.frais=this.FService.getFrais(this.selectedYear,this.selectedMonth,this.frais),this.FService.somme(this.selectedYear,this.selectedMonth,this.Totale))}sumArray(t){let r=0;for(let i of t)r+=i;return r.toFixed(3)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(vn),s.Y36(Bt),s.Y36(nB))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-frais"]],decls:61,vars:15,consts:[[3,"email"],[1,"container"],["type","radio","id","oui","name","reponse","value","oui",3,"ngModel","ngModelChange"],["for","oui"],["type","radio","id","non","name","reponse","value","non",3,"ngModel","ngModelChange"],["for","non"],[4,"ngIf"],[3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["colspan","6","align","center"],[4,"ngFor","ngForOf"],["colspan","3","align","center"],["colspan","2",2,"background-color","black"],["chequeForm","ngForm"],[1,"form-group"],["for","task"],["type","text","id","NF","placeholder","Numero facture","name","NF",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","des","placeholder","Designation","name","des",1,"form-control",3,"ngModel","ngModelChange"],["type","date","id","dateCH","name","dateCH",1,"form-control",3,"ngModel","ngModelChange"],["type","number","id","M","placeholder","Montant","name","M",1,"form-control",3,"ngModel","ngModelChange"],["id","submitButton","type","submit",1,"btn","btn-primary",3,"disabled","click"],[3,"value"],["colspan","6",1,"exception"],["type","button",1,"btn","btn-warning"],[1,"btn","btn-danger"]],template:function(t,r){1&t&&(s._UZ(0,"app-navbar",0),s.TgZ(1,"div",1)(2,"h1"),s._uU(3," Ajouter Frais : "),s.TgZ(4,"h6"),s._uU(5," afficher le formulaire d'ajout ? "),s._UZ(6,"br"),s.TgZ(7,"input",2),s.NdJ("ngModelChange",function(u){return r.selectedValue=u}),s.qZA(),s.TgZ(8,"label",3),s._uU(9,"Oui"),s.qZA(),s._UZ(10,"br"),s.TgZ(11,"input",4),s.NdJ("ngModelChange",function(u){return r.selectedValue=u}),s.qZA(),s.TgZ(12,"label",5),s._uU(13,"Non"),s.qZA()()(),s.YNc(14,rB,22,5,"div",6),s.TgZ(15,"h2"),s._uU(16,"Tableau des Frais :"),s.qZA(),s._uU(17," Filtrage : "),s.TgZ(18,"select",7),s.NdJ("ngModelChange",function(u){return r.selectedF=u})("change",function(){return r.filtrer()}),s.YNc(19,iB,2,2,"option",8),s.qZA(),s._UZ(20,"br")(21,"br"),s._uU(22," Ann\xe9e : "),s.TgZ(23,"select",7),s.NdJ("ngModelChange",function(u){return r.selectedYear=u})("change",function(){return r.filtrer()}),s.YNc(24,sB,2,2,"option",8),s.qZA(),s._UZ(25,"br")(26,"br"),s._uU(27," Mois : "),s.TgZ(28,"select",7),s.NdJ("ngModelChange",function(u){return r.selectedMonth=u})("change",function(){return r.filtrer()}),s.YNc(29,oB,2,2,"option",8),s.qZA(),s._UZ(30,"br")(31,"hr"),s.TgZ(32,"table")(33,"thead")(34,"tr")(35,"td",9),s.YNc(36,aB,2,2,"ng-container",6),s.YNc(37,uB,2,1,"ng-container",6),s.qZA()(),s.TgZ(38,"tr")(39,"td"),s._uU(40," N\xb0 Facture "),s.qZA(),s.TgZ(41,"td"),s._uU(42," Designation "),s.qZA(),s.TgZ(43,"td"),s._uU(44," Date "),s.qZA(),s.TgZ(45,"td"),s._uU(46," Montant "),s.qZA(),s.TgZ(47,"td"),s._uU(48," Modifier "),s.qZA(),s.TgZ(49,"td"),s._uU(50," Supprimer "),s.qZA()()(),s.TgZ(51,"tbody"),s.YNc(52,lB,4,0,"tr",6),s.YNc(53,cB,16,7,"tr",10),s.TgZ(54,"tr")(55,"td",11),s._uU(56," Totale des Frais "),s.qZA(),s.TgZ(57,"td"),s._uU(58),s.qZA(),s._UZ(59,"td",12),s.qZA()()(),s._UZ(60,"br"),s.qZA()),2&t&&(s.Q6J("email",r.email),s.xp6(7),s.Q6J("ngModel",r.selectedValue),s.xp6(4),s.Q6J("ngModel",r.selectedValue),s.xp6(3),s.Q6J("ngIf","oui"===r.selectedValue),s.xp6(4),s.Q6J("ngModel",r.selectedF),s.xp6(1),s.Q6J("ngForOf",r.F),s.xp6(4),s.Q6J("ngModel",r.selectedYear),s.xp6(1),s.Q6J("ngForOf",r.years),s.xp6(4),s.Q6J("ngModel",r.selectedMonth),s.xp6(1),s.Q6J("ngForOf",r.months),s.xp6(7),s.Q6J("ngIf","Par Mois"===r.selectedF),s.xp6(1),s.Q6J("ngIf","Toutes l'ann\xe9e"===r.selectedF),s.xp6(15),s.Q6J("ngIf",0===(null==r.frais?null:r.frais.length)),s.xp6(1),s.Q6J("ngForOf",r.frais),s.xp6(5),s.hij(" ",r.sumArray(r.Totale)," "))},dependencies:[Yt,bn,Jo,If,Df,zs,Ad,Bl,ow,ss,Yo,Vi,Ks,fo,cs],styles:["table[_ngcontent-%COMP%]{width:100%;margin-top:1.5cm}th[_ngcontent-%COMP%]{padding:10px 15px;text-align:left;font-weight:700;border:1px solid #ddd}td[_ngcontent-%COMP%]{padding:10px 15px;border:1px solid #ddd}.table-striped[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#0000000d}button[_ngcontent-%COMP%]{padding:5px 10px;border:none;border-radius:4px;cursor:pointer}.btn-light[_ngcontent-%COMP%]{background-color:#e9ecef;color:#343a40}.btn-warning[_ngcontent-%COMP%]{background-color:#ffc107;color:#343a40}.btn-danger[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}button[_ngcontent-%COMP%]:hover{opacity:.8}.exception[_ngcontent-%COMP%]{text-align:center}"]}),n})(),hB=(()=>{class n{constructor(t){this.firestore=t}addAchat(t,r,i,u,c,p,_){const x="Achats"+(new Date).getFullYear(),L=t.toLowerCase()+i.toLowerCase();this.firestore.collection(x).doc(L).set({NF:t,date:r,client:i,PTHT:u,TVA:c,timbre:p,TTC:_}).then(()=>{alert(" La Facture d'achat est stocker avec succ\xe9es")}).catch(j=>{alert(j.message)})}DocsId(){const r=(new Date).getFullYear();return this.firestore.collection("Achats"+r).snapshotChanges()}getAchats(t,r,i){let u;return i.length=0,this.firestore.collection("Achats"+t).snapshotChanges().subscribe(p=>{u=p.map(E=>E.payload.doc.data());for(var _=0;_<u.length;_++)u[_].date.toDate().toLocaleString("en-US",{month:"long"})==r&&i.push(u[_])}),i}somme(t,r,i){let u;i.length=0,this.firestore.collection("Achats"+t).snapshotChanges().subscribe(p=>{u=p.map(E=>E.payload.doc.data());for(var _=0;_<u.length;_++)u[_].date.toDate().toLocaleString("en-US",{month:"long"})==r&&i.push(parseFloat(u[_].M))})}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Tr))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function fB(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div")(1,"form",null,11)(3,"div",12)(4,"label",13),s._uU(5,"N\xb0 Facture : "),s.qZA(),s.TgZ(6,"input",14),s.NdJ("ngModelChange",function(i){s.CHM(t);const u=s.oxw();return s.KtG(u.NF=i)}),s.qZA(),s._UZ(7,"br"),s.TgZ(8,"label",13),s._uU(9,"Client : "),s.qZA(),s.TgZ(10,"input",15),s.NdJ("ngModelChange",function(i){s.CHM(t);const u=s.oxw();return s.KtG(u.client=i)}),s.qZA(),s._UZ(11,"br"),s.TgZ(12,"label",13),s._uU(13,"Date : "),s.qZA(),s.TgZ(14,"input",16),s.NdJ("ngModelChange",function(i){s.CHM(t);const u=s.oxw();return s.KtG(u.dateFact=i)}),s.qZA(),s._UZ(15,"br"),s.TgZ(16,"label",13),s._uU(17,"PTHT : "),s.qZA(),s.TgZ(18,"input",17),s.NdJ("ngModelChange",function(i){s.CHM(t);const u=s.oxw();return s.KtG(u.PTHT=i)}),s.qZA(),s._UZ(19,"br"),s.TgZ(20,"label",13),s._uU(21,"TVA : "),s.qZA(),s.TgZ(22,"input",18),s.NdJ("ngModelChange",function(i){s.CHM(t);const u=s.oxw();return s.KtG(u.TVA=i)}),s.qZA(),s._UZ(23,"br"),s.TgZ(24,"label",13),s._uU(25,"timbre : "),s.qZA(),s.TgZ(26,"input",19),s.NdJ("ngModelChange",function(i){s.CHM(t);const u=s.oxw();return s.KtG(u.timbre=i)}),s.qZA(),s._UZ(27,"br"),s.TgZ(28,"label",13),s._uU(29,"TTC: "),s.qZA(),s.TgZ(30,"input",20),s.NdJ("ngModelChange",function(i){s.CHM(t);const u=s.oxw();return s.KtG(u.TTC=i)}),s.qZA(),s._UZ(31,"br"),s.TgZ(32,"button",21),s.NdJ("click",function(){s.CHM(t);const i=s.oxw();return s.KtG(i.addAchat())}),s._uU(33,"Ajouter Facture"),s.qZA()()()()}if(2&n){const t=s.MAs(2),r=s.oxw();s.xp6(6),s.Q6J("ngModel",r.NF),s.xp6(4),s.Q6J("ngModel",r.client),s.xp6(4),s.Q6J("ngModel",r.dateFact),s.xp6(4),s.Q6J("ngModel",r.PTHT),s.xp6(4),s.Q6J("ngModel",r.TVA),s.xp6(4),s.Q6J("ngModel",r.timbre),s.xp6(4),s.Q6J("ngModel",r.TTC),s.xp6(2),s.Q6J("disabled",t.invalid)}}function pB(n,e){if(1&n&&(s.TgZ(0,"option",22),s._uU(1),s.qZA()),2&n){const t=e.$implicit;s.s9C("value",t),s.xp6(1),s.Oqu(t)}}function gB(n,e){if(1&n&&(s.TgZ(0,"option",22),s._uU(1),s.qZA()),2&n){const t=e.$implicit;s.Q6J("value",t),s.xp6(1),s.Oqu(t)}}function mB(n,e){if(1&n&&(s.TgZ(0,"option",22),s._uU(1),s.qZA()),2&n){const t=e.$implicit;s.s9C("value",t),s.xp6(1),s.Oqu(t)}}function _B(n,e){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const t=s.oxw();s.xp6(1),s.AsE(" Frais ",t.selectedMonth," ",t.selectedYear," ")}}function yB(n,e){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const t=s.oxw();s.xp6(1),s.hij(" Les Achats de toutes L'ann\xe9e ",t.selectedYear," ")}}function vB(n,e){1&n&&(s.TgZ(0,"tr")(1,"td",23)(2,"p"),s._uU(3," pas de donne\xe9s "),s.qZA()()())}function CB(n,e){if(1&n&&(s.TgZ(0,"tr")(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.ALo(7,"date"),s.qZA(),s.TgZ(8,"td"),s._uU(9),s.qZA(),s.TgZ(10,"td"),s._uU(11),s.qZA(),s.TgZ(12,"td"),s._uU(13),s.qZA(),s.TgZ(14,"td"),s._uU(15),s.qZA(),s.TgZ(16,"td")(17,"button",24),s._uU(18,"Update"),s.qZA()(),s.TgZ(19,"td")(20,"button",25),s._uU(21,"Delete"),s.qZA()()()),2&n){const t=e.$implicit;s.xp6(2),s.hij(" ",t.NF," "),s.xp6(2),s.hij(" ",t.client," "),s.xp6(2),s.Oqu(s.xi3(7,7,t.date.toDate(),"dd/MM/yyyy")),s.xp6(3),s.hij(" ",t.PTHT," "),s.xp6(2),s.hij(" ",t.TVA," "),s.xp6(2),s.hij(" ",t.timbre," "),s.xp6(2),s.hij(" ",t.TTC," ")}}const wB=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:a2},{path:"register",component:XU},{path:"home/:email",component:rV},{path:"commande/:email",component:sV},{path:"FactA/:NumC/:email",component:uV},{path:"BL/:NumC/:email",component:cV},{path:"allFact/:email",component:_V},{path:"allBL/:email",component:bV},{path:"fcours/:email",component:AV},{path:"addbl/:email",component:TV},{path:"EVentes/:email",component:OV},{path:"EtatNR/:email",component:VV},{path:"updateF/:email/:date/:NumF",component:jV},{path:"updateC/:email/:date/:client/:timbre/:NumC",component:ZV},{path:"updateBL/:email/:date/:NumBL",component:$V},{path:"cheques/:email",component:JV},{path:"updateCheque/:email/:IDC",component:XV},{path:"deleteCheque/:email/:IDC",component:tB},{path:"frais/:email",component:dB},{path:"achats/:email",component:(()=>{class n{constructor(t,r,i){this.route=t,this.router=r,this.Aservice=i,this.Achats=[],this.selectedValue="oui",this.F=["Toutes l'ann\xe9e","Par Mois"],this.selectedF="Toutes l'ann\xe9e",this.months=["January","February","March","April","May","June","July","August","September","October","November","December"],this.selectedMonth="January",this.years=[]}ngOnInit(){this.route.paramMap.subscribe(r=>{this.email=r.get("email")}),this.Aservice.DocsId().subscribe(r=>{this.Achats=r.map(i=>i.payload.doc.data())});const t=(new Date).getFullYear();this.selectedYear=t;for(let r=0;r<10;r++)this.years.push(t-r)}addAchat(){if(this.PTHT+this.TVA+this.timbre===this.TTC){const t=new Date(this.dateFact);this.Aservice.addAchat(this.NF,t,this.client,this.PTHT,this.TVA,this.timbre,this.TTC)}else alert("Merci de v\xe9rifier les Montants que vous Avez entrez")}filtrer(){"Toutes l'ann\xe9e"===this.selectedF?this.Aservice.DocsId().subscribe(t=>{this.Achats=t.map(r=>r.payload.doc.data())}):this.Achats=this.Aservice.getAchats(this.selectedYear,this.selectedMonth,this.Achats)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(vn),s.Y36(Bt),s.Y36(hB))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-achat"]],decls:61,vars:14,consts:[[3,"email"],[1,"container"],["type","radio","id","oui","name","reponse","value","oui",3,"ngModel","ngModelChange"],["for","oui"],["type","radio","id","non","name","reponse","value","non",3,"ngModel","ngModelChange"],["for","non"],[4,"ngIf"],[3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["colspan","9","align","center"],[4,"ngFor","ngForOf"],["chequeForm","ngForm"],[1,"form-group"],["for","task"],["type","text","id","NF","placeholder","Numero facture","name","NF",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","client","placeholder","client","name","client",1,"form-control",3,"ngModel","ngModelChange"],["type","date","id","dateFact","name","dateFact",1,"form-control",3,"ngModel","ngModelChange"],["type","number","id","PTHT","placeholder","PTHT","name","PTHT",1,"form-control",3,"ngModel","ngModelChange"],["type","number","id","TVA","placeholder","TVA","name","TVA",1,"form-control",3,"ngModel","ngModelChange"],["type","number","id","timbre","placeholder","timbre","name","timbre",1,"form-control",3,"ngModel","ngModelChange"],["type","number","id","TTC","placeholder","TTC","name","TTC",1,"form-control",3,"ngModel","ngModelChange"],["id","submitButton","type","submit",1,"btn","btn-primary",3,"disabled","click"],[3,"value"],["colspan","9",1,"exception"],["type","button",1,"btn","btn-warning"],[1,"btn","btn-danger"]],template:function(t,r){1&t&&(s._UZ(0,"app-navbar",0),s.TgZ(1,"div",1)(2,"h1"),s._uU(3," Ajouter Facture : "),s.TgZ(4,"h6"),s._uU(5," afficher le formulaire d'ajout ? "),s._UZ(6,"br"),s.TgZ(7,"input",2),s.NdJ("ngModelChange",function(u){return r.selectedValue=u}),s.qZA(),s.TgZ(8,"label",3),s._uU(9,"Oui"),s.qZA(),s._UZ(10,"br"),s.TgZ(11,"input",4),s.NdJ("ngModelChange",function(u){return r.selectedValue=u}),s.qZA(),s.TgZ(12,"label",5),s._uU(13,"Non"),s.qZA()()(),s._UZ(14,"br"),s.YNc(15,fB,34,8,"div",6),s.TgZ(16,"h2"),s._uU(17," Achats "),s.qZA(),s._uU(18," Filtrage : "),s.TgZ(19,"select",7),s.NdJ("ngModelChange",function(u){return r.selectedF=u})("change",function(){return r.filtrer()}),s.YNc(20,pB,2,2,"option",8),s.qZA(),s._UZ(21,"br")(22,"br"),s._uU(23," Ann\xe9e : "),s.TgZ(24,"select",7),s.NdJ("ngModelChange",function(u){return r.selectedYear=u})("change",function(){return r.filtrer()}),s.YNc(25,gB,2,2,"option",8),s.qZA(),s._UZ(26,"br")(27,"br"),s._uU(28," Mois : "),s.TgZ(29,"select",7),s.NdJ("ngModelChange",function(u){return r.selectedMonth=u})("change",function(){return r.filtrer()}),s.YNc(30,mB,2,2,"option",8),s.qZA(),s._UZ(31,"br"),s.TgZ(32,"table")(33,"thead")(34,"tr")(35,"td",9),s.YNc(36,_B,2,2,"ng-container",6),s.YNc(37,yB,2,1,"ng-container",6),s.qZA()(),s.TgZ(38,"tr")(39,"td"),s._uU(40," N\xb0 Facture "),s.qZA(),s.TgZ(41,"td"),s._uU(42," Designation "),s.qZA(),s.TgZ(43,"td"),s._uU(44," Date "),s.qZA(),s.TgZ(45,"td"),s._uU(46," PTHT "),s.qZA(),s.TgZ(47,"td"),s._uU(48," TVA "),s.qZA(),s.TgZ(49,"td"),s._uU(50," Timbre "),s.qZA(),s.TgZ(51,"td"),s._uU(52," TTC "),s.qZA(),s.TgZ(53,"td"),s._uU(54," Modifier "),s.qZA(),s.TgZ(55,"td"),s._uU(56," Supprimer "),s.qZA()()(),s.TgZ(57,"tbody"),s.YNc(58,vB,4,0,"tr",6),s.YNc(59,CB,22,10,"tr",10),s.qZA()(),s._UZ(60,"br"),s.qZA()),2&t&&(s.Q6J("email",r.email),s.xp6(7),s.Q6J("ngModel",r.selectedValue),s.xp6(4),s.Q6J("ngModel",r.selectedValue),s.xp6(4),s.Q6J("ngIf","oui"===r.selectedValue),s.xp6(4),s.Q6J("ngModel",r.selectedF),s.xp6(1),s.Q6J("ngForOf",r.F),s.xp6(4),s.Q6J("ngModel",r.selectedYear),s.xp6(1),s.Q6J("ngForOf",r.years),s.xp6(4),s.Q6J("ngModel",r.selectedMonth),s.xp6(1),s.Q6J("ngForOf",r.months),s.xp6(6),s.Q6J("ngIf","Par Mois"===r.selectedF),s.xp6(1),s.Q6J("ngIf","Toutes l'ann\xe9e"===r.selectedF),s.xp6(21),s.Q6J("ngIf",0===(null==r.Achats?null:r.Achats.length)),s.xp6(1),s.Q6J("ngForOf",r.Achats))},dependencies:[Yt,bn,Jo,If,Df,zs,Ad,Bl,ow,ss,Yo,Vi,Ks,fo,cs],styles:["table[_ngcontent-%COMP%]{width:100%;margin-top:1.5cm}th[_ngcontent-%COMP%]{padding:10px 15px;text-align:left;font-weight:700;border:1px solid #ddd}td[_ngcontent-%COMP%]{padding:10px 15px;border:1px solid #ddd}.table-striped[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#0000000d}button[_ngcontent-%COMP%]{padding:5px 10px;border:none;border-radius:4px;cursor:pointer}.btn-light[_ngcontent-%COMP%]{background-color:#e9ecef;color:#343a40}.btn-warning[_ngcontent-%COMP%]{background-color:#ffc107;color:#343a40}.btn-danger[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}button[_ngcontent-%COMP%]:hover{opacity:.8}.exception[_ngcontent-%COMP%]{text-align:center}"]}),n})()}];let bB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[mv.forRoot(wB),mv]}),n})(),EB=(()=>{class n{constructor(t){this.fireauth=t,this.title="Ibm"}}return n.\u0275fac=function(t){return new(t||n)(s.Y36($r))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&s._UZ(0,"router-outlet")},dependencies:[g]}),n})();const TB_firebase={apiKey:"AIzaSyCXTt1EPXrF1GLjt0HGMvHzNyFz2ufBP-c",authDomain:"ibm-backend-50942.firebaseapp.com",projectId:"ibm-backend-50942",storageBucket:"ibm-backend-50942.appspot.com",messagingSenderId:"1020637368302",appId:"1:1020637368302:web:a558ef71cb4e305e7608ff"};class BP{}class jP{}class xd{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),u=i.toLowerCase(),c=t.slice(r+1).trim();this.maybeSetNormalizedName(i,u),this.headers.has(u)?this.headers.get(u).push(c):this.headers.set(u,[c])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof xd?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new xd;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof xd?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const u=e.value;if(u){let c=this.headers.get(t);if(!c)return;c=c.filter(p=>-1===u.indexOf(p)),0===c.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,c)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class IB{encodeKey(e){return HP(e)}encodeValue(e){return HP(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const AB=/%(\d[a-f0-9])/gi,SB={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function HP(n){return encodeURIComponent(n).replace(AB,(e,t)=>SB[t]??e)}function cI(n){return`${n}`}class Af{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new IB,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function DB(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const u=i.indexOf("="),[c,p]=-1==u?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,u)),e.decodeValue(i.slice(u+1))],_=t.get(c)||[];_.push(p),t.set(c,_)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(cI):[cI(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(u=>{t.push({param:r,value:u,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Af({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(cI(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(cI(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class MB{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function ZP(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function qP(n){return typeof Blob<"u"&&n instanceof Blob}function $P(n){return typeof FormData<"u"&&n instanceof FormData}class dw{constructor(e,t,r,i){let u;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function xB(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,u=i):u=r,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new xd),this.context||(this.context=new MB),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=t;else{const p=t.indexOf("?");this.urlWithParams=t+(-1===p?"?":p<t.length-1?"&":"")+c}}else this.params=new Af,this.urlWithParams=t}serializeBody(){return null===this.body?null:ZP(this.body)||qP(this.body)||$P(this.body)||function NB(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Af?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||$P(this.body)?null:qP(this.body)?this.body.type||null:ZP(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Af?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,u=void 0!==e.body?e.body:this.body,c=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,p=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let _=e.headers||this.headers,E=e.params||this.params;const A=e.context??this.context;return void 0!==e.setHeaders&&(_=Object.keys(e.setHeaders).reduce((x,L)=>x.set(L,e.setHeaders[L]),_)),e.setParams&&(E=Object.keys(e.setParams).reduce((x,L)=>x.set(L,e.setParams[L]),E)),new dw(t,r,u,{params:E,headers:_,context:A,reportProgress:p,responseType:i,withCredentials:c})}}var ai=(()=>((ai=ai||{})[ai.Sent=0]="Sent",ai[ai.UploadProgress=1]="UploadProgress",ai[ai.ResponseHeader=2]="ResponseHeader",ai[ai.DownloadProgress=3]="DownloadProgress",ai[ai.Response=4]="Response",ai[ai.User=5]="User",ai))();class zM{constructor(e,t=200,r="OK"){this.headers=e.headers||new xd,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class WM extends zM{constructor(e={}){super(e),this.type=ai.ResponseHeader}clone(e={}){return new WM({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class dI extends zM{constructor(e={}){super(e),this.type=ai.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new dI({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class GP extends zM{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function KM(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let RB=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let u;if(t instanceof dw)u=t;else{let _,E;_=i.headers instanceof xd?i.headers:new xd(i.headers),i.params&&(E=i.params instanceof Af?i.params:new Af({fromObject:i.params})),u=new dw(t,r,void 0!==i.body?i.body:null,{headers:_,context:i.context,params:E,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const c=Qe(u).pipe(ms(_=>this.handler.handle(_)));if(t instanceof dw||"events"===i.observe)return c;const p=c.pipe(br(_=>_ instanceof dI));switch(i.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return p.pipe((0,At.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return p.pipe((0,At.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return p.pipe((0,At.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return p.pipe((0,At.U)(_=>_.body))}case"response":return p;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Af).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,KM(i,r))}post(t,r,i={}){return this.request("POST",t,KM(i,r))}put(t,r,i={}){return this.request("PUT",t,KM(i,r))}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(BP))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class zP{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const WP=new s.OlP("HTTP_INTERCEPTORS");let PB=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const OB=/^\)\]\}',?\n/;let KP=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ti.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((j,Q)=>i.setRequestHeader(j,Q.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const j=t.detectContentTypeHeader();null!==j&&i.setRequestHeader("Content-Type",j)}if(t.responseType){const j=t.responseType.toLowerCase();i.responseType="json"!==j?j:"text"}const u=t.serializeBody();let c=null;const p=()=>{if(null!==c)return c;const j=i.statusText||"OK",Q=new xd(i.getAllResponseHeaders()),De=function kB(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return c=new WM({headers:Q,status:i.status,statusText:j,url:De}),c},_=()=>{let{headers:j,status:Q,statusText:De,url:_e}=p(),ze=null;204!==Q&&(ze=typeof i.response>"u"?i.responseText:i.response),0===Q&&(Q=ze?200:0);let dt=Q>=200&&Q<300;if("json"===t.responseType&&"string"==typeof ze){const Xe=ze;ze=ze.replace(OB,"");try{ze=""!==ze?JSON.parse(ze):null}catch(gt){ze=Xe,dt&&(dt=!1,ze={error:gt,text:ze})}}dt?(r.next(new dI({body:ze,headers:j,status:Q,statusText:De,url:_e||void 0})),r.complete()):r.error(new GP({error:ze,headers:j,status:Q,statusText:De,url:_e||void 0}))},E=j=>{const{url:Q}=p(),De=new GP({error:j,status:i.status||0,statusText:i.statusText||"Unknown Error",url:Q||void 0});r.error(De)};let A=!1;const x=j=>{A||(r.next(p()),A=!0);let Q={type:ai.DownloadProgress,loaded:j.loaded};j.lengthComputable&&(Q.total=j.total),"text"===t.responseType&&!!i.responseText&&(Q.partialText=i.responseText),r.next(Q)},L=j=>{let Q={type:ai.UploadProgress,loaded:j.loaded};j.lengthComputable&&(Q.total=j.total),r.next(Q)};return i.addEventListener("load",_),i.addEventListener("error",E),i.addEventListener("timeout",E),i.addEventListener("abort",E),t.reportProgress&&(i.addEventListener("progress",x),null!==u&&i.upload&&i.upload.addEventListener("progress",L)),i.send(u),r.next({type:ai.Sent}),()=>{i.removeEventListener("error",E),i.removeEventListener("abort",E),i.removeEventListener("load",_),i.removeEventListener("timeout",E),t.reportProgress&&(i.removeEventListener("progress",x),null!==u&&i.upload&&i.upload.removeEventListener("progress",L)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Na))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const YM=new s.OlP("XSRF_COOKIE_NAME"),JM=new s.OlP("XSRF_HEADER_NAME");class YP{}let FB=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ma(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(de),s.LFG(s.Lbi),s.LFG(YM))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),QM=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const u=this.tokenService.getToken();return null!==u&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,u)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(YP),s.LFG(JM))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),LB=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(WP,[]);this.chain=r.reduceRight((i,u)=>new zP(i,u),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(jP),s.LFG(s.zs3))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),UB=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:QM,useClass:PB}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:YM,useValue:t.cookieName}:[],t.headerName?{provide:JM,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[QM,{provide:WP,useExisting:QM,multi:!0},{provide:YP,useClass:FB},{provide:YM,useValue:"XSRF-TOKEN"},{provide:JM,useValue:"X-XSRF-TOKEN"}]}),n})(),VB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[RB,{provide:BP,useClass:LB},KP,{provide:jP,useExisting:KP}],imports:[UB.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})(),BB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n,bootstrap:[EB]}),n.\u0275inj=s.cJS({imports:[VB,pc,bB,nr.hO.initializeApp(TB_firebase,"IBM-Backend"),i2]}),n})();(0,s.G48)(),Ju().bootstrapModule(BB).catch(n=>console.error(n))},9751:(yt,Ne,F)=>{F.d(Ne,{y:()=>we});var s=F(2961),ee=F(727),O=F(8822),ae=F(9635),oe=F(2416),he=F(576),de=F(2806);let we=(()=>{class z{constructor(xe){xe&&(this._subscribe=xe)}lift(xe){const Te=new z;return Te.source=this,Te.operator=xe,Te}subscribe(xe,Te,tt){const ve=function H(z){return z&&z instanceof s.Lv||function Z(z){return z&&(0,he.m)(z.next)&&(0,he.m)(z.error)&&(0,he.m)(z.complete)}(z)&&(0,ee.Nn)(z)}(xe)?xe:new s.Hp(xe,Te,tt);return(0,de.x)(()=>{const{operator:ye,source:mt}=this;ve.add(ye?ye.call(ve,mt):mt?this._subscribe(ve):this._trySubscribe(ve))}),ve}_trySubscribe(xe){try{return this._subscribe(xe)}catch(Te){xe.error(Te)}}forEach(xe,Te){return new(Te=pe(Te))((tt,ve)=>{const ye=new s.Hp({next:mt=>{try{xe(mt)}catch(Et){ve(Et),ye.unsubscribe()}},error:ve,complete:tt});this.subscribe(ye)})}_subscribe(xe){var Te;return null===(Te=this.source)||void 0===Te?void 0:Te.subscribe(xe)}[O.L](){return this}pipe(...xe){return(0,ae.U)(xe)(this)}toPromise(xe){return new(xe=pe(xe))((Te,tt)=>{let ve;this.subscribe(ye=>ve=ye,ye=>tt(ye),()=>Te(ve))})}}return z.create=je=>new z(je),z})();function pe(z){var je;return null!==(je=z??oe.v.Promise)&&void 0!==je?je:Promise}},7579:(yt,Ne,F)=>{F.d(Ne,{x:()=>de});var s=F(9751),ee=F(727);const ae=(0,F(3888).d)(pe=>function(){pe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var oe=F(8737),he=F(2806);let de=(()=>{class pe extends s.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(H){const z=new we(this,this);return z.operator=H,z}_throwIfClosed(){if(this.closed)throw new ae}next(H){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const z of this.currentObservers)z.next(H)}})}error(H){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=H;const{observers:z}=this;for(;z.length;)z.shift().error(H)}})}complete(){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:H}=this;for(;H.length;)H.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var H;return(null===(H=this.observers)||void 0===H?void 0:H.length)>0}_trySubscribe(H){return this._throwIfClosed(),super._trySubscribe(H)}_subscribe(H){return this._throwIfClosed(),this._checkFinalizedStatuses(H),this._innerSubscribe(H)}_innerSubscribe(H){const{hasError:z,isStopped:je,observers:xe}=this;return z||je?ee.Lc:(this.currentObservers=null,xe.push(H),new ee.w0(()=>{this.currentObservers=null,(0,oe.P)(xe,H)}))}_checkFinalizedStatuses(H){const{hasError:z,thrownError:je,isStopped:xe}=this;z?H.error(je):xe&&H.complete()}asObservable(){const H=new s.y;return H.source=this,H}}return pe.create=(Z,H)=>new we(Z,H),pe})();class we extends de{constructor(Z,H){super(),this.destination=Z,this.source=H}next(Z){var H,z;null===(z=null===(H=this.destination)||void 0===H?void 0:H.next)||void 0===z||z.call(H,Z)}error(Z){var H,z;null===(z=null===(H=this.destination)||void 0===H?void 0:H.error)||void 0===z||z.call(H,Z)}complete(){var Z,H;null===(H=null===(Z=this.destination)||void 0===Z?void 0:Z.complete)||void 0===H||H.call(Z)}_subscribe(Z){var H,z;return null!==(z=null===(H=this.source)||void 0===H?void 0:H.subscribe(Z))&&void 0!==z?z:ee.Lc}}},2961:(yt,Ne,F)=>{F.d(Ne,{Hp:()=>tt,Lv:()=>z});var s=F(576),ee=F(727),O=F(2416),ae=F(7849);function oe(){}const he=pe("C",void 0,void 0);function pe(ke,Ce,me){return{kind:ke,value:Ce,error:me}}var Z=F(3410),H=F(2806);class z extends ee.w0{constructor(Ce){super(),this.isStopped=!1,Ce?(this.destination=Ce,(0,ee.Nn)(Ce)&&Ce.add(this)):this.destination=Et}static create(Ce,me,qe){return new tt(Ce,me,qe)}next(Ce){this.isStopped?mt(function we(ke){return pe("N",ke,void 0)}(Ce),this):this._next(Ce)}error(Ce){this.isStopped?mt(function de(ke){return pe("E",void 0,ke)}(Ce),this):(this.isStopped=!0,this._error(Ce))}complete(){this.isStopped?mt(he,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ce){this.destination.next(Ce)}_error(Ce){try{this.destination.error(Ce)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const je=Function.prototype.bind;function xe(ke,Ce){return je.call(ke,Ce)}class Te{constructor(Ce){this.partialObserver=Ce}next(Ce){const{partialObserver:me}=this;if(me.next)try{me.next(Ce)}catch(qe){ve(qe)}}error(Ce){const{partialObserver:me}=this;if(me.error)try{me.error(Ce)}catch(qe){ve(qe)}else ve(Ce)}complete(){const{partialObserver:Ce}=this;if(Ce.complete)try{Ce.complete()}catch(me){ve(me)}}}class tt extends z{constructor(Ce,me,qe){let Be;if(super(),(0,s.m)(Ce)||!Ce)Be={next:Ce??void 0,error:me??void 0,complete:qe??void 0};else{let nt;this&&O.v.useDeprecatedNextContext?(nt=Object.create(Ce),nt.unsubscribe=()=>this.unsubscribe(),Be={next:Ce.next&&xe(Ce.next,nt),error:Ce.error&&xe(Ce.error,nt),complete:Ce.complete&&xe(Ce.complete,nt)}):Be=Ce}this.destination=new Te(Be)}}function ve(ke){O.v.useDeprecatedSynchronousErrorHandling?(0,H.O)(ke):(0,ae.h)(ke)}function mt(ke,Ce){const{onStoppedNotification:me}=O.v;me&&Z.z.setTimeout(()=>me(ke,Ce))}const Et={closed:!0,next:oe,error:function ye(ke){throw ke},complete:oe}},727:(yt,Ne,F)=>{F.d(Ne,{Lc:()=>he,w0:()=>oe,Nn:()=>de});var s=F(576);const O=(0,F(3888).d)(pe=>function(H){pe(this),this.message=H?`${H.length} errors occurred during unsubscription:\n${H.map((z,je)=>`${je+1}) ${z.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=H});var ae=F(8737);class oe{constructor(Z){this.initialTeardown=Z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Z;if(!this.closed){this.closed=!0;const{_parentage:H}=this;if(H)if(this._parentage=null,Array.isArray(H))for(const xe of H)xe.remove(this);else H.remove(this);const{initialTeardown:z}=this;if((0,s.m)(z))try{z()}catch(xe){Z=xe instanceof O?xe.errors:[xe]}const{_finalizers:je}=this;if(je){this._finalizers=null;for(const xe of je)try{we(xe)}catch(Te){Z=Z??[],Te instanceof O?Z=[...Z,...Te.errors]:Z.push(Te)}}if(Z)throw new O(Z)}}add(Z){var H;if(Z&&Z!==this)if(this.closed)we(Z);else{if(Z instanceof oe){if(Z.closed||Z._hasParent(this))return;Z._addParent(this)}(this._finalizers=null!==(H=this._finalizers)&&void 0!==H?H:[]).push(Z)}}_hasParent(Z){const{_parentage:H}=this;return H===Z||Array.isArray(H)&&H.includes(Z)}_addParent(Z){const{_parentage:H}=this;this._parentage=Array.isArray(H)?(H.push(Z),H):H?[H,Z]:Z}_removeParent(Z){const{_parentage:H}=this;H===Z?this._parentage=null:Array.isArray(H)&&(0,ae.P)(H,Z)}remove(Z){const{_finalizers:H}=this;H&&(0,ae.P)(H,Z),Z instanceof oe&&Z._removeParent(this)}}oe.EMPTY=(()=>{const pe=new oe;return pe.closed=!0,pe})();const he=oe.EMPTY;function de(pe){return pe instanceof oe||pe&&"closed"in pe&&(0,s.m)(pe.remove)&&(0,s.m)(pe.add)&&(0,s.m)(pe.unsubscribe)}function we(pe){(0,s.m)(pe)?pe():pe.unsubscribe()}},2416:(yt,Ne,F)=>{F.d(Ne,{v:()=>s});const s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(yt,Ne,F)=>{F.d(Ne,{E:()=>ee});const ee=new(F(9751).y)(oe=>oe.complete())},8996:(yt,Ne,F)=>{F.d(Ne,{D:()=>Ce});var s=F(8421),ee=F(5363),O=F(9468),he=F(9751),we=F(2202),pe=F(576),Z=F(9672);function z(me,qe){if(!me)throw new Error("Iterable cannot be null");return new he.y(Be=>{(0,Z.f)(Be,qe,()=>{const nt=me[Symbol.asyncIterator]();(0,Z.f)(Be,qe,()=>{nt.next().then(ne=>{ne.done?Be.complete():Be.next(ne.value)})},0,!0)})})}var je=F(3670),xe=F(8239),Te=F(1144),tt=F(6495),ve=F(2206),ye=F(4532),mt=F(3260);function Ce(me,qe){return qe?function ke(me,qe){if(null!=me){if((0,je.c)(me))return function ae(me,qe){return(0,s.Xf)(me).pipe((0,O.R)(qe),(0,ee.Q)(qe))}(me,qe);if((0,Te.z)(me))return function de(me,qe){return new he.y(Be=>{let nt=0;return qe.schedule(function(){nt===me.length?Be.complete():(Be.next(me[nt++]),Be.closed||this.schedule())})})}(me,qe);if((0,xe.t)(me))return function oe(me,qe){return(0,s.Xf)(me).pipe((0,O.R)(qe),(0,ee.Q)(qe))}(me,qe);if((0,ve.D)(me))return z(me,qe);if((0,tt.T)(me))return function H(me,qe){return new he.y(Be=>{let nt;return(0,Z.f)(Be,qe,()=>{nt=me[we.h](),(0,Z.f)(Be,qe,()=>{let ne,Nt;try{({value:ne,done:Nt}=nt.next())}catch(ut){return void Be.error(ut)}Nt?Be.complete():Be.next(ne)},0,!0)}),()=>(0,pe.m)(nt?.return)&&nt.return()})}(me,qe);if((0,mt.L)(me))return function Et(me,qe){return z((0,mt.Q)(me),qe)}(me,qe)}throw(0,ye.z)(me)}(me,qe):(0,s.Xf)(me)}},8421:(yt,Ne,F)=>{F.d(Ne,{Xf:()=>je});var s=F(7582),ee=F(1144),O=F(8239),ae=F(9751),oe=F(3670),he=F(2206),de=F(4532),we=F(6495),pe=F(3260),Z=F(576),H=F(7849),z=F(8822);function je(ke){if(ke instanceof ae.y)return ke;if(null!=ke){if((0,oe.c)(ke))return function xe(ke){return new ae.y(Ce=>{const me=ke[z.L]();if((0,Z.m)(me.subscribe))return me.subscribe(Ce);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ke);if((0,ee.z)(ke))return function Te(ke){return new ae.y(Ce=>{for(let me=0;me<ke.length&&!Ce.closed;me++)Ce.next(ke[me]);Ce.complete()})}(ke);if((0,O.t)(ke))return function tt(ke){return new ae.y(Ce=>{ke.then(me=>{Ce.closed||(Ce.next(me),Ce.complete())},me=>Ce.error(me)).then(null,H.h)})}(ke);if((0,he.D)(ke))return ye(ke);if((0,we.T)(ke))return function ve(ke){return new ae.y(Ce=>{for(const me of ke)if(Ce.next(me),Ce.closed)return;Ce.complete()})}(ke);if((0,pe.L)(ke))return function mt(ke){return ye((0,pe.Q)(ke))}(ke)}throw(0,de.z)(ke)}function ye(ke){return new ae.y(Ce=>{(function Et(ke,Ce){var me,qe,Be,nt;return(0,s.mG)(this,void 0,void 0,function*(){try{for(me=(0,s.KL)(ke);!(qe=yield me.next()).done;)if(Ce.next(qe.value),Ce.closed)return}catch(ne){Be={error:ne}}finally{try{qe&&!qe.done&&(nt=me.return)&&(yield nt.call(me))}finally{if(Be)throw Be.error}}Ce.complete()})})(ke,Ce).catch(me=>Ce.error(me))})}},6451:(yt,Ne,F)=>{F.d(Ne,{T:()=>he});var s=F(8189),ee=F(8421),O=F(515),ae=F(7669),oe=F(8996);function he(...de){const we=(0,ae.yG)(de),pe=(0,ae._6)(de,1/0),Z=de;return Z.length?1===Z.length?(0,ee.Xf)(Z[0]):(0,s.J)(pe)((0,oe.D)(Z,we)):O.E}},5403:(yt,Ne,F)=>{F.d(Ne,{x:()=>ee});var s=F(2961);function ee(ae,oe,he,de,we){return new O(ae,oe,he,de,we)}class O extends s.Lv{constructor(oe,he,de,we,pe,Z){super(oe),this.onFinalize=pe,this.shouldUnsubscribe=Z,this._next=he?function(H){try{he(H)}catch(z){oe.error(z)}}:super._next,this._error=we?function(H){try{we(H)}catch(z){oe.error(z)}finally{this.unsubscribe()}}:super._error,this._complete=de?function(){try{de()}catch(H){oe.error(H)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var oe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:he}=this;super.unsubscribe(),!he&&(null===(oe=this.onFinalize)||void 0===oe||oe.call(this))}}}},4004:(yt,Ne,F)=>{F.d(Ne,{U:()=>O});var s=F(4482),ee=F(5403);function O(ae,oe){return(0,s.e)((he,de)=>{let we=0;he.subscribe((0,ee.x)(de,pe=>{de.next(ae.call(oe,pe,we++))}))})}},8189:(yt,Ne,F)=>{F.d(Ne,{J:()=>O});var s=F(5577),ee=F(4671);function O(ae=1/0){return(0,s.z)(ee.y,ae)}},5577:(yt,Ne,F)=>{F.d(Ne,{z:()=>we});var s=F(4004),ee=F(8421),O=F(4482),ae=F(9672),oe=F(5403),de=F(576);function we(pe,Z,H=1/0){return(0,de.m)(Z)?we((z,je)=>(0,s.U)((xe,Te)=>Z(z,xe,je,Te))((0,ee.Xf)(pe(z,je))),H):("number"==typeof Z&&(H=Z),(0,O.e)((z,je)=>function he(pe,Z,H,z,je,xe,Te,tt){const ve=[];let ye=0,mt=0,Et=!1;const ke=()=>{Et&&!ve.length&&!ye&&Z.complete()},Ce=qe=>ye<z?me(qe):ve.push(qe),me=qe=>{xe&&Z.next(qe),ye++;let Be=!1;(0,ee.Xf)(H(qe,mt++)).subscribe((0,oe.x)(Z,nt=>{je?.(nt),xe?Ce(nt):Z.next(nt)},()=>{Be=!0},void 0,()=>{if(Be)try{for(ye--;ve.length&&ye<z;){const nt=ve.shift();Te?(0,ae.f)(Z,Te,()=>me(nt)):me(nt)}ke()}catch(nt){Z.error(nt)}}))};return pe.subscribe((0,oe.x)(Z,Ce,()=>{Et=!0,ke()})),()=>{tt?.()}}(z,je,pe,H)))}},5363:(yt,Ne,F)=>{F.d(Ne,{Q:()=>ae});var s=F(9672),ee=F(4482),O=F(5403);function ae(oe,he=0){return(0,ee.e)((de,we)=>{de.subscribe((0,O.x)(we,pe=>(0,s.f)(we,oe,()=>we.next(pe),he),()=>(0,s.f)(we,oe,()=>we.complete(),he),pe=>(0,s.f)(we,oe,()=>we.error(pe),he)))})}},3099:(yt,Ne,F)=>{F.d(Ne,{B:()=>oe});var s=F(8421),ee=F(7579),O=F(2961),ae=F(4482);function oe(de={}){const{connector:we=(()=>new ee.x),resetOnError:pe=!0,resetOnComplete:Z=!0,resetOnRefCountZero:H=!0}=de;return z=>{let je,xe,Te,tt=0,ve=!1,ye=!1;const mt=()=>{xe?.unsubscribe(),xe=void 0},Et=()=>{mt(),je=Te=void 0,ve=ye=!1},ke=()=>{const Ce=je;Et(),Ce?.unsubscribe()};return(0,ae.e)((Ce,me)=>{tt++,!ye&&!ve&&mt();const qe=Te=Te??we();me.add(()=>{tt--,0===tt&&!ye&&!ve&&(xe=he(ke,H))}),qe.subscribe(me),!je&&tt>0&&(je=new O.Hp({next:Be=>qe.next(Be),error:Be=>{ye=!0,mt(),xe=he(Et,pe,Be),qe.error(Be)},complete:()=>{ve=!0,mt(),xe=he(Et,Z),qe.complete()}}),(0,s.Xf)(Ce).subscribe(je))})(z)}}function he(de,we,...pe){if(!0===we)return void de();if(!1===we)return;const Z=new O.Hp({next:()=>{Z.unsubscribe(),de()}});return we(...pe).subscribe(Z)}},9468:(yt,Ne,F)=>{F.d(Ne,{R:()=>ee});var s=F(4482);function ee(O,ae=0){return(0,s.e)((oe,he)=>{he.add(O.schedule(()=>oe.subscribe(he),ae))})}},8505:(yt,Ne,F)=>{F.d(Ne,{b:()=>oe});var s=F(576),ee=F(4482),O=F(5403),ae=F(4671);function oe(he,de,we){const pe=(0,s.m)(he)||de||we?{next:he,error:de,complete:we}:he;return pe?(0,ee.e)((Z,H)=>{var z;null===(z=pe.subscribe)||void 0===z||z.call(pe);let je=!0;Z.subscribe((0,O.x)(H,xe=>{var Te;null===(Te=pe.next)||void 0===Te||Te.call(pe,xe),H.next(xe)},()=>{var xe;je=!1,null===(xe=pe.complete)||void 0===xe||xe.call(pe),H.complete()},xe=>{var Te;je=!1,null===(Te=pe.error)||void 0===Te||Te.call(pe,xe),H.error(xe)},()=>{var xe,Te;je&&(null===(xe=pe.unsubscribe)||void 0===xe||xe.call(pe)),null===(Te=pe.finalize)||void 0===Te||Te.call(pe)}))}):ae.y}},4408:(yt,Ne,F)=>{F.d(Ne,{o:()=>oe});var s=F(727);class ee extends s.w0{constructor(de,we){super()}schedule(de,we=0){return this}}const O={setInterval(he,de,...we){const{delegate:pe}=O;return pe?.setInterval?pe.setInterval(he,de,...we):setInterval(he,de,...we)},clearInterval(he){const{delegate:de}=O;return(de?.clearInterval||clearInterval)(he)},delegate:void 0};var ae=F(8737);class oe extends ee{constructor(de,we){super(de,we),this.scheduler=de,this.work=we,this.pending=!1}schedule(de,we=0){var pe;if(this.closed)return this;this.state=de;const Z=this.id,H=this.scheduler;return null!=Z&&(this.id=this.recycleAsyncId(H,Z,we)),this.pending=!0,this.delay=we,this.id=null!==(pe=this.id)&&void 0!==pe?pe:this.requestAsyncId(H,this.id,we),this}requestAsyncId(de,we,pe=0){return O.setInterval(de.flush.bind(de,this),pe)}recycleAsyncId(de,we,pe=0){if(null!=pe&&this.delay===pe&&!1===this.pending)return we;null!=we&&O.clearInterval(we)}execute(de,we){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const pe=this._execute(de,we);if(pe)return pe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(de,we){let Z,pe=!1;try{this.work(de)}catch(H){pe=!0,Z=H||new Error("Scheduled action threw falsy error")}if(pe)return this.unsubscribe(),Z}unsubscribe(){if(!this.closed){const{id:de,scheduler:we}=this,{actions:pe}=we;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(pe,this),null!=de&&(this.id=this.recycleAsyncId(we,de,null)),this.delay=null,super.unsubscribe()}}}},7565:(yt,Ne,F)=>{F.d(Ne,{v:()=>O});var s=F(6063);class ee{constructor(oe,he=ee.now){this.schedulerActionCtor=oe,this.now=he}schedule(oe,he=0,de){return new this.schedulerActionCtor(this,oe).schedule(de,he)}}ee.now=s.l.now;class O extends ee{constructor(oe,he=ee.now){super(oe,he),this.actions=[],this._active=!1}flush(oe){const{actions:he}=this;if(this._active)return void he.push(oe);let de;this._active=!0;do{if(de=oe.execute(oe.state,oe.delay))break}while(oe=he.shift());if(this._active=!1,de){for(;oe=he.shift();)oe.unsubscribe();throw de}}}},4986:(yt,Ne,F)=>{F.d(Ne,{z:()=>O});var s=F(4408);const O=new(F(7565).v)(s.o)},6063:(yt,Ne,F)=>{F.d(Ne,{l:()=>s});const s={now:()=>(s.delegate||Date).now(),delegate:void 0}},3410:(yt,Ne,F)=>{F.d(Ne,{z:()=>s});const s={setTimeout(ee,O,...ae){const{delegate:oe}=s;return oe?.setTimeout?oe.setTimeout(ee,O,...ae):setTimeout(ee,O,...ae)},clearTimeout(ee){const{delegate:O}=s;return(O?.clearTimeout||clearTimeout)(ee)},delegate:void 0}},2202:(yt,Ne,F)=>{F.d(Ne,{h:()=>ee});const ee=function s(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(yt,Ne,F)=>{F.d(Ne,{L:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(yt,Ne,F)=>{F.d(Ne,{_6:()=>he,jO:()=>ae,yG:()=>oe});var s=F(576);function O(de){return de[de.length-1]}function ae(de){return(0,s.m)(O(de))?de.pop():void 0}function oe(de){return function ee(de){return de&&(0,s.m)(de.schedule)}(O(de))?de.pop():void 0}function he(de,we){return"number"==typeof O(de)?de.pop():we}},8737:(yt,Ne,F)=>{function s(ee,O){if(ee){const ae=ee.indexOf(O);0<=ae&&ee.splice(ae,1)}}F.d(Ne,{P:()=>s})},3888:(yt,Ne,F)=>{function s(ee){const ae=ee(oe=>{Error.call(oe),oe.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}F.d(Ne,{d:()=>s})},2806:(yt,Ne,F)=>{F.d(Ne,{O:()=>ae,x:()=>O});var s=F(2416);let ee=null;function O(oe){if(s.v.useDeprecatedSynchronousErrorHandling){const he=!ee;if(he&&(ee={errorThrown:!1,error:null}),oe(),he){const{errorThrown:de,error:we}=ee;if(ee=null,de)throw we}}else oe()}function ae(oe){s.v.useDeprecatedSynchronousErrorHandling&&ee&&(ee.errorThrown=!0,ee.error=oe)}},9672:(yt,Ne,F)=>{function s(ee,O,ae,oe=0,he=!1){const de=O.schedule(function(){ae(),he?ee.add(this.schedule(null,oe)):this.unsubscribe()},oe);if(ee.add(de),!he)return de}F.d(Ne,{f:()=>s})},4671:(yt,Ne,F)=>{function s(ee){return ee}F.d(Ne,{y:()=>s})},1144:(yt,Ne,F)=>{F.d(Ne,{z:()=>s});const s=ee=>ee&&"number"==typeof ee.length&&"function"!=typeof ee},2206:(yt,Ne,F)=>{F.d(Ne,{D:()=>ee});var s=F(576);function ee(O){return Symbol.asyncIterator&&(0,s.m)(O?.[Symbol.asyncIterator])}},576:(yt,Ne,F)=>{function s(ee){return"function"==typeof ee}F.d(Ne,{m:()=>s})},3670:(yt,Ne,F)=>{F.d(Ne,{c:()=>O});var s=F(8822),ee=F(576);function O(ae){return(0,ee.m)(ae[s.L])}},6495:(yt,Ne,F)=>{F.d(Ne,{T:()=>O});var s=F(2202),ee=F(576);function O(ae){return(0,ee.m)(ae?.[s.h])}},8239:(yt,Ne,F)=>{F.d(Ne,{t:()=>ee});var s=F(576);function ee(O){return(0,s.m)(O?.then)}},3260:(yt,Ne,F)=>{F.d(Ne,{L:()=>ae,Q:()=>O});var s=F(7582),ee=F(576);function O(oe){return(0,s.FC)(this,arguments,function*(){const de=oe.getReader();try{for(;;){const{value:we,done:pe}=yield(0,s.qq)(de.read());if(pe)return yield(0,s.qq)(void 0);yield yield(0,s.qq)(we)}}finally{de.releaseLock()}})}function ae(oe){return(0,ee.m)(oe?.getReader)}},4482:(yt,Ne,F)=>{F.d(Ne,{A:()=>ee,e:()=>O});var s=F(576);function ee(ae){return(0,s.m)(ae?.lift)}function O(ae){return oe=>{if(ee(oe))return oe.lift(function(he){try{return ae(he,this)}catch(de){this.error(de)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(yt,Ne,F)=>{F.d(Ne,{U:()=>O,z:()=>ee});var s=F(4671);function ee(...ae){return O(ae)}function O(ae){return 0===ae.length?s.y:1===ae.length?ae[0]:function(he){return ae.reduce((de,we)=>we(de),he)}}},7849:(yt,Ne,F)=>{F.d(Ne,{h:()=>O});var s=F(2416),ee=F(3410);function O(ae){ee.z.setTimeout(()=>{const{onUnhandledError:oe}=s.v;if(!oe)throw ae;oe(ae)})}},4532:(yt,Ne,F)=>{function s(ee){return new TypeError(`You provided ${null!==ee&&"object"==typeof ee?"an invalid object":`'${ee}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(Ne,{z:()=>s})},4650:(yt,Ne,F)=>{F.d(Ne,{$8M:()=>Yu,$Z:()=>Qw,AFp:()=>Cu,ALo:()=>zn,AaK:()=>we,AsE:()=>y0,BQk:()=>g_,CHM:()=>Uu,CRH:()=>Zg,CZH:()=>xn,CqO:()=>Mb,D6c:()=>cT,EJc:()=>gC,EpF:()=>sg,F4k:()=>m_,FYo:()=>Dw,FiY:()=>xo,G48:()=>Cd,GfV:()=>iv,Gpc:()=>H,JOm:()=>Ki,KtG:()=>Xl,LFG:()=>Vn,LSH:()=>Zc,Lbi:()=>qE,Lck:()=>kD,MAs:()=>Ei,MGl:()=>Lh,MMx:()=>Z_,NdJ:()=>Qv,OlP:()=>fn,Oqu:()=>I_,PXZ:()=>Eu,Q6J:()=>kh,QGY:()=>lo,QP$:()=>St,Qsj:()=>Aw,R0b:()=>rs,RDi:()=>yl,Rgc:()=>Xh,SBq:()=>Lp,Sil:()=>lA,Suo:()=>tC,TTD:()=>Mi,TgZ:()=>p_,W1O:()=>UE,X6Q:()=>sf,XFs:()=>ht,Xpm:()=>kn,Xts:()=>Np,Y36:()=>Kc,YKP:()=>ld,YNc:()=>Ab,Yjl:()=>G,Yz7:()=>ge,Z0I:()=>vt,ZZ4:()=>om,_Bn:()=>kg,_UZ:()=>ig,_Vd:()=>Fp,_c5:()=>bA,_uU:()=>_0,aQg:()=>bd,c2e:()=>fC,cJS:()=>Rt,cg1:()=>x_,dDg:()=>vd,dqk:()=>pn,eFA:()=>EC,ekj:()=>Or,eoX:()=>Li,f3M:()=>eo,g9A:()=>ZE,h0i:()=>ud,hGG:()=>lT,hij:()=>id,iGM:()=>eC,ifc:()=>Ct,ip1:()=>dC,jDz:()=>Fg,kL8:()=>nE,lG2:()=>U,lqb:()=>Gc,lri:()=>Qg,n5z:()=>An,oAB:()=>hi,oxw:()=>e0,q4F:()=>sv,qLn:()=>Up,qOj:()=>Jp,qZA:()=>rg,rWj:()=>iy,s9C:()=>og,sBO:()=>uf,sIi:()=>d_,s_b:()=>Ug,soG:()=>Yg,tb:()=>en,tp0:()=>ga,uIk:()=>h_,vHH:()=>Te,vpe:()=>Bs,wAp:()=>xt,xi3:()=>xE,xp6:()=>$m,ynx:()=>Gr,z2F:()=>em,zSh:()=>Bm,zs3:()=>Wc});var s=F(7579),ee=F(727),O=F(9751),ae=F(6451),oe=F(3099);function he(o){for(let a in o)if(o[a]===he)return a;throw Error("Could not find renamed property on target object.")}function de(o,a){for(const l in a)a.hasOwnProperty(l)&&!o.hasOwnProperty(l)&&(o[l]=a[l])}function we(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(we).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const l=a.indexOf("\n");return-1===l?a:a.substring(0,l)}function pe(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const Z=he({__forward_ref__:he});function H(o){return o.__forward_ref__=H,o.toString=function(){return we(this())},o}function z(o){return je(o)?o():o}function je(o){return"function"==typeof o&&o.hasOwnProperty(Z)&&o.__forward_ref__===H}class Te extends Error{constructor(a,l){super(function tt(o,a){return`NG0${Math.abs(o)}${a?": "+a.trim():""}`}(a,l)),this.code=a}}function ve(o){return"string"==typeof o?o:null==o?"":String(o)}function Ce(o,a){throw new Te(-201,!1)}function re(o,a){null==o&&function X(o,a,l,d){throw new Error(`ASSERTION ERROR: ${o}`+(null==d?"":` [Expected=> ${l} ${d} ${a} <=Actual]`))}(a,o,null,"!=")}function ge(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function Rt(o){return{providers:o.providers||[],imports:o.imports||[]}}function dn(o){return Qt(o,Xn)||Qt(o,ci)}function vt(o){return null!==dn(o)}function Qt(o,a){return o.hasOwnProperty(a)?o[a]:null}function Hn(o){return o&&(o.hasOwnProperty(Yn)||o.hasOwnProperty(Di))?o[Yn]:null}const Xn=he({\u0275prov:he}),Yn=he({\u0275inj:he}),ci=he({ngInjectableDef:he}),Di=he({ngInjectorDef:he});var ht=(()=>((ht=ht||{})[ht.Default=0]="Default",ht[ht.Host=1]="Host",ht[ht.Self=2]="Self",ht[ht.SkipSelf=4]="SkipSelf",ht[ht.Optional=8]="Optional",ht))();let Yr;function Jr(o){const a=Yr;return Yr=o,a}function ea(o,a,l){const d=dn(o);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:l&ht.Optional?null:void 0!==a?a:void Ce(we(o))}function lr(o){return{toString:o}.toString()}var In=(()=>((In=In||{})[In.OnPush=0]="OnPush",In[In.Default=1]="Default",In))(),Ct=(()=>{return(o=Ct||(Ct={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",Ct;var o})();const pn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),er={},Dt=[],Dr=he({\u0275cmp:he}),hn=he({\u0275dir:he}),ta=he({\u0275pipe:he}),rn=he({\u0275mod:he}),cr=he({\u0275fac:he}),Ar=he({__NG_ELEMENT_ID__:he});let ji=0;function kn(o){return lr(()=>{const l=!0===o.standalone,d={},h={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===In.OnPush,directiveDefs:null,pipeDefs:null,standalone:l,dependencies:l&&o.dependencies||null,getStandaloneInjector:null,selectors:o.selectors||Dt,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||Ct.Emulated,id:"c"+ji++,styles:o.styles||Dt,_:null,setInput:null,schemas:o.schemas||null,tView:null},m=o.dependencies,v=o.features;return h.inputs=V(o.inputs,d),h.outputs=V(o.outputs),v&&v.forEach(b=>b(h)),h.directiveDefs=m?()=>("function"==typeof m?m():m).map(us).filter(Zn):null,h.pipeDefs=m?()=>("function"==typeof m?m():m).map(Ge).filter(Zn):null,h})}function us(o){return ue(o)||Y(o)}function Zn(o){return null!==o}function hi(o){return lr(()=>({type:o.type,bootstrap:o.bootstrap||Dt,declarations:o.declarations||Dt,imports:o.imports||Dt,exports:o.exports||Dt,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function V(o,a){if(null==o)return er;const l={};for(const d in o)if(o.hasOwnProperty(d)){let h=o[d],m=h;Array.isArray(h)&&(m=h[1],h=h[0]),l[h]=d,a&&(a[h]=m)}return l}const U=kn;function G(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function ue(o){return o[Dr]||null}function Y(o){return o[hn]||null}function Ge(o){return o[ta]||null}function St(o){const a=ue(o)||Y(o)||Ge(o);return null!==a&&a.standalone}function Ft(o,a){const l=o[rn]||null;if(!l&&!0===a)throw new Error(`Type ${we(o)} does not have '\u0275mod' property.`);return l}function dr(o){return Array.isArray(o)&&"object"==typeof o[1]}function Xr(o){return Array.isArray(o)&&!0===o[1]}function ra(o){return 0!=(8&o.flags)}function Mu(o){return 2==(2&o.flags)}function As(o){return 1==(1&o.flags)}function Zi(o){return null!==o.template}function ia(o){return 0!=(256&o[2])}function Ss(o,a){return o.hasOwnProperty(cr)?o[cr]:null}class Rf{constructor(a,l,d){this.previousValue=a,this.currentValue=l,this.firstChange=d}isFirstChange(){return this.firstChange}}function Mi(){return Bd}function Bd(o){return o.type.prototype.ngOnChanges&&(o.setInput=Kl),xa}function xa(){const o=Pf(this),a=o?.current;if(a){const l=o.previous;if(l===er)o.previous=a;else for(let d in a)l[d]=a[d];o.current=null,this.ngOnChanges(a)}}function Kl(o,a,l,d){const h=Pf(o)||function Yl(o,a){return o[Ru]=a}(o,{previous:er,current:null}),m=h.current||(h.current={}),v=h.previous,b=this.declaredInputs[l],I=v[b];m[b]=new Rf(I&&I.currentValue,a,v===er),o[d]=a}Mi.ngInherit=!0;const Ru="__ngSimpleChanges__";function Pf(o){return o[Ru]||null}function qn(o){for(;Array.isArray(o);)o=o[0];return o}function xi(o,a){return qn(a[o])}function ei(o,a){return qn(a[o.index])}function Na(o,a){return o.data[a]}function sa(o,a){return o[a]}function $n(o,a){const l=a[o];return dr(l)?l:l[0]}function mo(o){return 64==(64&o[2])}function pi(o,a){return null==a?null:o[a]}function Xs(o){o[18]=0}function Nr(o,a){o[5]+=a;let l=o,d=o[3];for(;null!==d&&(1===a&&1===l[5]||-1===a&&0===l[5]);)d[5]+=a,l=d,d=d[3]}const Mt={lFrame:ic(null),bindingsEnabled:!0};function $d(){return Mt.bindingsEnabled}function Ae(){return Mt.lFrame.lView}function $t(){return Mt.lFrame.tView}function Uu(o){return Mt.lFrame.contextLView=o,o[8]}function Xl(o){return Mt.lFrame.contextLView=null,o}function Fn(){let o=Vu();for(;null!==o&&64===o.type;)o=o.parent;return o}function Vu(){return Mt.lFrame.currentTNode}function gi(o,a){const l=Mt.lFrame;l.currentTNode=o,l.isParent=a}function oa(){return Mt.lFrame.isParent}function ec(){Mt.lFrame.isParent=!1}function xs(){return Mt.lFrame.bindingIndex++}function mi(o){const a=Mt.lFrame,l=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,l}function Tm(o,a){const l=Mt.lFrame;l.bindingIndex=l.bindingRootIndex=o,nc(a)}function nc(o){Mt.lFrame.currentDirectiveIndex=o}function Bu(){return Mt.lFrame.currentQueryIndex}function Hr(o){Mt.lFrame.currentQueryIndex=o}function rc(o){const a=o[1];return 2===a.type?a.declTNode:1===a.type?o[6]:null}function Oa(o,a,l){if(l&ht.SkipSelf){let h=a,m=o;for(;!(h=h.parent,null!==h||l&ht.Host||(h=rc(m),null===h||(m=m[15],10&h.type))););if(null===h)return!1;a=h,o=m}const d=Mt.lFrame=vo();return d.currentTNode=a,d.lView=o,!0}function ka(o){const a=vo(),l=o[1];Mt.lFrame=a,a.currentTNode=l.firstChild,a.lView=o,a.tView=l,a.contextLView=o,a.bindingIndex=l.bindingStartIndex,a.inI18n=!1}function vo(){const o=Mt.lFrame,a=null===o?null:o.child;return null===a?ic(o):a}function ic(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function Fa(){const o=Mt.lFrame;return Mt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const zd=Fa;function ua(){const o=Fa();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function on(){return Mt.lFrame.selectedIndex}function Ns(o){Mt.lFrame.selectedIndex=o}function Dn(){const o=Mt.lFrame;return Na(o.tView,o.selectedIndex)}function Co(o,a){for(let l=a.directiveStart,d=a.directiveEnd;l<d;l++){const m=o.data[l].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:b,ngAfterViewInit:I,ngAfterViewChecked:S,ngOnDestroy:R}=m;v&&(o.contentHooks||(o.contentHooks=[])).push(-l,v),b&&((o.contentHooks||(o.contentHooks=[])).push(l,b),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(l,b)),I&&(o.viewHooks||(o.viewHooks=[])).push(-l,I),S&&((o.viewHooks||(o.viewHooks=[])).push(l,S),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(l,S)),null!=R&&(o.destroyHooks||(o.destroyHooks=[])).push(l,R)}}function La(o,a,l){Ua(o,a,3,l)}function la(o,a,l,d){(3&o[2])===l&&Ua(o,a,l,d)}function Jd(o,a){let l=o[2];(3&l)===a&&(l&=2047,l+=1,o[2]=l)}function Ua(o,a,l,d){const m=d??-1,v=a.length-1;let b=0;for(let I=void 0!==d?65535&o[18]:0;I<v;I++)if("number"==typeof a[I+1]){if(b=a[I],null!=d&&b>=d)break}else a[I]<0&&(o[18]+=65536),(b<m||-1==m)&&(Lf(o,l,a,I),o[18]=(4294901760&o[18])+I+2),I++}function Lf(o,a,l,d){const h=l[d]<0,m=l[d+1],b=o[h?-l[d]:l[d]];if(h){if(o[2]>>11<o[18]>>16&&(3&o[2])===a){o[2]+=2048;try{m.call(b)}finally{}}}else try{m.call(b)}finally{}}class Va{constructor(a,l,d){this.factory=a,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=d}}function $u(o,a,l){let d=0;for(;d<l.length;){const h=l[d];if("number"==typeof h){if(0!==h)break;d++;const m=l[d++],v=l[d++],b=l[d++];o.setAttribute(a,v,b,m)}else{const m=h,v=l[++d];Bf(m)?o.setProperty(a,m,v):o.setAttribute(a,m,v),d++}}return d}function Gu(o){return 3===o||4===o||6===o}function Bf(o){return 64===o.charCodeAt(0)}function ca(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let l=-1;for(let d=0;d<a.length;d++){const h=a[d];"number"==typeof h?l=h:0===l||Xd(o,l,h,null,-1===l||2===l?a[++d]:null)}}return o}function Xd(o,a,l,d,h){let m=0,v=o.length;if(-1===a)v=-1;else for(;m<o.length;){const b=o[m++];if("number"==typeof b){if(b===a){v=-1;break}if(b>a){v=m-1;break}}}for(;m<o.length;){const b=o[m];if("number"==typeof b)break;if(b===l){if(null===d)return void(null!==h&&(o[m+1]=h));if(d===o[m+1])return void(o[m+2]=h)}m++,null!==d&&m++,null!==h&&m++}-1!==v&&(o.splice(v,0,a),m=v+1),o.splice(m++,0,l),null!==d&&o.splice(m++,0,d),null!==h&&o.splice(m++,0,h)}function lc(o){return-1!==o}function Ba(o){return 32767&o}function ds(o,a){let l=function jf(o){return o>>16}(o),d=a;for(;l>0;)d=d[15],l--;return d}let ja=!0;function Ps(o){const a=ja;return ja=o,a}let Ha=0;const Ni={};function da(o,a){const l=bo(o,a);if(-1!==l)return l;const d=a[1];d.firstCreatePass&&(o.injectorIndex=a.length,dc(d.data,o),dc(a,null),dc(d.blueprint,null));const h=Eo(o,a),m=o.injectorIndex;if(lc(h)){const v=Ba(h),b=ds(h,a),I=b[1].data;for(let S=0;S<8;S++)a[m+S]=b[v+S]|I[v+S]}return a[m+8]=h,m}function dc(o,a){o.push(0,0,0,0,0,0,0,0,a)}function bo(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function Eo(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let l=0,d=null,h=a;for(;null!==h;){if(d=qf(h),null===d)return-1;if(l++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|l<<16}return-1}function Za(o,a,l){!function cc(o,a,l){let d;"string"==typeof l?d=l.charCodeAt(0)||0:l.hasOwnProperty(Ar)&&(d=l[Ar]),null==d&&(d=l[Ar]=Ha++);const h=255&d;a.data[o+(h>>5)]|=1<<h}(o,a,l)}function Wu(o,a,l){if(l&ht.Optional||void 0!==o)return o;Ce()}function Hf(o,a,l,d){if(l&ht.Optional&&void 0===d&&(d=null),0==(l&(ht.Self|ht.Host))){const h=o[9],m=Jr(void 0);try{return h?h.get(a,d,l&ht.Optional):ea(a,d,l&ht.Optional)}finally{Jr(m)}}return Wu(d,0,l)}function qa(o,a,l,d=ht.Default,h){if(null!==o){if(1024&a[2]){const v=function Ga(o,a,l,d,h){let m=o,v=a;for(;null!==m&&null!==v&&1024&v[2]&&!(256&v[2]);){const b=ha(m,v,l,d|ht.Self,Ni);if(b!==Ni)return b;let I=m.parent;if(!I){const S=v[21];if(S){const R=S.get(l,Ni,d);if(R!==Ni)return R}I=qf(v),v=v[15]}m=I}return h}(o,a,l,d,Ni);if(v!==Ni)return v}const m=ha(o,a,l,d,Ni);if(m!==Ni)return m}return Hf(a,l,d,h)}function ha(o,a,l,d,h){const m=function Io(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(Ar)?o[Ar]:void 0;return"number"==typeof a?a>=0?255&a:Am:a}(l);if("function"==typeof m){if(!Oa(a,o,d))return d&ht.Host?Wu(h,0,d):Hf(a,l,d,h);try{const v=m(d);if(null!=v||d&ht.Optional)return v;Ce()}finally{zd()}}else if("number"==typeof m){let v=null,b=bo(o,a),I=-1,S=d&ht.Host?a[16][6]:null;for((-1===b||d&ht.SkipSelf)&&(I=-1===b?Eo(o,a):a[b+8],-1!==I&&Ku(d,!1)?(v=a[1],b=Ba(I),a=ds(I,a)):b=-1);-1!==b;){const R=a[1];if(Zf(m,b,R.data)){const k=Dm(b,a,l,v,d,S);if(k!==Ni)return k}I=a[b+8],-1!==I&&Ku(d,a[1].data[b+8]===S)&&Zf(m,b,a)?(v=R,b=Ba(I),a=ds(I,a)):b=-1}}return h}function Dm(o,a,l,d,h,m){const v=a[1],b=v.data[o+8],R=fs(b,v,l,null==d?Mu(b)&&ja:d!=v&&0!=(3&b.type),h&ht.Host&&m===b);return null!==R?$a(a,v,R,b):Ni}function fs(o,a,l,d,h){const m=o.providerIndexes,v=a.data,b=1048575&m,I=o.directiveStart,R=m>>20,$=h?b+R:o.directiveEnd;for(let J=d?b:b+R;J<$;J++){const be=v[J];if(J<I&&l===be||J>=I&&be.type===l)return J}if(h){const J=v[I];if(J&&Zi(J)&&J.type===l)return I}return null}function $a(o,a,l,d){let h=o[l];const m=a.data;if(function Zu(o){return o instanceof Va}(h)){const v=h;v.resolving&&function mt(o,a){const l=a?`. Dependency path: ${a.join(" > ")} > ${o}`:"";throw new Te(-200,`Circular dependency in DI detected for ${o}${l}`)}(function ye(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():ve(o)}(m[l]));const b=Ps(v.canSeeViewProviders);v.resolving=!0;const I=v.injectImpl?Jr(v.injectImpl):null;Oa(o,d,ht.Default);try{h=o[l]=v.factory(void 0,m,o,d),a.firstCreatePass&&l>=d.directiveStart&&function oc(o,a,l){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:m}=a.type.prototype;if(d){const v=Bd(a);(l.preOrderHooks||(l.preOrderHooks=[])).push(o,v),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(o,v)}h&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-o,h),m&&((l.preOrderHooks||(l.preOrderHooks=[])).push(o,m),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(o,m))}(l,m[l],a)}finally{null!==I&&Jr(I),Ps(b),v.resolving=!1,zd()}}return h}function Zf(o,a,l){return!!(l[a+(o>>5)]&1<<o)}function Ku(o,a){return!(o&ht.Self||o&ht.Host&&a)}class ps{constructor(a,l){this._tNode=a,this._lView=l}get(a,l,d){return qa(this._tNode,this._lView,a,d,l)}}function Am(){return new ps(Fn(),Ae())}function An(o){return lr(()=>{const a=o.prototype.constructor,l=a[cr]||hc(a),d=Object.prototype;let h=Object.getPrototypeOf(o.prototype).constructor;for(;h&&h!==d;){const m=h[cr]||hc(h);if(m&&m!==l)return m;h=Object.getPrototypeOf(h)}return m=>new m})}function hc(o){return je(o)?()=>{const a=hc(z(o));return a&&a()}:Ss(o)}function qf(o){const a=o[1],l=a.type;return 2===l?a.declTNode:1===l?o[6]:null}function Yu(o){return function To(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const l=o.attrs;if(l){const d=l.length;let h=0;for(;h<d;){const m=l[h];if(Gu(m))break;if(0===m)h+=2;else if("number"==typeof m)for(h++;h<d&&"string"==typeof l[h];)h++;else{if(m===a)return l[h+1];h+=2}}}return null}(Fn(),o)}const Un="__parameters__";function ks(o,a,l){return lr(()=>{const d=function fa(o){return function(...l){if(o){const d=o(...l);for(const h in d)this[h]=d[h]}}}(a);function h(...m){if(this instanceof h)return d.apply(this,m),this;const v=new h(...m);return b.annotation=v,b;function b(I,S,R){const k=I.hasOwnProperty(Un)?I[Un]:Object.defineProperty(I,Un,{value:[]})[Un];for(;k.length<=R;)k.push(null);return(k[R]=k[R]||[]).push(v),I}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=o,h.annotationCls=h,h})}class fn{constructor(a,l){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=ge({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Jn(o,a){void 0===a&&(a=o);for(let l=0;l<o.length;l++){let d=o[l];Array.isArray(d)?(a===o&&(a=o.slice(0,l)),Jn(d,a)):a!==o&&a.push(d)}return a}function Wi(o,a){o.forEach(l=>Array.isArray(l)?Wi(l,a):a(l))}function gc(o,a,l){a>=o.length?o.push(l):o.splice(a,0,l)}function mc(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function _i(o,a,l){let d=Ka(o,a);return d>=0?o[1|d]=l:(d=~d,function Sm(o,a,l,d){let h=o.length;if(h==a)o.push(l,d);else if(1===h)o.push(d,o[0]),o[0]=l;else{for(h--,o.push(o[h-1],o[h]);h>a;)o[h]=o[h-2],h--;o[a]=l,o[a+1]=d}}(o,d,a,l)),d}function tl(o,a){const l=Ka(o,a);if(l>=0)return o[1|l]}function Ka(o,a){return function Jf(o,a,l){let d=0,h=o.length>>l;for(;h!==d;){const m=d+(h-d>>1),v=o[m<<l];if(a===v)return m<<l;v>a?h=m:d=m+1}return~(h<<l)}(o,a,1)}const Qe={},Cr="__NG_DI_FLAG__",Tn="ngTempTokenPath",Ya=/\n/gm,Ja="__source";let So;function Zr(o){const a=So;return So=o,a}function yc(o,a=ht.Default){if(void 0===So)throw new Te(-203,!1);return null===So?ea(o,void 0,a):So.get(o,a&ht.Optional?null:void 0,a)}function Vn(o,a=ht.Default){return(function Bi(){return Yr}()||yc)(z(o),a)}function eo(o,a=ht.Default){return"number"!=typeof a&&(a=0|(a.optional&&8)|(a.host&&1)|(a.self&&2)|(a.skipSelf&&4)),Vn(o,a)}function At(o){const a=[];for(let l=0;l<o.length;l++){const d=z(o[l]);if(Array.isArray(d)){if(0===d.length)throw new Te(900,!1);let h,m=ht.Default;for(let v=0;v<d.length;v++){const b=d[v],I=vc(b);"number"==typeof I?-1===I?h=b.token:m|=I:h=b}a.push(Vn(h,m))}else a.push(Vn(d))}return a}function Mo(o,a){return o[Cr]=a,o.prototype[Cr]=a,o}function vc(o){return o[Cr]}const xo=Mo(ks("Optional"),8),ga=Mo(ks("SkipSelf"),4);var Ki=(()=>((Ki=Ki||{})[Ki.Important=1]="Important",Ki[Ki.DashCase=2]="DashCase",Ki))();const P=new Map;let q=0;const Sn="__ngContext__";function yn(o,a){dr(a)?(o[Sn]=a[20],function ce(o){P.set(o[20],o)}(a)):o[Sn]=a}function hh(o,a){return undefined(o,a)}function hl(o){const a=o[3];return Xr(a)?a[3]:a}function rp(o){return _a(o[13])}function Nc(o){return _a(o[4])}function _a(o){for(;null!==o&&!Xr(o);)o=o[4];return o}function fl(o,a,l,d,h){if(null!=d){let m,v=!1;Xr(d)?m=d:dr(d)&&(v=!0,d=d[0]);const b=qn(d);0===o&&null!==l?null==h?ph(a,l,b):Lo(a,l,b,h||null,!0):1===o&&null!==l?Lo(a,l,b,h||null,!0):2===o?function dp(o,a,l){const d=va(o,a);d&&function $y(o,a,l,d){o.removeChild(a,l,d)}(o,d,a,l)}(a,b,v):3===o&&a.destroyNode(b),null!=m&&function pp(o,a,l,d,h){const m=l[7];m!==qn(l)&&fl(a,o,d,m,h);for(let b=10;b<l.length;b++){const I=l[b];Lc(I[1],I,o,a,d,m)}}(a,o,m,l,h)}}function pl(o,a,l){return o.createElement(a,l)}function Pm(o,a){const l=o[9],d=l.indexOf(a),h=a[3];512&a[2]&&(a[2]&=-513,Nr(h,-1)),l.splice(d,1)}function ru(o,a){if(o.length<=10)return;const l=10+a,d=o[l];if(d){const h=d[17];null!==h&&h!==o&&Pm(h,d),a>0&&(o[l-1][4]=d[4]);const m=mc(o,10+a);!function Zy(o,a){Lc(o,a,a[11],2,null,null),a[0]=null,a[6]=null}(d[1],d);const v=m[19];null!==v&&v.detachView(m[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function gl(o,a){if(!(128&a[2])){const l=a[11];l.destroyNode&&Lc(o,a,l,3,null,null),function gw(o){let a=o[13];if(!a)return ya(o[1],o);for(;a;){let l=null;if(dr(a))l=a[13];else{const d=a[10];d&&(l=d)}if(!l){for(;a&&!a[4]&&a!==o;)dr(a)&&ya(a[1],a),a=a[3];null===a&&(a=o),dr(a)&&ya(a[1],a),l=a&&a[4]}a=l}}(a)}}function ya(o,a){if(!(128&a[2])){a[2]&=-65,a[2]|=128,function fh(o,a){let l;if(null!=o&&null!=(l=o.destroyHooks))for(let d=0;d<l.length;d+=2){const h=a[l[d]];if(!(h instanceof Va)){const m=l[d+1];if(Array.isArray(m))for(let v=0;v<m.length;v+=2){const b=h[m[v]],I=m[v+1];try{I.call(b)}finally{}}else try{m.call(h)}finally{}}}}(o,a),function op(o,a){const l=o.cleanup,d=a[7];let h=-1;if(null!==l)for(let m=0;m<l.length-1;m+=2)if("string"==typeof l[m]){const v=l[m+1],b="function"==typeof v?v(a):qn(a[v]),I=d[h=l[m+2]],S=l[m+3];"boolean"==typeof S?b.removeEventListener(l[m],I,S):S>=0?d[h=S]():d[h=-S].unsubscribe(),m+=2}else{const v=d[h=l[m+1]];l[m].call(v)}if(null!==d){for(let m=h+1;m<d.length;m++)(0,d[m])();a[7]=null}}(o,a),1===a[1].type&&a[11].destroy();const l=a[17];if(null!==l&&Xr(a[3])){l!==a[3]&&Pm(l,a);const d=a[19];null!==d&&d.detachView(o)}!function He(o){P.delete(o[20])}(a)}}function ap(o,a,l){return function iu(o,a,l){let d=a;for(;null!==d&&40&d.type;)d=(a=d).parent;if(null===d)return l[0];if(2&d.flags){const h=o.data[d.directiveStart].encapsulation;if(h===Ct.None||h===Ct.Emulated)return null}return ei(d,l)}(o,a.parent,l)}function Lo(o,a,l,d,h){o.insertBefore(a,l,d,h)}function ph(o,a,l){o.appendChild(a,l)}function up(o,a,l,d,h){null!==d?Lo(o,a,l,d,h):ph(o,a,l)}function va(o,a){return o.parentNode(a)}let Ji,cp=function lp(o,a,l){return 40&o.type?ei(o,l):null};function ml(o,a,l,d){const h=ap(o,d,a),m=a[11],b=function gh(o,a,l){return cp(o,a,l)}(d.parent||a[6],d,a);if(null!=h)if(Array.isArray(l))for(let I=0;I<l.length;I++)up(m,h,l[I],b,!1);else up(m,h,l,b,!1)}function ki(o,a){if(null!==a){const l=a.type;if(3&l)return ei(a,o);if(4&l)return Fc(-1,o[a.index]);if(8&l){const d=a.child;if(null!==d)return ki(o,d);{const h=o[a.index];return Xr(h)?Fc(-1,h):qn(h)}}if(32&l)return hh(a,o)()||qn(o[a.index]);{const d=kc(o,a);return null!==d?Array.isArray(d)?d[0]:ki(hl(o[16]),d):ki(o,a.next)}}return null}function kc(o,a){return null!==a?o[16][6].projection[a.projection]:null}function Fc(o,a){const l=10+o+1;if(l<a.length){const d=a[l],h=d[1].firstChild;if(null!==h)return ki(d,h)}return a[7]}function hp(o,a,l,d,h,m,v){for(;null!=l;){const b=d[l.index],I=l.type;if(v&&0===a&&(b&&yn(qn(b),d),l.flags|=4),64!=(64&l.flags))if(8&I)hp(o,a,l.child,d,h,m,!1),fl(a,o,h,b,m);else if(32&I){const S=hh(l,d);let R;for(;R=S();)fl(a,o,h,R,m);fl(a,o,h,b,m)}else 16&I?fp(o,a,d,l,h,m):fl(a,o,h,b,m);l=v?l.projectionNext:l.next}}function Lc(o,a,l,d,h,m){hp(l,d,o.firstChild,a,h,m,!1)}function fp(o,a,l,d,h,m){const v=l[16],I=v[6].projection[d.projection];if(Array.isArray(I))for(let S=0;S<I.length;S++)fl(a,o,h,I[S],m);else hp(o,a,I,v[3],h,m,!0)}function mp(o,a,l){o.setAttribute(a,"style",l)}function _p(o,a,l){""===l?o.removeAttribute(a,"class"):o.setAttribute(a,"class",l)}function yl(o){Ji=o}class jc{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function ii(o){return o instanceof jc?o.changingThisBreaksApplicationSecurity:o}const g=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var Bn=(()=>((Bn=Bn||{})[Bn.NONE=0]="NONE",Bn[Bn.HTML=1]="HTML",Bn[Bn.STYLE=2]="STYLE",Bn[Bn.SCRIPT=3]="SCRIPT",Bn[Bn.URL=4]="URL",Bn[Bn.RESOURCE_URL=5]="RESOURCE_URL",Bn))();function Zc(o){const a=function xp(){const o=Ae();return o&&o[12]}();return a?a.sanitize(Bn.URL,o)||"":function Qi(o,a){const l=function Fm(o){return o instanceof jc&&o.getTypeName()||null}(o);if(null!=l&&l!==a){if("ResourceURL"===l&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===a}(o,"URL")?ii(o):function C(o){return(o=String(o)).match(g)?o:"unsafe:"+o}(ve(o))}const Np=new fn("ENVIRONMENT_INITIALIZER"),Rp=new fn("INJECTOR",-1),qc=new fn("INJECTOR_DEF_TYPES");class mw{get(a,l=Qe){if(l===Qe){const d=new Error(`NullInjectorError: No provider for ${we(a)}!`);throw d.name="NullInjectorError",d}return l}}function vI(...o){return{\u0275providers:_w(0,o)}}function _w(o,...a){const l=[],d=new Set;let h;return Wi(a,m=>{const v=m;Qy(v,l,[],d)&&(h||(h=[]),h.push(v))}),void 0!==h&&yw(h,l),l}function yw(o,a){for(let l=0;l<o.length;l++){const{providers:h}=o[l];Wi(h,m=>{a.push(m)})}}function Qy(o,a,l,d){if(!(o=z(o)))return!1;let h=null,m=Hn(o);const v=!m&&ue(o);if(m||v){if(v&&!v.standalone)return!1;h=o}else{const I=o.ngModule;if(m=Hn(I),!m)return!1;h=I}const b=d.has(h);if(v){if(b)return!1;if(d.add(h),v.dependencies){const I="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const S of I)Qy(S,a,l,d)}}else{if(!m)return!1;{if(null!=m.imports&&!b){let S;d.add(h);try{Wi(m.imports,R=>{Qy(R,a,l,d)&&(S||(S=[]),S.push(R))})}finally{}void 0!==S&&yw(S,a)}if(!b){const S=Ss(h)||(()=>new h);a.push({provide:h,useFactory:S,deps:Dt},{provide:qc,useValue:h,multi:!0},{provide:Np,useValue:()=>Vn(h),multi:!0})}const I=m.providers;null==I||b||Wi(I,R=>{a.push(R)})}}return h!==o&&void 0!==o.providers}const CI=he({provide:String,useValue:he});function Xy(o){return null!==o&&"object"==typeof o&&CI in o}function $c(o){return"function"==typeof o}const Bm=new fn("Set Injector scope."),wh={},jm={};let nv;function Hm(){return void 0===nv&&(nv=new mw),nv}class Gc{}class Cw extends Gc{constructor(a,l,d,h){super(),this.parent=l,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,rv(a,v=>this.processProvider(v)),this.records.set(Rp,su(void 0,this)),h.has("environment")&&this.records.set(Gc,su(void 0,this));const m=this.records.get(Bm);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(qc.multi,Dt,ht.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();for(const a of this._onDestroyHooks)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(a){this._onDestroyHooks.push(a)}runInContext(a){this.assertNotDestroyed();const l=Zr(this),d=Jr(void 0);try{return a()}finally{Zr(l),Jr(d)}}get(a,l=Qe,d=ht.Default){this.assertNotDestroyed();const h=Zr(this),m=Jr(void 0);try{if(!(d&ht.SkipSelf)){let b=this.records.get(a);if(void 0===b){const I=function Tw(o){return"function"==typeof o||"object"==typeof o&&o instanceof fn}(a)&&dn(a);b=I&&this.injectableDefInScope(I)?su(bh(a),wh):null,this.records.set(a,b)}if(null!=b)return this.hydrate(a,b)}return(d&ht.Self?Hm():this.parent).get(a,l=d&ht.Optional&&l===Qe?null:l)}catch(v){if("NullInjectorError"===v.name){if((v[Tn]=v[Tn]||[]).unshift(we(a)),h)throw v;return function ol(o,a,l,d){const h=o[Tn];throw a[Ja]&&h.unshift(a[Ja]),o.message=function Qa(o,a,l,d=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let h=we(a);if(Array.isArray(a))h=a.map(we).join(" -> ");else if("object"==typeof a){let m=[];for(let v in a)if(a.hasOwnProperty(v)){let b=a[v];m.push(v+":"+("string"==typeof b?JSON.stringify(b):we(b)))}h=`{${m.join(", ")}}`}return`${l}${d?"("+d+")":""}[${h}]: ${o.replace(Ya,"\n  ")}`}("\n"+o.message,h,l,d),o.ngTokenPath=h,o[Tn]=null,o}(v,a,"R3InjectorError",this.source)}throw v}finally{Jr(m),Zr(h)}}resolveInjectorInitializers(){const a=Zr(this),l=Jr(void 0);try{const d=this.get(Np.multi,Dt,ht.Self);for(const h of d)h()}finally{Zr(a),Jr(l)}}toString(){const a=[],l=this.records;for(const d of l.keys())a.push(we(d));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Te(205,!1)}processProvider(a){let l=$c(a=z(a))?a:z(a&&a.provide);const d=function bw(o){return Xy(o)?su(void 0,o.useValue):su(Pp(o),wh)}(a);if($c(a)||!0!==a.multi)this.records.get(l);else{let h=this.records.get(l);h||(h=su(void 0,wh,!0),h.factory=()=>At(h.multi),this.records.set(l,h)),l=a,h.multi.push(a)}this.records.set(l,d)}hydrate(a,l){return l.value===wh&&(l.value=jm,l.value=l.factory()),"object"==typeof l.value&&l.value&&function Op(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(a){if(!a.providedIn)return!1;const l=z(a.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}}function bh(o){const a=dn(o),l=null!==a?a.factory:Ss(o);if(null!==l)return l;if(o instanceof fn)throw new Te(204,!1);if(o instanceof Function)return function ww(o){const a=o.length;if(a>0)throw function pa(o,a){const l=[];for(let d=0;d<o;d++)l.push(a);return l}(a,"?"),new Te(204,!1);const l=function Rn(o){const a=o&&(o[Xn]||o[ci]);if(a){const l=function wn(o){if(o.hasOwnProperty("name"))return o.name;const a=(""+o).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),a}return null}(o);return null!==l?()=>l.factory(o):()=>new o}(o);throw new Te(204,!1)}function Pp(o,a,l){let d;if($c(o)){const h=z(o);return Ss(h)||bh(h)}if(Xy(o))d=()=>z(o.useValue);else if(function ev(o){return!(!o||!o.useFactory)}(o))d=()=>o.useFactory(...At(o.deps||[]));else if(function vw(o){return!(!o||!o.useExisting)}(o))d=()=>Vn(z(o.useExisting));else{const h=z(o&&(o.useClass||o.provide));if(!function Ew(o){return!!o.deps}(o))return Ss(h)||bh(h);d=()=>new h(...At(o.deps))}return d}function su(o,a,l=!1){return{factory:o,value:a,multi:l?[]:void 0}}function wI(o){return!!o.\u0275providers}function rv(o,a){for(const l of o)Array.isArray(l)?rv(l,a):wI(l)?rv(l.\u0275providers,a):a(l)}class Iw{}class TI{resolveComponentFactory(a){throw function EI(o){const a=Error(`No component factory found for ${we(o)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=o,a}(a)}}let Fp=(()=>{class o{}return o.NULL=new TI,o})();function II(){return Eh(Fn(),Ae())}function Eh(o,a){return new Lp(ei(o,a))}let Lp=(()=>{class o{constructor(l){this.nativeElement=l}}return o.__NG_ELEMENT_ID__=II,o})();function DI(o){return o instanceof Lp?o.nativeElement:o}class Dw{}let Aw=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function Sw(){const o=Ae(),l=$n(Fn().index,o);return(dr(l)?l:o)[11]}(),o})(),Mw=(()=>{class o{}return o.\u0275prov=ge({token:o,providedIn:"root",factory:()=>null}),o})();class iv{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const sv=new iv("14.3.0"),ov={};function uv(o){return o.ngOriginalError}class Up{constructor(){this._console=console}handleError(a){const l=this._findOriginalError(a);this._console.error("ERROR",a),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(a){let l=a&&uv(a);for(;l&&uv(l);)l=uv(l);return l||null}}function ou(o){return o instanceof Function?o():o}function Ow(o,a,l){let d=o.length;for(;;){const h=o.indexOf(a,l);if(-1===h)return h;if(0===h||o.charCodeAt(h-1)<=32){const m=a.length;if(h+m===d||o.charCodeAt(h+m)<=32)return h}l=h+1}}const kw="ng-template";function PI(o,a,l){let d=0;for(;d<o.length;){let h=o[d++];if(l&&"class"===h){if(h=o[d],-1!==Ow(h.toLowerCase(),a,0))return!0}else if(1===h){for(;d<o.length&&"string"==typeof(h=o[d++]);)if(h.toLowerCase()===a)return!0;return!1}}return!1}function Fw(o){return 4===o.type&&o.value!==kw}function OI(o,a,l){return a===(4!==o.type||l?o.value:kw)}function kI(o,a,l){let d=4;const h=o.attrs||[],m=function dv(o){for(let a=0;a<o.length;a++)if(Gu(o[a]))return a;return o.length}(h);let v=!1;for(let b=0;b<a.length;b++){const I=a[b];if("number"!=typeof I){if(!v)if(4&d){if(d=2|1&d,""!==I&&!OI(o,I,l)||""===I&&1===a.length){if(oo(d))return!1;v=!0}}else{const S=8&d?I:a[++b];if(8&d&&null!==o.attrs){if(!PI(o.attrs,S,l)){if(oo(d))return!1;v=!0}continue}const k=Bt(8&d?"class":I,h,Fw(o),l);if(-1===k){if(oo(d))return!1;v=!0;continue}if(""!==S){let $;$=k>m?"":h[k+1].toLowerCase();const J=8&d?$:null;if(J&&-1!==Ow(J,S,0)||2&d&&S!==$){if(oo(d))return!1;v=!0}}}}else{if(!v&&!oo(d)&&!oo(I))return!1;if(v&&oo(I))continue;v=!1,d=I|1&d}}return oo(d)||v}function oo(o){return 0==(1&o)}function Bt(o,a,l,d){if(null===a)return-1;let h=0;if(d||!l){let m=!1;for(;h<a.length;){const v=a[h];if(v===o)return h;if(3===v||6===v)m=!0;else{if(1===v||2===v){let b=a[++h];for(;"string"==typeof b;)b=a[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=m?1:2}return-1}return function hv(o,a){let l=o.indexOf(4);if(l>-1)for(l++;l<o.length;){const d=o[l];if("number"==typeof d)return-1;if(d===a)return l;l++}return-1}(a,o)}function Lw(o,a,l=!1){for(let d=0;d<a.length;d++)if(kI(o,a[d],l))return!0;return!1}function Vw(o,a){return o?":not("+a.trim()+")":a}function Bw(o){let a=o[0],l=1,d=2,h="",m=!1;for(;l<o.length;){let v=o[l];if("string"==typeof v)if(2&d){const b=o[++l];h+="["+v+(b.length>0?'="'+b+'"':"")+"]"}else 8&d?h+="."+v:4&d&&(h+=" "+v);else""!==h&&!oo(v)&&(a+=Vw(m,h),h=""),d=v,m=m||!oo(d);l++}return""!==h&&(a+=Vw(m,h)),a}const Ht={};function $m(o){fv($t(),Ae(),on()+o,!1)}function fv(o,a,l,d){if(!d)if(3==(3&a[2])){const m=o.preOrderCheckHooks;null!==m&&La(a,m,l)}else{const m=o.preOrderHooks;null!==m&&la(a,m,0,l)}Ns(l)}function $w(o,a=null,l=null,d){const h=Gw(o,a,l,d);return h.resolveInjectorInitializers(),h}function Gw(o,a=null,l=null,d,h=new Set){const m=[l||Dt,vI(o)];return d=d||("object"==typeof o?void 0:we(o)),new Cw(m,a||Hm(),d||null,h)}let Wc=(()=>{class o{static create(l,d){if(Array.isArray(l))return $w({name:""},d,l,"");{const h=l.name??"";return $w({name:h},l.parent,l.providers,h)}}}return o.THROW_IF_NOT_FOUND=Qe,o.NULL=new mw,o.\u0275prov=ge({token:o,providedIn:"any",factory:()=>Vn(Rp)}),o.__NG_ELEMENT_ID__=-1,o})();function Kc(o,a=ht.Default){const l=Ae();return null===l?Vn(o,a):qa(Fn(),l,z(o),a)}function Qw(){throw new Error("invalid")}function jp(o,a){return o<<17|a<<2}function ao(o){return o>>17&32767}function bv(o){return 2|o}function au(o){return(131068&o)>>2}function eb(o,a){return-131069&o|a<<2}function Tv(o){return 1|o}function ob(o,a){const l=o.contentQueries;if(null!==l)for(let d=0;d<l.length;d+=2){const h=l[d],m=l[d+1];if(-1!==m){const v=o.data[m];Hr(h),v.contentQueries(2,a[m],m)}}}function Jc(o,a,l,d,h,m,v,b,I,S,R){const k=a.blueprint.slice();return k[0]=h,k[2]=76|d,(null!==R||o&&1024&o[2])&&(k[2]|=1024),Xs(k),k[3]=k[15]=o,k[8]=l,k[10]=v||o&&o[10],k[11]=b||o&&o[11],k[12]=I||o&&o[12]||null,k[9]=S||o&&o[9]||null,k[6]=m,k[20]=function W(){return q++}(),k[21]=R,k[16]=2==a.type?o[16]:k,k}function wl(o,a,l,d,h){let m=o.data[a];if(null===m)m=function $p(o,a,l,d,h){const m=Vu(),v=oa(),I=o.data[a]=function nD(o,a,l,d,h,m){return{type:l,index:d,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?m:m&&m.parent,l,a,d,h);return null===o.firstChild&&(o.firstChild=I),null!==m&&(v?null==m.child&&null!==I.parent&&(m.child=I):null===m.next&&(m.next=I)),I}(o,a,l,d,h),function Gd(){return Mt.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=l,m.value=d,m.attrs=h;const v=function _o(){const o=Mt.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}();m.injectorIndex=null===v?-1:v.injectorIndex}return gi(m,!0),m}function lu(o,a,l,d){if(0===l)return-1;const h=a.length;for(let m=0;m<l;m++)a.push(d),o.blueprint.push(d),o.data.push(null);return h}function Ah(o,a,l){ka(a);try{const d=o.viewQuery;null!==d&&Hv(1,d,l);const h=o.template;null!==h&&ab(o,a,h,1,l),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&ob(o,a),o.staticViewQueries&&Hv(2,o.viewQuery,l);const m=o.components;null!==m&&function wi(o,a){for(let l=0;l<a.length;l++)uD(o,a[l])}(a,m)}catch(d){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),d}finally{a[2]&=-5,ua()}}function Sh(o,a,l,d){const h=a[2];if(128!=(128&h)){ka(a);try{Xs(a),function Gi(o){return Mt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==l&&ab(o,a,l,2,d);const v=3==(3&h);if(v){const S=o.preOrderCheckHooks;null!==S&&La(a,S,null)}else{const S=o.preOrderHooks;null!==S&&la(a,S,0,null),Jd(a,0)}if(function Mh(o){for(let a=rp(o);null!==a;a=Nc(a)){if(!a[2])continue;const l=a[9];for(let d=0;d<l.length;d++){const h=l[d],m=h[3];0==(512&h[2])&&Nr(m,1),h[2]|=512}}}(a),function yb(o){for(let a=rp(o);null!==a;a=Nc(a))for(let l=10;l<a.length;l++){const d=a[l],h=d[1];mo(d)&&Sh(h,d,h.template,d[8])}}(a),null!==o.contentQueries&&ob(o,a),v){const S=o.contentCheckHooks;null!==S&&La(a,S)}else{const S=o.contentHooks;null!==S&&la(a,S,1),Jd(a,1)}!function eD(o,a){const l=o.hostBindingOpCodes;if(null!==l)try{for(let d=0;d<l.length;d++){const h=l[d];if(h<0)Ns(~h);else{const m=h,v=l[++d],b=l[++d];Tm(v,m),b(2,a[m])}}}finally{Ns(-1)}}(o,a);const b=o.components;null!==b&&function tD(o,a){for(let l=0;l<a.length;l++)vb(o,a[l])}(a,b);const I=o.viewQuery;if(null!==I&&Hv(2,I,d),v){const S=o.viewCheckHooks;null!==S&&La(a,S)}else{const S=o.viewHooks;null!==S&&la(a,S,2),Jd(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),a[2]&=-41,512&a[2]&&(a[2]&=-513,Nr(a[3],-1))}finally{ua()}}}function ab(o,a,l,d,h){const m=on(),v=2&d;try{Ns(-1),v&&a.length>22&&fv(o,a,22,!1),l(d,h)}finally{Ns(m)}}function ub(o,a,l){if(ra(a)){const h=a.directiveEnd;for(let m=a.directiveStart;m<h;m++){const v=o.data[m];v.contentQueries&&v.contentQueries(1,l[m],m)}}}function e_(o,a,l){!$d()||(function iD(o,a,l,d){const h=l.directiveStart,m=l.directiveEnd;o.firstCreatePass||da(l,a),yn(d,a);const v=l.initialInputs;for(let b=h;b<m;b++){const I=o.data[b],S=Zi(I);S&&Lv(a,l,I);const R=$a(a,o,b,l);yn(R,a),null!==v&&Uv(0,b-h,R,I,0,v),S&&($n(l.index,a)[8]=R)}}(o,a,l,ei(l,a)),128==(128&l.flags)&&function kv(o,a,l){const d=l.directiveStart,h=l.directiveEnd,m=l.index,v=function aa(){return Mt.lFrame.currentDirectiveIndex}();try{Ns(m);for(let b=d;b<h;b++){const I=o.data[b],S=a[b];nc(b),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&n_(I,S)}}finally{Ns(-1),nc(v)}}(o,a,l))}function Mv(o,a,l=ei){const d=a.localNames;if(null!==d){let h=a.index+1;for(let m=0;m<d.length;m+=2){const v=d[m+1],b=-1===v?l(a,o):o[v];o[h++]=b}}}function lb(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=Qc(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):a}function Qc(o,a,l,d,h,m,v,b,I,S){const R=22+d,k=R+h,$=function cb(o,a){const l=[];for(let d=0;d<a;d++)l.push(d<o?null:Ht);return l}(R,k),J="function"==typeof S?S():S;return $[1]={type:o,blueprint:$,template:l,queries:null,viewQuery:b,declTNode:a,data:$.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:k,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:I,consts:J,incompleteFirstPass:!1}}function hb(o,a,l,d){const h=Kp(a);null===l?h.push(d):(h.push(l),o.firstCreatePass&&Zv(o).push(d,h.length-1))}function fb(o,a,l){for(let d in o)if(o.hasOwnProperty(d)){const h=o[d];(l=null===l?{}:l).hasOwnProperty(d)?l[d].push(a,h):l[d]=[a,h]}return l}function pb(o,a){const d=a.directiveEnd,h=o.data,m=a.attrs,v=[];let b=null,I=null;for(let S=a.directiveStart;S<d;S++){const R=h[S],k=R.inputs,$=null===m||Fw(a)?null:Vv(k,m);v.push($),b=fb(k,S,b),I=fb(R.outputs,S,I)}null!==b&&(b.hasOwnProperty("class")&&(a.flags|=16),b.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=v,a.inputs=b,a.outputs=I}function es(o,a,l,d,h,m,v,b){const I=ei(a,l);let R,S=a.inputs;!b&&null!=S&&(R=S[d])?($v(o,l,R,d,h),Mu(a)&&Nv(l,a.index)):3&a.type&&(d=function gb(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(d),h=null!=v?v(h,a.value||"",d):h,m.setProperty(I,d,h))}function Nv(o,a){const l=$n(a,o);16&l[2]||(l[2]|=32)}function Pv(o,a,l,d){let h=!1;if($d()){const m=function Fv(o,a,l){const d=o.directiveRegistry;let h=null;if(d)for(let m=0;m<d.length;m++){const v=d[m];Lw(l,v.selectors,!1)&&(h||(h=[]),Za(da(l,a),o,v.type),Zi(v)?(r_(o,l),h.unshift(v)):h.push(v))}return h}(o,a,l),v=null===d?null:{"":-1};if(null!==m){h=!0,mb(l,o.data.length,m.length);for(let R=0;R<m.length;R++){const k=m[R];k.providersResolver&&k.providersResolver(k)}let b=!1,I=!1,S=lu(o,a,m.length,null);for(let R=0;R<m.length;R++){const k=m[R];l.mergedAttrs=ca(l.mergedAttrs,k.hostAttrs),zp(o,l,a,S,k),oD(S,k,v),null!==k.contentQueries&&(l.flags|=8),(null!==k.hostBindings||null!==k.hostAttrs||0!==k.hostVars)&&(l.flags|=128);const $=k.type.prototype;!b&&($.ngOnChanges||$.ngOnInit||$.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(l.index),b=!0),!I&&($.ngOnChanges||$.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(l.index),I=!0),S++}pb(o,l)}v&&function sD(o,a,l){if(a){const d=o.localNames=[];for(let h=0;h<a.length;h+=2){const m=l[a[h+1]];if(null==m)throw new Te(-301,!1);d.push(a[h],m)}}}(l,d,v)}return l.mergedAttrs=ca(l.mergedAttrs,l.attrs),h}function t_(o,a,l,d,h,m){const v=m.hostBindings;if(v){let b=o.hostBindingOpCodes;null===b&&(b=o.hostBindingOpCodes=[]);const I=~a.index;(function Ov(o){let a=o.length;for(;a>0;){const l=o[--a];if("number"==typeof l&&l<0)return l}return 0})(b)!=I&&b.push(I),b.push(d,h,v)}}function n_(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function r_(o,a){a.flags|=2,(o.components||(o.components=[])).push(a.index)}function oD(o,a,l){if(l){if(a.exportAs)for(let d=0;d<a.exportAs.length;d++)l[a.exportAs[d]]=o;Zi(a)&&(l[""]=o)}}function mb(o,a,l){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+l,o.providerIndexes=a}function zp(o,a,l,d,h){o.data[d]=h;const m=h.factory||(h.factory=Ss(h.type)),v=new Va(m,Zi(h),Kc);o.blueprint[d]=v,l[d]=v,t_(o,a,0,d,lu(o,l,h.hostVars,Ht),h)}function Lv(o,a,l){const d=ei(a,o),h=lb(l),m=o[10],v=i_(o,Jc(o,h,null,l.onPush?32:16,d,a,m,m.createRenderer(d,l),null,null,null));o[a.index]=v}function Vo(o,a,l,d,h,m){const v=ei(o,a);!function Wp(o,a,l,d,h,m,v){if(null==m)o.removeAttribute(a,h,l);else{const b=null==v?ve(m):v(m,d||"",h);o.setAttribute(a,h,b,l)}}(a[11],v,m,o.value,l,d,h)}function Uv(o,a,l,d,h,m){const v=m[a];if(null!==v){const b=d.setInput;for(let I=0;I<v.length;){const S=v[I++],R=v[I++],k=v[I++];null!==b?d.setInput(l,k,S,R):l[R]=k}}}function Vv(o,a){let l=null,d=0;for(;d<a.length;){const h=a[d];if(0!==h)if(5!==h){if("number"==typeof h)break;o.hasOwnProperty(h)&&(null===l&&(l=[]),l.push(h,o[h],a[d+1])),d+=2}else d+=2;else d+=4}return l}function _b(o,a,l,d){return new Array(o,!0,!1,a,null,0,d,l,null,null)}function vb(o,a){const l=$n(a,o);if(mo(l)){const d=l[1];48&l[2]?Sh(d,l,d.template,l[8]):l[5]>0&&Bv(l)}}function Bv(o){for(let d=rp(o);null!==d;d=Nc(d))for(let h=10;h<d.length;h++){const m=d[h];if(mo(m))if(512&m[2]){const v=m[1];Sh(v,m,v.template,m[8])}else m[5]>0&&Bv(m)}const l=o[1].components;if(null!==l)for(let d=0;d<l.length;d++){const h=$n(l[d],o);mo(h)&&h[5]>0&&Bv(h)}}function uD(o,a){const l=$n(a,o),d=l[1];(function lD(o,a){for(let l=a.length;l<o.blueprint.length;l++)a.push(o.blueprint[l])})(d,l),Ah(d,l,l[8])}function i_(o,a){return o[13]?o[14][4]=a:o[13]=a,o[14]=a,a}function jv(o){for(;o;){o[2]|=32;const a=hl(o);if(ia(o)&&!a)return o;o=a}return null}function s_(o,a,l,d=!0){const h=a[10];h.begin&&h.begin();try{Sh(o,a,o.template,l)}catch(v){throw d&&o_(a,v),v}finally{h.end&&h.end()}}function Hv(o,a,l){Hr(0),a(o,l)}function Kp(o){return o[7]||(o[7]=[])}function Zv(o){return o.cleanup||(o.cleanup=[])}function o_(o,a){const l=o[9],d=l?l.get(Up,null):null;d&&d.handleError(a)}function $v(o,a,l,d,h){for(let m=0;m<l.length;){const v=l[m++],b=l[m++],I=a[v],S=o.data[v];null!==S.setInput?S.setInput(I,h,d,b):I[b]=h}}function cu(o,a,l){const d=xi(a,o);!function Rm(o,a,l){o.setValue(a,l)}(o[11],d,l)}function a_(o,a,l){let d=l?o.styles:null,h=l?o.classes:null,m=0;if(null!==a)for(let v=0;v<a.length;v++){const b=a[v];"number"==typeof b?m=b:1==m?h=pe(h,b):2==m&&(d=pe(d,b+": "+a[++v]+";"))}l?o.styles=d:o.stylesWithoutHost=d,l?o.classes=h:o.classesWithoutHost=h}function Yp(o,a,l,d,h=!1){for(;null!==l;){const m=a[l.index];if(null!==m&&d.push(qn(m)),Xr(m))for(let b=10;b<m.length;b++){const I=m[b],S=I[1].firstChild;null!==S&&Yp(I[1],I,S,d)}const v=l.type;if(8&v)Yp(o,a,l.child,d);else if(32&v){const b=hh(l,a);let I;for(;I=b();)d.push(I)}else if(16&v){const b=kc(a,l);if(Array.isArray(b))d.push(...b);else{const I=hl(a[16]);Yp(I[1],I,b,d,!0)}}l=h?l.projectionNext:l.next}return d}class xh{constructor(a,l){this._lView=a,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,l=a[1];return Yp(l,a,l.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(Xr(a)){const l=a[8],d=l?l.indexOf(this):-1;d>-1&&(ru(a,d),mc(l,d))}this._attachedToViewContainer=!1}gl(this._lView[1],this._lView)}onDestroy(a){hb(this._lView[1],this._lView,null,a)}markForCheck(){jv(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){s_(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Te(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ip(o,a){Lc(o,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Te(902,!1);this._appRef=a}}class Cb extends xh{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;s_(a[1],a,a[8],!1)}checkNoChanges(){}get context(){return null}}class u_ extends Fp{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const l=ue(a);return new l_(l,this.ngModule)}}function Gv(o){const a=[];for(let l in o)o.hasOwnProperty(l)&&a.push({propName:o[l],templateName:l});return a}class cD{constructor(a,l){this.injector=a,this.parentInjector=l}get(a,l,d){const h=this.injector.get(a,ov,d);return h!==ov||l===ov?h:this.parentInjector.get(a,l,d)}}class l_ extends Iw{constructor(a,l){super(),this.componentDef=a,this.ngModule=l,this.componentType=a.type,this.selector=function i1(o){return o.map(Bw).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return Gv(this.componentDef.inputs)}get outputs(){return Gv(this.componentDef.outputs)}create(a,l,d,h){let m=(h=h||this.ngModule)instanceof Gc?h:h?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const v=m?new cD(a,m):a,b=v.get(Dw,null);if(null===b)throw new Te(407,!1);const I=v.get(Mw,null),S=b.createRenderer(null,this.componentDef),R=this.componentDef.selectors[0][0]||"div",k=d?function db(o,a,l){return o.selectRootElement(a,l===Ct.ShadowDom)}(S,d,this.componentDef.encapsulation):pl(S,R,function _1(o){const a=o.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(R)),$=this.componentDef.onPush?288:272,J=Qc(0,null,null,1,0,null,null,null,null,null),be=Jc(null,J,null,$,null,null,b,S,I,v,null);let Ve,We;ka(be);try{const pt=function dD(o,a,l,d,h,m){const v=l[1];l[22]=o;const I=wl(v,22,2,"#host",null),S=I.mergedAttrs=a.hostAttrs;null!==S&&(a_(I,S,!0),null!==o&&($u(h,o,S),null!==I.classes&&_p(h,o,I.classes),null!==I.styles&&mp(h,o,I.styles)));const R=d.createRenderer(o,a),k=Jc(l,lb(a),null,a.onPush?32:16,l[22],I,d,R,m||null,null,null);return v.firstCreatePass&&(Za(da(I,l),v,a.type),r_(v,I),mb(I,l.length,1)),i_(l,k),l[22]=k}(k,this.componentDef,be,b,S);if(k)if(d)$u(S,k,["ng-version",sv.full]);else{const{attrs:Pt,classes:Re}=function s1(o){const a=[],l=[];let d=1,h=2;for(;d<o.length;){let m=o[d];if("string"==typeof m)2===h?""!==m&&a.push(m,o[++d]):8===h&&l.push(m);else{if(!oo(h))break;h=m}d++}return{attrs:a,classes:l}}(this.componentDef.selectors[0]);Pt&&$u(S,k,Pt),Re&&Re.length>0&&_p(S,k,Re.join(" "))}if(We=Na(J,22),void 0!==l){const Pt=We.projection=[];for(let Re=0;Re<this.ngContentSelectors.length;Re++){const It=l[Re];Pt.push(null!=It?Array.from(It):null)}}Ve=function bb(o,a,l,d){const h=l[1],m=function Gp(o,a,l){const d=Fn();o.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),zp(o,d,a,lu(o,a,1,null),l),pb(o,d));const h=$a(a,o,d.directiveStart,d);yn(h,a);const m=ei(d,a);return m&&yn(m,a),h}(h,l,a);if(o[8]=l[8]=m,null!==d)for(const b of d)b(m,a);if(a.contentQueries){const b=Fn();a.contentQueries(1,m,b.directiveStart)}const v=Fn();return!h.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(Ns(v.index),t_(l[1],v,0,v.directiveStart,v.directiveEnd,a),n_(a,m)),m}(pt,this.componentDef,be,[hD]),Ah(J,be,null)}finally{ua()}return new v1(this.componentType,Ve,Eh(We,be),be,We)}}class v1 extends class bI{}{constructor(a,l,d,h,m){super(),this.location=d,this._rootLView=h,this._tNode=m,this.instance=l,this.hostView=this.changeDetectorRef=new Cb(h),this.componentType=a}setInput(a,l){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[a])){const m=this._rootLView;$v(m[1],m,h,a,l),Nv(m,this._tNode.index)}}get injector(){return new ps(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function hD(){const o=Fn();Co(Ae()[1],o)}function Jp(o){let a=function zv(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),l=!0;const d=[o];for(;a;){let h;if(Zi(o))h=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Te(903,!1);h=a.\u0275dir}if(h){if(l){d.push(h);const v=o;v.inputs=Eb(o.inputs),v.declaredInputs=Eb(o.declaredInputs),v.outputs=Eb(o.outputs);const b=h.hostBindings;b&&fD(o,b);const I=h.viewQuery,S=h.contentQueries;if(I&&Wv(o,I),S&&C1(o,S),de(o.inputs,h.inputs),de(o.declaredInputs,h.declaredInputs),de(o.outputs,h.outputs),Zi(h)&&h.data.animation){const R=o.data;R.animation=(R.animation||[]).concat(h.data.animation)}}const m=h.features;if(m)for(let v=0;v<m.length;v++){const b=m[v];b&&b.ngInherit&&b(o),b===Jp&&(l=!1)}}a=Object.getPrototypeOf(a)}!function c_(o){let a=0,l=null;for(let d=o.length-1;d>=0;d--){const h=o[d];h.hostVars=a+=h.hostVars,h.hostAttrs=ca(h.hostAttrs,l=ca(l,h.hostAttrs))}}(d)}function Eb(o){return o===er?{}:o===Dt?[]:o}function Wv(o,a){const l=o.viewQuery;o.viewQuery=l?(d,h)=>{a(d,h),l(d,h)}:a}function C1(o,a){const l=o.contentQueries;o.contentQueries=l?(d,h,m)=>{a(d,h,m),l(d,h,m)}:a}function fD(o,a){const l=o.hostBindings;o.hostBindings=l?(d,h)=>{a(d,h),l(d,h)}:a}let Kv=null;function Nh(){if(!Kv){const o=pn.Symbol;if(o&&o.iterator)Kv=o.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<a.length;++l){const d=a[l];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Kv=d)}}}return Kv}function d_(o){return!!Tb(o)&&(Array.isArray(o)||!(o instanceof Map)&&Nh()in o)}function Tb(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function bi(o,a,l){return!Object.is(o[a],l)&&(o[a]=l,!0)}function bl(o,a,l,d){const h=bi(o,a,l);return bi(o,a+1,d)||h}function h_(o,a,l,d){const h=Ae();return bi(h,xs(),a)&&($t(),Vo(Dn(),h,o,a,l,d)),h_}function ed(o,a,l,d){return bi(o,xs(),l)?a+ve(l)+d:Ht}function $r(o,a,l,d,h,m){const b=bl(o,function jr(){return Mt.lFrame.bindingIndex}(),l,h);return mi(2),b?a+ve(l)+d+ve(h)+m:Ht}function Ab(o,a,l,d,h,m,v,b){const I=Ae(),S=$t(),R=o+22,k=S.firstCreatePass?function mD(o,a,l,d,h,m,v,b,I){const S=a.consts,R=wl(a,o,4,v||null,pi(S,b));Pv(a,l,R,pi(S,I)),Co(a,R);const k=R.tViews=Qc(2,R,d,h,m,a.directiveRegistry,a.pipeRegistry,null,a.schemas,S);return null!==a.queries&&(a.queries.template(a,R),k.queries=a.queries.embeddedTView(R)),R}(R,S,I,a,l,d,h,m,v):S.data[R];gi(k,!1);const $=I[11].createComment("");ml(S,I,$,k),yn($,I),i_(I,I[R]=_b($,I,$,k)),As(k)&&e_(S,I,k),null!=v&&Mv(I,k,b)}function Ei(o){return sa(function Ln(){return Mt.lFrame.contextLView}(),22+o)}function kh(o,a,l){const d=Ae();return bi(d,xs(),a)&&es($t(),Dn(),d,o,a,d[11],l,!1),kh}function Pr(o,a,l,d,h){const v=h?"class":"style";$v(o,l,a.inputs[v],v,d)}function p_(o,a,l,d){const h=Ae(),m=$t(),v=22+o,b=h[11],I=h[v]=pl(b,a,function Hu(){return Mt.lFrame.currentNamespace}()),S=m.firstCreatePass?function Tl(o,a,l,d,h,m,v){const b=a.consts,S=wl(a,o,2,h,pi(b,m));return Pv(a,l,S,pi(b,v)),null!==S.attrs&&a_(S,S.attrs,!1),null!==S.mergedAttrs&&a_(S,S.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,S),S}(v,m,h,0,a,l,d):m.data[v];gi(S,!0);const R=S.mergedAttrs;null!==R&&$u(b,I,R);const k=S.classes;null!==k&&_p(b,I,k);const $=S.styles;return null!==$&&mp(b,I,$),64!=(64&S.flags)&&ml(m,h,I,S),0===function Ra(){return Mt.lFrame.elementDepthCount}()&&yn(I,h),function Zd(){Mt.lFrame.elementDepthCount++}(),As(S)&&(e_(m,h,S),ub(m,S,h)),null!==d&&Mv(h,S),p_}function rg(){let o=Fn();oa()?ec():(o=o.parent,gi(o,!1));const a=o;!function qd(){Mt.lFrame.elementDepthCount--}();const l=$t();return l.firstCreatePass&&(Co(l,o),ra(o)&&l.queries.elementEnd(o)),null!=a.classesWithoutHost&&function Qd(o){return 0!=(16&o.flags)}(a)&&Pr(l,a,Ae(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function Vf(o){return 0!=(32&o.flags)}(a)&&Pr(l,a,Ae(),a.stylesWithoutHost,!1),rg}function ig(o,a,l,d){return p_(o,a,l,d),rg(),ig}function Gr(o,a,l){const d=Ae(),h=$t(),m=o+22,v=h.firstCreatePass?function Sb(o,a,l,d,h){const m=a.consts,v=pi(m,d),b=wl(a,o,8,"ng-container",v);return null!==v&&a_(b,v,!0),Pv(a,l,b,pi(m,h)),null!==a.queries&&a.queries.elementStart(a,b),b}(m,h,d,a,l):h.data[m];gi(v,!0);const b=d[m]=d[11].createComment("");return ml(h,d,b,v),yn(b,d),As(v)&&(e_(h,d,v),ub(h,v,d)),null!=l&&Mv(d,v),Gr}function g_(){let o=Fn();const a=$t();return oa()?ec():(o=o.parent,gi(o,!1)),a.firstCreatePass&&(Co(a,o),ra(o)&&a.queries.elementEnd(o)),g_}function sg(){return Ae()}function lo(o){return!!o&&"function"==typeof o.then}function m_(o){return!!o&&"function"==typeof o.subscribe}const Mb=m_;function Qv(o,a,l,d){const h=Ae(),m=$t(),v=Fn();return function __(o,a,l,d,h,m,v,b){const I=As(d),R=o.firstCreatePass&&Zv(o),k=a[8],$=Kp(a);let J=!0;if(3&d.type||b){const We=ei(d,a),pt=b?b(We):We,Pt=$.length,Re=b?tn=>b(qn(tn[d.index])):d.index;let It=null;if(!b&&I&&(It=function xb(o,a,l,d){const h=o.cleanup;if(null!=h)for(let m=0;m<h.length-1;m+=2){const v=h[m];if(v===l&&h[m+1]===d){const b=a[7],I=h[m+2];return b.length>I?b[I]:null}"string"==typeof v&&(m+=2)}return null}(o,a,h,d.index)),null!==It)(It.__ngLastListenerFn__||It).__ngNextListenerFn__=m,It.__ngLastListenerFn__=m,J=!1;else{m=Nb(d,a,k,m,!1);const tn=l.listen(pt,h,m);$.push(m,tn),R&&R.push(h,Re,Pt,Pt+1)}}else m=Nb(d,a,k,m,!1);const be=d.outputs;let Ve;if(J&&null!==be&&(Ve=be[h])){const We=Ve.length;if(We)for(let pt=0;pt<We;pt+=2){const Kn=a[Ve[pt]][Ve[pt+1]].subscribe(m),Ed=$.length;$.push(m,Kn),R&&R.push(h,d.index,Ed,-(Ed+1))}}}(m,h,h[11],v,o,a,0,d),Qv}function Xv(o,a,l,d){try{return!1!==l(d)}catch(h){return o_(o,h),!1}}function Nb(o,a,l,d,h){return function m(v){if(v===Function)return d;jv(2&o.flags?$n(o.index,a):a);let I=Xv(a,0,d,v),S=m.__ngNextListenerFn__;for(;S;)I=Xv(a,0,S,v)&&I,S=S.__ngNextListenerFn__;return h&&!1===I&&(v.preventDefault(),v.returnValue=!1),I}}function e0(o=1){return function ju(o){return(Mt.lFrame.contextLView=function Im(o,a){for(;o>0;)a=a[15],o--;return a}(o,Mt.lFrame.contextLView))[8]}(o)}function og(o,a,l){return Lh(o,"",a,"",l),og}function Lh(o,a,l,d,h){const m=Ae(),v=ed(m,a,l,d);return v!==Ht&&es($t(),Dn(),m,o,v,m[11],h,!1),Lh}function o0(o,a,l,d,h){const m=o[l+1],v=null===a;let b=d?ao(m):au(m),I=!1;for(;0!==b&&(!1===I||v);){const R=o[b+1];Ub(o[b],a)&&(I=!0,o[b+1]=d?Tv(R):bv(R)),b=d?ao(R):au(R)}I&&(o[l+1]=d?bv(m):Tv(m))}function Ub(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&Ka(o,a)>=0}function Or(o,a){return function Bo(o,a,l,d){const h=Ae(),m=$t(),v=mi(2);m.firstUpdatePass&&function Zb(o,a,l,d){const h=o.data;if(null===h[l+1]){const m=h[on()],v=function f0(o,a){return a>=o.expandoStartIndex}(o,l);(function m0(o,a){return 0!=(o.flags&(a?16:32))})(m,d)&&null===a&&!v&&(a=!1),a=function CD(o,a,l,d){const h=function Pa(o){const a=Mt.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}(o);let m=d?a.residualClasses:a.residualStyles;if(null===h)0===(d?a.classBindings:a.styleBindings)&&(l=Bh(l=cg(null,o,a,l,d),a.attrs,d),m=null);else{const v=a.directiveStylingLast;if(-1===v||o[v]!==h)if(l=cg(h,o,a,l,d),null===m){let I=function wD(o,a,l){const d=l?a.classBindings:a.styleBindings;if(0!==au(d))return o[ao(d)]}(o,a,d);void 0!==I&&Array.isArray(I)&&(I=cg(null,o,a,I[1],d),I=Bh(I,a.attrs,d),function ug(o,a,l,d){o[ao(l?a.classBindings:a.styleBindings)]=d}(o,a,d,I))}else m=function lg(o,a,l){let d;const h=a.directiveEnd;for(let m=1+a.directiveStylingLast;m<h;m++)d=Bh(d,o[m].hostAttrs,l);return Bh(d,a.attrs,l)}(o,a,d)}return void 0!==m&&(d?a.residualClasses=m:a.residualStyles=m),l}(h,m,a,d),function yD(o,a,l,d,h,m){let v=m?a.classBindings:a.styleBindings,b=ao(v),I=au(v);o[d]=l;let R,S=!1;if(Array.isArray(l)){const k=l;R=k[1],(null===R||Ka(k,R)>0)&&(S=!0)}else R=l;if(h)if(0!==I){const $=ao(o[b+1]);o[d+1]=jp($,b),0!==$&&(o[$+1]=eb(o[$+1],d)),o[b+1]=function zI(o,a){return 131071&o|a<<17}(o[b+1],d)}else o[d+1]=jp(b,0),0!==b&&(o[b+1]=eb(o[b+1],d)),b=d;else o[d+1]=jp(I,0),0===b?b=d:o[I+1]=eb(o[I+1],d),I=d;S&&(o[d+1]=bv(o[d+1])),o0(o,R,d,!0),o0(o,R,d,!1),function Lb(o,a,l,d,h){const m=h?o.residualClasses:o.residualStyles;null!=m&&"string"==typeof a&&Ka(m,a)>=0&&(l[d+1]=Tv(l[d+1]))}(a,R,o,d,m),v=jp(b,I),m?a.classBindings=v:a.styleBindings=v}(h,m,a,l,v,d)}}(m,o,v,d),a!==Ht&&bi(h,v,a)&&function E_(o,a,l,d,h,m,v,b){if(!(3&a.type))return;const I=o.data,S=I[b+1];T_(function Ev(o){return 1==(1&o)}(S)?g0(I,a,l,h,au(S),v):void 0)||(T_(m)||function wv(o){return 2==(2&o)}(S)&&(m=g0(I,null,l,h,b,v)),function gp(o,a,l,d,h){if(a)h?o.addClass(l,d):o.removeClass(l,d);else{let m=-1===d.indexOf("-")?void 0:Ki.DashCase;null==h?o.removeStyle(l,d,m):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),m|=Ki.Important),o.setStyle(l,d,h,m))}}(d,v,xi(on(),l),h,m))}(m,m.data[on()],h,h[11],o,h[v+1]=function hg(o,a){return null==o||("string"==typeof a?o+=a:"object"==typeof o&&(o=we(ii(o)))),o}(a,l),d,v)}(o,a,null,!0),Or}function cg(o,a,l,d,h){let m=null;const v=l.directiveEnd;let b=l.directiveStylingLast;for(-1===b?b=l.directiveStart:b++;b<v&&(m=a[b],d=Bh(d,m.hostAttrs,h),m!==o);)b++;return null!==o&&(l.directiveStylingLast=b),d}function Bh(o,a,l){const d=l?1:2;let h=-1;if(null!==a)for(let m=0;m<a.length;m++){const v=a[m];"number"==typeof v?h=v:h===d&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),_i(o,v,!!l||a[++m]))}return void 0===o?null:o}function g0(o,a,l,d,h,m){const v=null===a;let b;for(;h>0;){const I=o[h],S=Array.isArray(I),R=S?I[1]:I,k=null===R;let $=l[h+1];$===Ht&&($=k?Dt:void 0);let J=k?tl($,d):R===d?$:void 0;if(S&&!T_(J)&&(J=tl(I,d)),T_(J)&&(b=J,v))return b;const be=o[h+1];h=v?ao(be):au(be)}if(null!==a){let I=m?a.residualClasses:a.residualStyles;null!=I&&(b=tl(I,d))}return b}function T_(o){return void 0!==o}function _0(o,a=""){const l=Ae(),d=$t(),h=o+22,m=d.firstCreatePass?wl(d,h,1,a,null):d.data[h],v=l[h]=function Rc(o,a){return o.createText(a)}(l[11],a);ml(d,l,v,m),gi(m,!1)}function I_(o){return id("",o,""),I_}function id(o,a,l){const d=Ae(),h=ed(d,o,a,l);return h!==Ht&&cu(d,on(),h),id}function y0(o,a,l,d,h){const m=Ae(),v=$r(m,o,a,l,d,h);return v!==Ht&&cu(m,on(),v),y0}const Ho=void 0;var S0=["en",[["a","p"],["AM","PM"],Ho],[["AM","PM"],Ho,Ho],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ho,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ho,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ho,"{1} 'at' {0}",Ho],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function od(o){const l=Math.floor(Math.abs(o)),d=o.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===d?1:5}];let Hh={};function x_(o){const a=function N_(o){return o.toLowerCase().replace(/_/g,"-")}(o);let l=Dl(a);if(l)return l;const d=a.split("-")[0];if(l=Dl(d),l)return l;if("en"===d)return S0;throw new Te(701,!1)}function nE(o){return x_(o)[xt.PluralCase]}function Dl(o){return o in Hh||(Hh[o]=pn.ng&&pn.ng.common&&pn.ng.common.locales&&pn.ng.common.locales[o]),Hh[o]}var xt=(()=>((xt=xt||{})[xt.LocaleId=0]="LocaleId",xt[xt.DayPeriodsFormat=1]="DayPeriodsFormat",xt[xt.DayPeriodsStandalone=2]="DayPeriodsStandalone",xt[xt.DaysFormat=3]="DaysFormat",xt[xt.DaysStandalone=4]="DaysStandalone",xt[xt.MonthsFormat=5]="MonthsFormat",xt[xt.MonthsStandalone=6]="MonthsStandalone",xt[xt.Eras=7]="Eras",xt[xt.FirstDayOfWeek=8]="FirstDayOfWeek",xt[xt.WeekendRange=9]="WeekendRange",xt[xt.DateFormat=10]="DateFormat",xt[xt.TimeFormat=11]="TimeFormat",xt[xt.DateTimeFormat=12]="DateTimeFormat",xt[xt.NumberSymbols=13]="NumberSymbols",xt[xt.NumberFormats=14]="NumberFormats",xt[xt.CurrencyCode=15]="CurrencyCode",xt[xt.CurrencySymbol=16]="CurrencySymbol",xt[xt.CurrencyName=17]="CurrencyName",xt[xt.Currencies=18]="Currencies",xt[xt.Directionality=19]="Directionality",xt[xt.PluralCase=20]="PluralCase",xt[xt.ExtraData=21]="ExtraData",xt))();const hu="en-US";let iE=hu;function Pg(o,a,l,d,h){if(o=z(o),Array.isArray(o))for(let m=0;m<o.length;m++)Pg(o[m],a,l,d,h);else{const m=$t(),v=Ae();let b=$c(o)?o:z(o.provide),I=Pp(o);const S=Fn(),R=1048575&S.providerIndexes,k=S.directiveStart,$=S.providerIndexes>>20;if($c(o)||!o.multi){const J=new Va(I,h,Kc),be=vs(b,a,h?R:R+$,k);-1===be?(Za(da(S,v),m,b),B_(m,o,a.length),a.push(b),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),l.push(J),v.push(J)):(l[be]=J,v[be]=J)}else{const J=vs(b,a,R+$,k),be=vs(b,a,R,R+$),Ve=J>=0&&l[J],We=be>=0&&l[be];if(h&&!We||!h&&!Ve){Za(da(S,v),m,b);const pt=function Og(o,a,l,d,h){const m=new Va(o,l,Kc);return m.multi=[],m.index=a,m.componentProviders=0,Ta(m,h,d&&!l),m}(h?j_:Ti,l.length,h,d,I);!h&&We&&(l[be].providerFactory=pt),B_(m,o,a.length,0),a.push(b),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),l.push(pt),v.push(pt)}else B_(m,o,J>-1?J:be,Ta(l[h?be:J],I,!h&&d));!h&&d&&We&&l[be].componentProviders++}}}function B_(o,a,l,d){const h=$c(a),m=function tv(o){return!!o.useClass}(a);if(h||m){const I=(m?z(a.useClass):a).prototype.ngOnDestroy;if(I){const S=o.destroyHooks||(o.destroyHooks=[]);if(!h&&a.multi){const R=S.indexOf(l);-1===R?S.push(l,[d,I]):S[R+1].push(d,I)}else S.push(l,I)}}}function Ta(o,a,l){return l&&o.componentProviders++,o.multi.push(a)-1}function vs(o,a,l,d){for(let h=l;h<d;h++)if(a[h]===o)return h;return-1}function Ti(o,a,l,d){return Jh(this.multi,[])}function j_(o,a,l,d){const h=this.multi;let m;if(this.providerFactory){const v=this.providerFactory.componentProviders,b=$a(l,l[1],this.providerFactory.index,d);m=b.slice(0,v),Jh(h,m);for(let I=v;I<b.length;I++)m.push(b[I])}else m=[],Jh(h,m);return m}function Jh(o,a){for(let l=0;l<o.length;l++)a.push((0,o[l])());return a}function kg(o,a=[]){return l=>{l.providersResolver=(d,h)=>function Yh(o,a,l){const d=$t();if(d.firstCreatePass){const h=Zi(o);Pg(l,d.data,d.blueprint,h,!0),Pg(a,d.data,d.blueprint,h,!1)}}(d,h?h(o):o,a)}}class ud{}class ld{}function kD(o,a){return new H_(o,a??null)}class H_ extends ud{constructor(a,l){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new u_(this);const d=Ft(a);this._bootstrapComponents=ou(d.bootstrap),this._r3Injector=Gw(a,l,[{provide:ud,useValue:this},{provide:Fp,useValue:this.componentFactoryResolver}],we(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class j0 extends ld{constructor(a){super(),this.moduleType=a}create(a){return new H_(this.moduleType,a)}}class FD extends ud{constructor(a,l,d){super(),this.componentFactoryResolver=new u_(this),this.instance=null;const h=new Cw([...a,{provide:ud,useValue:this},{provide:Fp,useValue:this.componentFactoryResolver}],l||Hm(),d,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function Z_(o,a,l=null){return new FD(o,a,l).injector}let LD=(()=>{class o{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l.id)){const d=_w(0,l.type),h=d.length>0?Z_([d],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l.id,h)}return this.cachedInjectors.get(l.id)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}}return o.\u0275prov=ge({token:o,providedIn:"environment",factory:()=>new o(Vn(Gc))}),o})();function Fg(o){o.getStandaloneInjector=a=>a.get(LD).getOrCreateStandaloneInjector(o)}function G0(o,a,l,d,h,m,v){const b=a+l;return bl(o,b,h,m)?function du(o,a,l){return o[a]=l}(o,b+2,v?d.call(v,h,m):d(h,m)):function q_(o,a){const l=o[a];return l===Ht?void 0:l}(o,b+2)}function zn(o,a){const l=$t();let d;const h=o+22;l.firstCreatePass?(d=function bt(o,a){if(a)for(let l=a.length-1;l>=0;l--){const d=a[l];if(o===d.name)return d}}(a,l.pipeRegistry),l.data[h]=d,d.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(h,d.onDestroy)):d=l.data[h];const m=d.factory||(d.factory=Ss(d.type)),v=Jr(Kc);try{const b=Ps(!1),I=m();return Ps(b),function _D(o,a,l,d){l>=o.data.length&&(o.data[l]=null,o.blueprint[l]=null),a[l]=d}(l,Ae(),h,I),I}finally{Jr(v)}}function xE(o,a,l,d){const h=o+22,m=Ae(),v=sa(m,h);return function hd(o,a){return o[1].data[a].pure}(m,h)?G0(m,function Br(){const o=Mt.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}(),a,v.transform,l,d,v):v.transform(l,d)}function W0(o){return a=>{setTimeout(o,void 0,a)}}const Bs=class fd extends s.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,l,d){let h=a,m=l||(()=>null),v=d;if(a&&"object"==typeof a){const I=a;h=I.next?.bind(I),m=I.error?.bind(I),v=I.complete?.bind(I)}this.__isAsync&&(m=W0(m),h&&(h=W0(h)),v&&(v=W0(v)));const b=super.subscribe({next:h,error:m,complete:v});return a instanceof ee.w0&&a.add(b),b}};function $D(){return this._results[Nh()]()}class pd{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=Nh(),d=pd.prototype;d[l]||(d[l]=$D)}get changes(){return this._changes||(this._changes=new Bs)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,l){return this._results.reduce(a,l)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,l){const d=this;d.dirty=!1;const h=Jn(a);(this._changesDetected=!function Kf(o,a,l){if(o.length!==a.length)return!1;for(let d=0;d<o.length;d++){let h=o[d],m=a[d];if(l&&(h=l(h),m=l(m)),m!==h)return!1}return!0}(d._results,h,l))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Xh=(()=>{class o{}return o.__NG_ELEMENT_ID__=K0,o})();const NE=Xh,js=class extends NE{constructor(a,l,d){super(),this._declarationLView=a,this._declarationTContainer=l,this.elementRef=d}createEmbeddedView(a,l){const d=this._declarationTContainer.tViews,h=Jc(this._declarationLView,d,a,16,null,d.declTNode,null,null,null,null,l||null);h[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(h[19]=v.createEmbeddedView(d)),Ah(d,h,a),new xh(h)}};function K0(){return Lg(Fn(),Ae())}function Lg(o,a){return 4&o.type?new js(a,o,Eh(o,a)):null}let Ug=(()=>{class o{}return o.__NG_ELEMENT_ID__=Nl,o})();function Nl(){return RE(Fn(),Ae())}const Y0=Ug,se=class extends Y0{constructor(a,l,d){super(),this._lContainer=a,this._hostTNode=l,this._hostLView=d}get element(){return Eh(this._hostTNode,this._hostLView)}get injector(){return new ps(this._hostTNode,this._hostLView)}get parentInjector(){const a=Eo(this._hostTNode,this._hostLView);if(lc(a)){const l=ds(a,this._hostLView),d=Ba(a);return new ps(l[1].data[d+8],l)}return new ps(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const l=Vg(this._lContainer);return null!==l&&l[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,l,d){let h,m;"number"==typeof d?h=d:null!=d&&(h=d.index,m=d.injector);const v=a.createEmbeddedView(l||{},m);return this.insert(v,h),v}createComponent(a,l,d,h,m){const v=a&&!function Ri(o){return"function"==typeof o}(a);let b;if(v)b=l;else{const k=l||{};b=k.index,d=k.injector,h=k.projectableNodes,m=k.environmentInjector||k.ngModuleRef}const I=v?a:new l_(ue(a)),S=d||this.parentInjector;if(!m&&null==I.ngModule){const $=(v?S:this.parentInjector).get(Gc,null);$&&(m=$)}const R=I.create(S,h,void 0,m);return this.insert(R.hostView,b),R}insert(a,l){const d=a._lView,h=d[1];if(function Ql(o){return Xr(o[3])}(d)){const R=this.indexOf(a);if(-1!==R)this.detach(R);else{const k=d[3],$=new se(k,k[6],k[3]);$.detach($.indexOf(a))}}const m=this._adjustIndex(l),v=this._lContainer;!function sp(o,a,l,d){const h=10+d,m=l.length;d>0&&(l[h-1][4]=a),d<m-10?(a[4]=l[h],gc(l,10+d,a)):(l.push(a),a[4]=null),a[3]=l;const v=a[17];null!==v&&l!==v&&function qy(o,a){const l=o[9];a[16]!==a[3][3][16]&&(o[2]=!0),null===l?o[9]=[a]:l.push(a)}(v,a);const b=a[19];null!==b&&b.insertView(o),a[2]|=64}(h,d,v,m);const b=Fc(m,v),I=d[11],S=va(I,v[7]);return null!==S&&function Fo(o,a,l,d,h,m){d[0]=h,d[6]=a,Lc(o,d,l,1,h,m)}(h,v[6],I,d,S,b),a.attachToViewContainerRef(),gc(Hs(v),m,a),a}move(a,l){return this.insert(a,l)}indexOf(a){const l=Vg(this._lContainer);return null!==l?l.indexOf(a):-1}remove(a){const l=this._adjustIndex(a,-1),d=ru(this._lContainer,l);d&&(mc(Hs(this._lContainer),l),gl(d[1],d))}detach(a){const l=this._adjustIndex(a,-1),d=ru(this._lContainer,l);return d&&null!=mc(Hs(this._lContainer),l)?new xh(d):null}_adjustIndex(a,l=0){return a??this.length+l}};function Vg(o){return o[8]}function Hs(o){return o[8]||(o[8]=[])}function RE(o,a){let l;const d=a[o.index];if(Xr(d))l=d;else{let h;if(8&o.type)h=qn(d);else{const m=a[11];h=m.createComment("");const v=ei(o,a);Lo(m,va(m,v),h,function Gy(o,a){return o.nextSibling(a)}(m,v),!1)}a[o.index]=l=_b(d,a,h,o),i_(a,l)}return new se(l,o,a)}class pu{constructor(a){this.queryList=a,this.matches=null}clone(){return new pu(this.queryList)}setDirty(){this.queryList.setDirty()}}class z_{constructor(a=[]){this.queries=a}createEmbeddedView(a){const l=a.queries;if(null!==l){const d=null!==a.contentQueries?a.contentQueries[0]:l.length,h=[];for(let m=0;m<d;m++){const v=l.getByIndex(m);h.push(this.queries[v.indexInDeclarationView].clone())}return new z_(h)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let l=0;l<this.queries.length;l++)null!==LE(a,l).matches&&this.queries[l].setDirty()}}class W_{constructor(a,l,d=null){this.predicate=a,this.flags=l,this.read=d}}class J0{constructor(a=[]){this.queries=a}elementStart(a,l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(a,l)}elementEnd(a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(a)}embeddedTView(a){let l=null;for(let d=0;d<this.length;d++){const h=null!==l?l.length:0,m=this.getByIndex(d).embeddedTView(a,h);m&&(m.indexInDeclarationView=d,null!==l?l.push(m):l=[m])}return null!==l?new J0(l):null}template(a,l){for(let d=0;d<this.queries.length;d++)this.queries[d].template(a,l)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class Q0{constructor(a,l=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(a,l){this.isApplyingToNode(l)&&this.matchTNode(a,l)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,l){this.elementStart(a,l)}embeddedTView(a,l){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,l),new Q0(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let d=a.parent;for(;null!==d&&8&d.type&&d.index!==l;)d=d.parent;return l===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(a,l){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const m=d[h];this.matchTNodeWithReadOption(a,l,Zs(l,m)),this.matchTNodeWithReadOption(a,l,fs(l,a,m,!1,!1))}else d===Xh?4&l.type&&this.matchTNodeWithReadOption(a,l,-1):this.matchTNodeWithReadOption(a,l,fs(l,a,d,!1,!1))}matchTNodeWithReadOption(a,l,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===Lp||h===Ug||h===Xh&&4&l.type)this.addMatch(l.index,-2);else{const m=fs(l,a,h,!1,!1);null!==m&&this.addMatch(l.index,m)}else this.addMatch(l.index,d)}}addMatch(a,l){null===this.matches?this.matches=[a,l]:this.matches.push(a,l)}}function Zs(o,a){const l=o.localNames;if(null!==l)for(let d=0;d<l.length;d+=2)if(l[d]===a)return l[d+1];return null}function Hg(o,a,l,d){return-1===l?function jg(o,a){return 11&o.type?Eh(o,a):4&o.type?Lg(o,a):null}(a,o):-2===l?function PE(o,a,l){return l===Lp?Eh(a,o):l===Xh?Lg(a,o):l===Ug?RE(a,o):void 0}(o,a,d):$a(o,o[1],l,a)}function Ii(o,a,l,d){const h=a[19].queries[d];if(null===h.matches){const m=o.data,v=l.matches,b=[];for(let I=0;I<v.length;I+=2){const S=v[I];b.push(S<0?null:Hg(a,m[S],v[I+1],l.metadata.read))}h.matches=b}return h.matches}function X0(o,a,l,d){const h=o.queries.getByIndex(l),m=h.matches;if(null!==m){const v=Ii(o,a,h,l);for(let b=0;b<m.length;b+=2){const I=m[b];if(I>0)d.push(v[b/2]);else{const S=m[b+1],R=a[-I];for(let k=10;k<R.length;k++){const $=R[k];$[17]===$[3]&&X0($[1],$,S,d)}if(null!==R[9]){const k=R[9];for(let $=0;$<k.length;$++){const J=k[$];X0(J[1],J,S,d)}}}}}return d}function eC(o){const a=Ae(),l=$t(),d=Bu();Hr(d+1);const h=LE(l,d);if(o.dirty&&function Em(o){return 4==(4&o[2])}(a)===(2==(2&h.metadata.flags))){if(null===h.matches)o.reset([]);else{const m=h.crossesNgTemplate?X0(l,a,d,[]):Ii(l,a,h,d);o.reset(m,DI),o.notifyOnChanges()}return!0}return!1}function tC(o,a,l,d){const h=$t();if(h.firstCreatePass){const m=Fn();(function FE(o,a,l){null===o.queries&&(o.queries=new J0),o.queries.track(new Q0(a,l))})(h,new W_(a,l,d),m.index),function GD(o,a){const l=o.contentQueries||(o.contentQueries=[]);a!==(l.length?l[l.length-1]:-1)&&l.push(o.queries.length-1,a)}(h,o),2==(2&l)&&(h.staticContentQueries=!0)}!function kE(o,a,l){const d=new pd(4==(4&l));hb(o,a,d,d.destroy),null===a[19]&&(a[19]=new z_),a[19].queries.push(new pu(d))}(h,Ae(),l)}function Zg(){return function OE(o,a){return o[19].queries[a].queryList}(Ae(),Bu())}function LE(o,a){return o.queries.getByIndex(a)}function UE(o,a){return Lg(o,a)}function Wg(...o){}const dC=new fn("Application Initializer");let xn=(()=>{class o{constructor(l){this.appInits=l,this.resolve=Wg,this.reject=Wg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const l=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const m=this.appInits[h]();if(lo(m))l.push(m);else if(Mb(m)){const v=new Promise((b,I)=>{m.subscribe({complete:b,error:I})});l.push(v)}}Promise.all(l).then(()=>{d()}).catch(h=>{this.reject(h)}),0===l.length&&d(),this.initialized=!0}}return o.\u0275fac=function(l){return new(l||o)(Vn(dC,8))},o.\u0275prov=ge({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const Cu=new fn("AppId",{providedIn:"root",factory:function hC(){return`${Ol()}${Ol()}${Ol()}`}});function Ol(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ZE=new fn("Platform Initializer"),qE=new fn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),en=new fn("appBootstrapListener");let fC=(()=>{class o{log(l){console.log(l)}warn(l){console.warn(l)}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=ge({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const Yg=new fn("LocaleId",{providedIn:"root",factory:()=>eo(Yg,ht.Optional|ht.SkipSelf)||function pC(){return typeof $localize<"u"&&$localize.locale||hu}()}),gC=new fn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class uA{constructor(a,l){this.ngModuleFactory=a,this.componentFactories=l}}let lA=(()=>{class o{compileModuleSync(l){return new j0(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const d=this.compileModuleSync(l),m=ou(Ft(l).declarations).reduce((v,b)=>{const I=ue(b);return I&&v.push(new l_(I)),v},[]);return new uA(d,m)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=ge({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const _C=(()=>Promise.resolve(0))();function wu(o){typeof Zone>"u"?_C.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class rs{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Bs(!1),this.onMicrotaskEmpty=new Bs(!1),this.onStable=new Bs(!1),this.onError=new Bs(!1),typeof Zone>"u")throw new Te(908,!1);Zone.assertZonePatched();const h=this;if(h._nesting=0,h._outer=h._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const m=Zone.AsyncStackTaggingZoneSpec;h._inner=h._inner.fork(new m("Angular"))}Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&l,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function Jg(){let o=pn.requestAnimationFrame,a=pn.cancelAnimationFrame;if(typeof Zone<"u"&&o&&a){const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function bu(o){const a=()=>{!function GE(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(pn,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,ry(o),o.isCheckStableRunning=!0,ny(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),ry(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,d,h,m,v,b)=>{try{return yd(o),l.invokeTask(h,m,v,b)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||o.shouldCoalesceRunChangeDetection)&&a(),yC(o)}},onInvoke:(l,d,h,m,v,b,I)=>{try{return yd(o),l.invoke(h,m,v,b,I)}finally{o.shouldCoalesceRunChangeDetection&&a(),yC(o)}},onHasTask:(l,d,h,m)=>{l.hasTask(h,m),d===h&&("microTask"==m.change?(o._hasPendingMicrotasks=m.microTask,ry(o),ny(o)):"macroTask"==m.change&&(o.hasPendingMacrotasks=m.macroTask))},onHandleError:(l,d,h,m)=>(l.handleError(h,m),o.runOutsideAngular(()=>o.onError.emit(m)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!rs.isInAngularZone())throw new Te(909,!1)}static assertNotInAngularZone(){if(rs.isInAngularZone())throw new Te(909,!1)}run(a,l,d){return this._inner.run(a,l,d)}runTask(a,l,d,h){const m=this._inner,v=m.scheduleEventTask("NgZoneEvent: "+h,a,ty,Wg,Wg);try{return m.runTask(v,l,d)}finally{m.cancelTask(v)}}runGuarded(a,l,d){return this._inner.runGuarded(a,l,d)}runOutsideAngular(a){return this._outer.run(a)}}const ty={};function ny(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function ry(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function yd(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function yC(o){o._nesting--,ny(o)}class vC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Bs,this.onMicrotaskEmpty=new Bs,this.onStable=new Bs,this.onError=new Bs}run(a,l,d){return a.apply(l,d)}runGuarded(a,l,d){return a.apply(l,d)}runOutsideAngular(a){return a()}runTask(a,l,d,h){return a.apply(l,d)}}const Qg=new fn(""),iy=new fn("");let rf,vd=(()=>{class o{constructor(l,d,h){this._ngZone=l,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,rf||(function CC(o){rf=o}(h),h.addToWindow(d)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{rs.assertNotInAngularZone(),wu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())wu(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(l)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,d,h){let m=-1;d&&d>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==m),l(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:l,timeoutId:m,updateCb:h})}whenStable(l,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,d,h){return[]}}return o.\u0275fac=function(l){return new(l||o)(Vn(rs),Vn(Li),Vn(iy))},o.\u0275prov=ge({token:o,factory:o.\u0275fac}),o})(),Li=(()=>{class o{constructor(){this._applications=new Map}registerApplication(l,d){this._applications.set(l,d)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,d=!0){return rf?.findTestabilityInTree(this,l,d)??null}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=ge({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})(),co=null;const wC=new fn("AllowMultipleToken"),Xg=new fn("PlatformDestroyListeners");class Eu{constructor(a,l){this.name=a,this.token=l}}function EC(o,a,l=[]){const d=`Platform: ${a}`,h=new fn(d);return(m=[])=>{let v=IC();if(!v||v.injector.get(wC,!1)){const b=[...l,...m,{provide:h,useValue:!0}];o?o(b):function gA(o){if(co&&!co.get(wC,!1))throw new Te(400,!1);co=o;const a=o.get(WE);(function bC(o){const a=o.get(ZE,null);a&&a.forEach(l=>l())})(o)}(function TC(o=[],a){return Wc.create({name:a,providers:[{provide:Bm,useValue:"platform"},{provide:Xg,useValue:new Set([()=>co=null])},...o]})}(b,d))}return function Da(o){const a=IC();if(!a)throw new Te(401,!1);return a}()}}function IC(){return co?.get(WE)??null}let WE=(()=>{class o{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,d){const h=function KE(o,a){let l;return l="noop"===o?new vC:("zone.js"===o?void 0:o)||new rs(a),l}(d?.ngZone,function zt(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!o||!o.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!o||!o.ngZoneRunCoalescing)||!1}}(d)),m=[{provide:rs,useValue:h}];return h.run(()=>{const v=Wc.create({providers:m,parent:this.injector,name:l.moduleType.name}),b=l.create(v),I=b.injector.get(Up,null);if(!I)throw new Te(402,!1);return h.runOutsideAngular(()=>{const S=h.onError.subscribe({next:R=>{I.handleError(R)}});b.onDestroy(()=>{tm(this._modules,b),S.unsubscribe()})}),function ay(o,a,l){try{const d=l();return lo(d)?d.catch(h=>{throw a.runOutsideAngular(()=>o.handleError(h)),h}):d}catch(d){throw a.runOutsideAngular(()=>o.handleError(d)),d}}(I,h,()=>{const S=b.injector.get(xn);return S.runInitializers(),S.donePromise.then(()=>(function sE(o){re(o,"Expected localeId to be defined"),"string"==typeof o&&(iE=o.toLowerCase().replace(/_/g,"-"))}(b.injector.get(Yg,hu)||hu),this._moduleDoBootstrap(b),b))})})}bootstrapModule(l,d=[]){const h=DC({},d);return function zE(o,a,l){const d=new j0(l);return Promise.resolve(d)}(0,0,l).then(m=>this.bootstrapModuleFactory(m,h))}_moduleDoBootstrap(l){const d=l.injector.get(em);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!l.instance.ngDoBootstrap)throw new Te(403,!1);l.instance.ngDoBootstrap(d)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Te(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const l=this._injector.get(Xg,null);l&&(l.forEach(d=>d()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(l){return new(l||o)(Vn(Wc))},o.\u0275prov=ge({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function DC(o,a){return Array.isArray(a)?a.reduce(DC,o):{...o,...a}}let em=(()=>{class o{constructor(l,d,h){this._zone=l,this._injector=d,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new O.y(b=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{b.next(this._stable),b.complete()})}),v=new O.y(b=>{let I;this._zone.runOutsideAngular(()=>{I=this._zone.onStable.subscribe(()=>{rs.assertNotInAngularZone(),wu(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,b.next(!0))})})});const S=this._zone.onUnstable.subscribe(()=>{rs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{b.next(!1)}))});return()=>{I.unsubscribe(),S.unsubscribe()}});this.isStable=(0,ae.T)(m,v.pipe((0,oe.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,d){const h=l instanceof Iw;if(!this._injector.get(xn).done)throw!h&&St(l),new Te(405,false);let v;v=h?l:this._injector.get(Fp).resolveComponentFactory(l),this.componentTypes.push(v.componentType);const b=function pA(o){return o.isBoundToModule}(v)?void 0:this._injector.get(ud),S=v.create(Wc.NULL,[],d||v.selector,b),R=S.location.nativeElement,k=S.injector.get(Qg,null);return k?.registerApplication(R),S.onDestroy(()=>{this.detachView(S.hostView),tm(this.components,S),k?.unregisterApplication(R)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new Te(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const d=l;this._views.push(d),d.attachToAppRef(this)}detachView(l){const d=l;tm(this._views,d),d.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(en,[]).concat(this._bootstrapListeners).forEach(h=>h(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>tm(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new Te(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(l){return new(l||o)(Vn(rs),Vn(Gc),Vn(Up))},o.\u0275prov=ge({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function tm(o,a){const l=o.indexOf(a);l>-1&&o.splice(l,1)}let YE=!0,AC=!1;function sf(){return AC=!0,YE}function Cd(){if(AC)throw new Error("Cannot enable prod mode after platform setup.");YE=!1}let uf=(()=>{class o{}return o.__NG_ELEMENT_ID__=JE,o})();function JE(o){return function QE(o,a,l){if(Mu(o)&&!l){const d=$n(o.index,a);return new xh(d,d)}return 47&o.type?new xh(a[16],a):null}(Fn(),Ae(),16==(16&o))}class iT{constructor(){}supports(a){return d_(a)}create(a){return new un(a)}}const Lr=(o,a)=>a;class un{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||Lr}forEachItem(a){let l;for(l=this._itHead;null!==l;l=l._next)a(l)}forEachOperation(a){let l=this._itHead,d=this._removalsHead,h=0,m=null;for(;l||d;){const v=!d||l&&l.currentIndex<sm(d,h,m)?l:d,b=sm(v,h,m),I=v.currentIndex;if(v===d)h--,d=d._nextRemoved;else if(l=l._next,null==v.previousIndex)h++;else{m||(m=[]);const S=b-h,R=I-h;if(S!=R){for(let $=0;$<S;$++){const J=$<m.length?m[$]:m[$]=0,be=J+$;R<=be&&be<S&&(m[$]=J+1)}m[v.previousIndex]=R-S}}b!==I&&a(v,b,I)}}forEachPreviousItem(a){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachMovedItem(a){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}forEachIdentityChange(a){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)a(l)}diff(a){if(null==a&&(a=[]),!d_(a))throw new Te(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let h,m,v,l=this._itHead,d=!1;if(Array.isArray(a)){this.length=a.length;for(let b=0;b<this.length;b++)m=a[b],v=this._trackByFn(b,m),null!==l&&Object.is(l.trackById,v)?(d&&(l=this._verifyReinsertion(l,m,v,b)),Object.is(l.item,m)||this._addIdentityChange(l,m)):(l=this._mismatch(l,m,v,b),d=!0),l=l._next}else h=0,function T1(o,a){if(Array.isArray(o))for(let l=0;l<o.length;l++)a(o[l]);else{const l=o[Nh()]();let d;for(;!(d=l.next()).done;)a(d.value)}}(a,b=>{v=this._trackByFn(h,b),null!==l&&Object.is(l.trackById,v)?(d&&(l=this._verifyReinsertion(l,b,v,h)),Object.is(l.item,b)||this._addIdentityChange(l,b)):(l=this._mismatch(l,b,v,h),d=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,l,d,h){let m;return null===a?m=this._itTail:(m=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._reinsertAfter(a,m,h)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._moveAfter(a,m,h)):a=this._addAfter(new sT(l,d),m,h),a}_verifyReinsertion(a,l,d,h){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==m?a=this._reinsertAfter(m,a._prev,h):a.currentIndex!=h&&(a.currentIndex=h,this._addToMoves(a,h)),a}_truncate(a){for(;null!==a;){const l=a._next;this._addToRemovals(this._unlink(a)),a=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,l,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const h=a._prevRemoved,m=a._nextRemoved;return null===h?this._removalsHead=m:h._nextRemoved=m,null===m?this._removalsTail=h:m._prevRemoved=h,this._insertAfter(a,l,d),this._addToMoves(a,d),a}_moveAfter(a,l,d){return this._unlink(a),this._insertAfter(a,l,d),this._addToMoves(a,d),a}_addAfter(a,l,d){return this._insertAfter(a,l,d),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,l,d){const h=null===l?this._itHead:l._next;return a._next=h,a._prev=l,null===h?this._itTail=a:h._prev=a,null===l?this._itHead=a:l._next=a,null===this._linkedRecords&&(this._linkedRecords=new hy),this._linkedRecords.put(a),a.currentIndex=d,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const l=a._prev,d=a._next;return null===l?this._itHead=d:l._next=d,null===d?this._itTail=l:d._prev=l,a}_addToMoves(a,l){return a.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new hy),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,l){return a.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class sT{constructor(a,l){this.item=a,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class oT{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,l){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===l||l<=d.currentIndex)&&Object.is(d.trackById,a))return d;return null}remove(a){const l=a._prevDup,d=a._nextDup;return null===l?this._head=d:l._nextDup=d,null===d?this._tail=l:d._prevDup=l,null===this._head}}class hy{constructor(){this.map=new Map}put(a){const l=a.trackById;let d=this.map.get(l);d||(d=new oT,this.map.set(l,d)),d.add(a)}get(a,l){const h=this.map.get(a);return h?h.get(a,l):null}remove(a){const l=a.trackById;return this.map.get(l).remove(a)&&this.map.delete(l),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function sm(o,a,l){const d=o.previousIndex;if(null===d)return d;let h=0;return l&&d<l.length&&(h=l[d]),d+a+h}class xC{constructor(){}supports(a){return a instanceof Map||Tb(a)}create(){return new vA}}class vA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let l;for(l=this._mapHead;null!==l;l=l._next)a(l)}forEachPreviousItem(a){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)a(l)}forEachChangedItem(a){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}diff(a){if(a){if(!(a instanceof Map||Tb(a)))throw new Te(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(a,(d,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,d),this._appendAfter=l,l=l._next;else{const m=this._getOrCreateRecordForKey(h,d);l=this._insertBeforeOrAppend(l,m)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let d=l;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,l){if(a){const d=a._prev;return l._next=a,l._prev=d,a._prev=l,d&&(d._next=l),a===this._mapHead&&(this._mapHead=l),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(a,l){if(this._records.has(a)){const h=this._records.get(a);this._maybeAddToChanges(h,l);const m=h._prev,v=h._next;return m&&(m._next=v),v&&(v._prev=m),h._next=null,h._prev=null,h}const d=new aT(a);return this._records.set(a,d),d.currentValue=l,this._addToAdditions(d),d}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,l){Object.is(l,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=l,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,l){a instanceof Map?a.forEach(l):Object.keys(a).forEach(d=>l(a[d],d))}}class aT{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function NC(){return new om([new iT])}let om=(()=>{class o{constructor(l){this.factories=l}static create(l,d){if(null!=d){const h=d.factories.slice();l=l.concat(h)}return new o(l)}static extend(l){return{provide:o,useFactory:d=>o.create(l,d||NC()),deps:[[o,new ga,new xo]]}}find(l){const d=this.factories.find(h=>h.supports(l));if(null!=d)return d;throw new Te(901,!1)}}return o.\u0275prov=ge({token:o,providedIn:"root",factory:NC}),o})();function cf(){return new bd([new xC])}let bd=(()=>{class o{constructor(l){this.factories=l}static create(l,d){if(d){const h=d.factories.slice();l=l.concat(h)}return new o(l)}static extend(l){return{provide:o,useFactory:d=>o.create(l,d||cf()),deps:[[o,new ga,new xo]]}}find(l){const d=this.factories.find(h=>h.supports(l));if(d)return d;throw new Te(901,!1)}}return o.\u0275prov=ge({token:o,providedIn:"root",factory:cf}),o})();const bA=EC(null,"core",[]);let lT=(()=>{class o{constructor(l){}}return o.\u0275fac=function(l){return new(l||o)(Vn(em))},o.\u0275mod=hi({type:o}),o.\u0275inj=Rt({}),o})();function cT(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}},6101:(yt,Ne,F)=>{F.d(Ne,{Z:()=>Te});var s=F(5578),ee=F(1617),O=F(7212);F(1877);class oe{constructor(ve,ye){this._delegate=ve,this.firebase=ye,(0,O._addComponent)(ve,new ee.wA("app-compat",()=>this,"PUBLIC")),this.container=ve.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ve){this._delegate.automaticDataCollectionEnabled=ve}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ve=>{this._delegate.checkDestroyed(),ve()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(ve,ye=O._DEFAULT_ENTRY_NAME){var mt;this._delegate.checkDestroyed();const Et=this._delegate.container.getProvider(ve);return!Et.isInitialized()&&"EXPLICIT"===(null===(mt=Et.getComponent())||void 0===mt?void 0:mt.instantiationMode)&&Et.initialize(),Et.getImmediate({identifier:ye})}_removeServiceInstance(ve,ye=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ve).clearInstance(ye)}_addComponent(ve){(0,O._addComponent)(this._delegate,ve)}_addOrOverwriteComponent(ve){(0,O._addOrOverwriteComponent)(this._delegate,ve)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const de=new s.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});function pe(){const tt=function we(tt){const ve={},ye={__esModule:!0,initializeApp:function ke(Be,nt={}){const ne=O.initializeApp(Be,nt);if((0,s.r3)(ve,ne.name))return ve[ne.name];const Nt=new tt(ne,ye);return ve[ne.name]=Nt,Nt},app:Et,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function me(Be){const nt=Be.name,ne=nt.replace("-compat","");if(O._registerComponent(Be)&&"PUBLIC"===Be.type){const Nt=(ut=Et())=>{if("function"!=typeof ut[ne])throw de.create("invalid-app-argument",{appName:nt});return ut[ne]()};void 0!==Be.serviceProps&&(0,s.ZB)(Nt,Be.serviceProps),ye[ne]=Nt,tt.prototype[ne]=function(...ut){return this._getService.bind(this,nt).apply(this,Be.multipleInstances?ut:[])}}return"PUBLIC"===Be.type?ye[ne]:null},removeApp:function mt(Be){delete ve[Be]},useAsService:function qe(Be,nt){return"serverAuth"===nt?null:nt},modularAPIs:O}};function Et(Be){if(!(0,s.r3)(ve,Be=Be||O._DEFAULT_ENTRY_NAME))throw de.create("no-app",{appName:Be});return ve[Be]}return ye.default=ye,Object.defineProperty(ye,"apps",{get:function Ce(){return Object.keys(ve).map(Be=>ve[Be])}}),Et.App=tt,ye}(oe);return tt.INTERNAL=Object.assign(Object.assign({},tt.INTERNAL),{createFirebaseNamespace:pe,extendNamespace:function ve(ye){(0,s.ZB)(tt,ye)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),tt}const Z=pe();(0,s.jU)()&&void 0!==self.firebase&&self;const Te=Z},7212:(yt,Ne,F)=>{F.r(Ne),F.d(Ne,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>ta,_DEFAULT_ENTRY_NAME:()=>Ai,_addComponent:()=>rt,_addOrOverwriteComponent:()=>Ct,_apps:()=>In,_clearComponents:()=>er,_components:()=>nn,_getProvider:()=>as,_registerComponent:()=>pn,_removeServiceInstance:()=>di,deleteApp:()=>ji,getApp:()=>cr,getApps:()=>Ar,initializeApp:()=>rn,onLog:()=>us,registerVersion:()=>Sr,setLogLevel:()=>Zn});var s=F(5861),ee=F(1617),O=F(1877),ae=F(5578);let he,de;const Z=new WeakMap,H=new WeakMap,z=new WeakMap,je=new WeakMap,xe=new WeakMap;let ve={get(ie,te,Oe){if(ie instanceof IDBTransaction){if("done"===te)return H.get(ie);if("objectStoreNames"===te)return ie.objectStoreNames||z.get(ie);if("store"===te)return Oe.objectStoreNames[1]?void 0:Oe.objectStore(Oe.objectStoreNames[0])}return ke(ie[te])},set:(ie,te,Oe)=>(ie[te]=Oe,!0),has:(ie,te)=>ie instanceof IDBTransaction&&("done"===te||"store"===te)||te in ie};function Et(ie){return"function"==typeof ie?function mt(ie){return ie!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function pe(){return de||(de=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ie)?function(...te){return ie.apply(Ce(this),te),ke(Z.get(this))}:function(...te){return ke(ie.apply(Ce(this),te))}:function(te,...Oe){const Fe=ie.call(Ce(this),te,...Oe);return z.set(Fe,te.sort?te.sort():[te]),ke(Fe)}}(ie):(ie instanceof IDBTransaction&&function tt(ie){if(H.has(ie))return;const te=new Promise((Oe,Fe)=>{const Tt=()=>{ie.removeEventListener("complete",Lt),ie.removeEventListener("error",sn),ie.removeEventListener("abort",sn)},Lt=()=>{Oe(),Tt()},sn=()=>{Fe(ie.error||new DOMException("AbortError","AbortError")),Tt()};ie.addEventListener("complete",Lt),ie.addEventListener("error",sn),ie.addEventListener("abort",sn)});H.set(ie,te)}(ie),((ie,te)=>te.some(Oe=>ie instanceof Oe))(ie,function we(){return he||(he=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ie,ve):ie)}function ke(ie){if(ie instanceof IDBRequest)return function Te(ie){const te=new Promise((Oe,Fe)=>{const Tt=()=>{ie.removeEventListener("success",Lt),ie.removeEventListener("error",sn)},Lt=()=>{Oe(ke(ie.result)),Tt()},sn=()=>{Fe(ie.error),Tt()};ie.addEventListener("success",Lt),ie.addEventListener("error",sn)});return te.then(Oe=>{Oe instanceof IDBCursor&&Z.set(Oe,ie)}).catch(()=>{}),xe.set(te,ie),te}(ie);if(je.has(ie))return je.get(ie);const te=Et(ie);return te!==ie&&(je.set(ie,te),xe.set(te,ie)),te}const Ce=ie=>xe.get(ie),Be=["get","getKey","getAll","getAllKeys","count"],nt=["put","add","delete","clear"],ne=new Map;function Nt(ie,te){if(!(ie instanceof IDBDatabase)||te in ie||"string"!=typeof te)return;if(ne.get(te))return ne.get(te);const Oe=te.replace(/FromIndex$/,""),Fe=te!==Oe,Tt=nt.includes(Oe);if(!(Oe in(Fe?IDBIndex:IDBObjectStore).prototype)||!Tt&&!Be.includes(Oe))return;const Lt=function(){var sn=(0,s.Z)(function*(Pn,...Kt){const xr=this.transaction(Pn,Tt?"readwrite":"readonly");let Si=xr.store;return Fe&&(Si=Si.index(Kt.shift())),(yield Promise.all([Si[Oe](...Kt),Tt&&xr.done]))[0]});return function(Kt){return sn.apply(this,arguments)}}();return ne.set(te,Lt),Lt}!function ye(ie){ve=ie(ve)}(ie=>({...ie,get:(te,Oe,Fe)=>Nt(te,Oe)||ie.get(te,Oe,Fe),has:(te,Oe)=>!!Nt(te,Oe)||ie.has(te,Oe)}));const li=new O.Yd("@firebase/app"),Ai="[DEFAULT]",lr={"@firebase/app":"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},In=new Map,nn=new Map;function rt(ie,te){try{ie.container.addComponent(te)}catch(Oe){li.debug(`Component ${te.name} failed to register with FirebaseApp ${ie.name}`,Oe)}}function Ct(ie,te){ie.container.addOrOverwriteComponent(te)}function pn(ie){const te=ie.name;if(nn.has(te))return li.debug(`There were multiple attempts to register component ${te}.`),!1;nn.set(te,ie);for(const Oe of In.values())rt(Oe,ie);return!0}function as(ie,te){const Oe=ie.container.getProvider("heartbeat").getImmediate({optional:!0});return Oe&&Oe.triggerHeartbeat(),ie.container.getProvider(te)}function di(ie,te,Oe=Ai){as(ie,te).clearInstance(Oe)}function er(){nn.clear()}const Dr=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class hn{constructor(te,Oe,Fe){this._isDeleted=!1,this._options=Object.assign({},te),this._config=Object.assign({},Oe),this._name=Oe.name,this._automaticDataCollectionEnabled=Oe.automaticDataCollectionEnabled,this._container=Fe,this.container.addComponent(new ee.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(te){this.checkDestroyed(),this._automaticDataCollectionEnabled=te}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(te){this._isDeleted=te}checkDestroyed(){if(this.isDeleted)throw Dr.create("app-deleted",{appName:this._name})}}const ta="9.23.0";function rn(ie,te={}){let Oe=ie;"object"!=typeof te&&(te={name:te});const Fe=Object.assign({name:Ai,automaticDataCollectionEnabled:!1},te),Tt=Fe.name;if("string"!=typeof Tt||!Tt)throw Dr.create("bad-app-name",{appName:String(Tt)});if(Oe||(Oe=(0,ae.aH)()),!Oe)throw Dr.create("no-options");const Lt=In.get(Tt);if(Lt){if((0,ae.vZ)(Oe,Lt.options)&&(0,ae.vZ)(Fe,Lt.config))return Lt;throw Dr.create("duplicate-app",{appName:Tt})}const sn=new ee.H0(Tt);for(const Kt of nn.values())sn.addComponent(Kt);const Pn=new hn(Oe,Fe,sn);return In.set(Tt,Pn),Pn}function cr(ie=Ai){const te=In.get(ie);if(!te&&ie===Ai&&(0,ae.aH)())return rn();if(!te)throw Dr.create("no-app",{appName:ie});return te}function Ar(){return Array.from(In.values())}function ji(ie){return kn.apply(this,arguments)}function kn(){return(kn=(0,s.Z)(function*(ie){const te=ie.name;In.has(te)&&(In.delete(te),yield Promise.all(ie.container.getProviders().map(Oe=>Oe.delete())),ie.isDeleted=!0)})).apply(this,arguments)}function Sr(ie,te,Oe){var Fe;let Tt=null!==(Fe=lr[ie])&&void 0!==Fe?Fe:ie;Oe&&(Tt+=`-${Oe}`);const Lt=Tt.match(/\s|\//),sn=te.match(/\s|\//);if(Lt||sn){const Pn=[`Unable to register library "${Tt}" with version "${te}":`];return Lt&&Pn.push(`library name "${Tt}" contains illegal characters (whitespace or "/")`),Lt&&sn&&Pn.push("and"),sn&&Pn.push(`version name "${te}" contains illegal characters (whitespace or "/")`),void li.warn(Pn.join(" "))}pn(new ee.wA(`${Tt}-version`,()=>({library:Tt,version:te}),"VERSION"))}function us(ie,te){if(null!==ie&&"function"!=typeof ie)throw Dr.create("invalid-log-argument");(0,O.Am)(ie,te)}function Zn(ie){(0,O.Ub)(ie)}},1617:(yt,Ne,F)=>{F.d(Ne,{H0:()=>we,wA:()=>O});var s=F(5861),ee=F(5578);class O{constructor(Z,H,z){this.name=Z,this.instanceFactory=H,this.type=z,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Z){return this.instantiationMode=Z,this}setMultipleInstances(Z){return this.multipleInstances=Z,this}setServiceProps(Z){return this.serviceProps=Z,this}setInstanceCreatedCallback(Z){return this.onInstanceCreated=Z,this}}const ae="[DEFAULT]";class oe{constructor(Z,H){this.name=Z,this.container=H,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Z){const H=this.normalizeInstanceIdentifier(Z);if(!this.instancesDeferred.has(H)){const z=new ee.BH;if(this.instancesDeferred.set(H,z),this.isInitialized(H)||this.shouldAutoInitialize())try{const je=this.getOrInitializeService({instanceIdentifier:H});je&&z.resolve(je)}catch{}}return this.instancesDeferred.get(H).promise}getImmediate(Z){var H;const z=this.normalizeInstanceIdentifier(Z?.identifier),je=null!==(H=Z?.optional)&&void 0!==H&&H;if(!this.isInitialized(z)&&!this.shouldAutoInitialize()){if(je)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:z})}catch(xe){if(je)return null;throw xe}}getComponent(){return this.component}setComponent(Z){if(Z.name!==this.name)throw Error(`Mismatching Component ${Z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Z,this.shouldAutoInitialize()){if(function de(pe){return"EAGER"===pe.instantiationMode}(Z))try{this.getOrInitializeService({instanceIdentifier:ae})}catch{}for(const[H,z]of this.instancesDeferred.entries()){const je=this.normalizeInstanceIdentifier(H);try{const xe=this.getOrInitializeService({instanceIdentifier:je});z.resolve(xe)}catch{}}}}clearInstance(Z=ae){this.instancesDeferred.delete(Z),this.instancesOptions.delete(Z),this.instances.delete(Z)}delete(){var Z=this;return(0,s.Z)(function*(){const H=Array.from(Z.instances.values());yield Promise.all([...H.filter(z=>"INTERNAL"in z).map(z=>z.INTERNAL.delete()),...H.filter(z=>"_delete"in z).map(z=>z._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Z=ae){return this.instances.has(Z)}getOptions(Z=ae){return this.instancesOptions.get(Z)||{}}initialize(Z={}){const{options:H={}}=Z,z=this.normalizeInstanceIdentifier(Z.instanceIdentifier);if(this.isInitialized(z))throw Error(`${this.name}(${z}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const je=this.getOrInitializeService({instanceIdentifier:z,options:H});for(const[xe,Te]of this.instancesDeferred.entries())z===this.normalizeInstanceIdentifier(xe)&&Te.resolve(je);return je}onInit(Z,H){var z;const je=this.normalizeInstanceIdentifier(H),xe=null!==(z=this.onInitCallbacks.get(je))&&void 0!==z?z:new Set;xe.add(Z),this.onInitCallbacks.set(je,xe);const Te=this.instances.get(je);return Te&&Z(Te,je),()=>{xe.delete(Z)}}invokeOnInitCallbacks(Z,H){const z=this.onInitCallbacks.get(H);if(z)for(const je of z)try{je(Z,H)}catch{}}getOrInitializeService({instanceIdentifier:Z,options:H={}}){let z=this.instances.get(Z);if(!z&&this.component&&(z=this.component.instanceFactory(this.container,{instanceIdentifier:(pe=Z,pe===ae?void 0:pe),options:H}),this.instances.set(Z,z),this.instancesOptions.set(Z,H),this.invokeOnInitCallbacks(z,Z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Z,z)}catch{}var pe;return z||null}normalizeInstanceIdentifier(Z=ae){return this.component?this.component.multipleInstances?Z:ae:Z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class we{constructor(Z){this.name=Z,this.providers=new Map}addComponent(Z){const H=this.getProvider(Z.name);if(H.isComponentSet())throw new Error(`Component ${Z.name} has already been registered with ${this.name}`);H.setComponent(Z)}addOrOverwriteComponent(Z){this.getProvider(Z.name).isComponentSet()&&this.providers.delete(Z.name),this.addComponent(Z)}getProvider(Z){if(this.providers.has(Z))return this.providers.get(Z);const H=new oe(Z,this);return this.providers.set(Z,H),H}getProviders(){return Array.from(this.providers.values())}}},8140:(yt,Ne,F)=>{F.d(Ne,{C6:()=>s.getApps,Mq:()=>s.getApp});var s=F(7212)},1274:(yt,Ne,F)=>{F.d(Ne,{Z:()=>s.Z});var s=F(6101)},8463:(yt,Ne,F)=>{F.r(Ne);var s=F(5861),ee=F(6101),O=F(5578),ae=F(7212),oe=F(7582),he=F(1877);F(1617);function xe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const tt=xe,ve=new O.LL("auth","Firebase",xe()),mt=new he.Yd("@firebase/auth");function ke(y,...f){mt.logLevel<=he.in.ERROR&&mt.error(`Auth (${ae.SDK_VERSION}): ${y}`,...f)}function Ce(y,...f){throw nt(y,...f)}function me(y,...f){return nt(y,...f)}function qe(y,f,g){const C=Object.assign(Object.assign({},tt()),{[f]:g});return new O.LL("auth","Firebase",C).create(f,{appName:y.name})}function Be(y,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&Ce(y,"argument-error"),qe(y,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function nt(y,...f){if("string"!=typeof y){const g=f[0],C=[...f.slice(1)];return C[0]&&(C[0].appName=y.name),y._errorFactory.create(g,...C)}return ve.create(y,...f)}function ne(y,f,...g){if(!y)throw nt(f,...g)}function Nt(y){const f="INTERNAL ASSERTION FAILED: "+y;throw ke(f),new Error(f)}function ut(y,f){y||Nt(f)}function qt(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function Ds(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class os{constructor(f,g){this.shortDelay=f,this.longDelay=g,ut(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,O.uI)()||(0,O.b$)()}get(){return function li(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function ot(){return"http:"===Ds()||"https:"===Ds()}()||(0,O.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function re(y,f){ut(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class X{static initialize(f,g,C){this.fetchImpl=f,g&&(this.headersImpl=g),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Nt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Nt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Nt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ie={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ee=new os(3e4,6e4);function Se(y,f){return y.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:y.tenantId}):f}function ge(y,f,g,C){return lt.apply(this,arguments)}function lt(){return(lt=(0,s.Z)(function*(y,f,g,C,D={}){return Rt(y,D,(0,s.Z)(function*(){let N={},B={};C&&("GET"===f?B=C:N={body:JSON.stringify(C)});const K=(0,O.xO)(Object.assign({key:y.config.apiKey},B)).slice(1),Pe=yield y._getAdditionalHeaders();return Pe["Content-Type"]="application/json",y.languageCode&&(Pe["X-Firebase-Locale"]=y.languageCode),X.fetch()(Rn(y,y.config.apiHost,g,K),Object.assign({method:f,headers:Pe,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function Rt(y,f,g){return dn.apply(this,arguments)}function dn(){return(dn=(0,s.Z)(function*(y,f,g){y._canInitEmulator=!1;const C=Object.assign(Object.assign({},Ie),f);try{const D=new wn(y),N=yield Promise.race([g(),D.promise]);D.clearNetworkTimeout();const B=yield N.json();if("needConfirmation"in B)throw Hn(y,"account-exists-with-different-credential",B);if(N.ok&&!("errorMessage"in B))return B;{const K=N.ok?B.errorMessage:B.error.message,[Pe,Ze]=K.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Pe)throw Hn(y,"credential-already-in-use",B);if("EMAIL_EXISTS"===Pe)throw Hn(y,"email-already-in-use",B);if("USER_DISABLED"===Pe)throw Hn(y,"user-disabled",B);const it=C[Pe]||Pe.toLowerCase().replace(/[_\s]+/g,"-");if(Ze)throw qe(y,it,Ze);Ce(y,it)}}catch(D){if(D instanceof O.ZR)throw D;Ce(y,"network-request-failed",{message:String(D)})}})).apply(this,arguments)}function vt(y,f,g,C){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,s.Z)(function*(y,f,g,C,D={}){const N=yield ge(y,f,g,C,D);return"mfaPendingCredential"in N&&Ce(y,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function Rn(y,f,g,C){const D=`${f}${g}?${C}`;return y.config.emulator?re(y.config,D):`${y.config.apiScheme}://${D}`}class wn{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,C)=>{this.timer=setTimeout(()=>C(me(this.auth,"network-request-failed")),Ee.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Hn(y,f,g){const C={appName:y.name};g.email&&(C.email=g.email),g.phoneNumber&&(C.phoneNumber=g.phoneNumber);const D=me(y,f,C);return D.customData._tokenResponse=g,D}function Yn(){return(Yn=(0,s.Z)(function*(y,f){return ge(y,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function ci(y,f){return Di.apply(this,arguments)}function Di(){return(Di=(0,s.Z)(function*(y,f){return ge(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ht(y,f){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,s.Z)(function*(y,f){return ge(y,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Bi(y){if(y)try{const f=new Date(Number(y));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function Ai(){return(Ai=(0,s.Z)(function*(y,f=!1){const g=(0,O.m9)(y),C=yield g.getIdToken(f),D=In(C);ne(D&&D.exp&&D.auth_time&&D.iat,g.auth,"internal-error");const N="object"==typeof D.firebase?D.firebase:void 0,B=N?.sign_in_provider;return{claims:D,token:C,authTime:Bi(lr(D.auth_time)),issuedAtTime:Bi(lr(D.iat)),expirationTime:Bi(lr(D.exp)),signInProvider:B||null,signInSecondFactor:N?.sign_in_second_factor||null}})).apply(this,arguments)}function lr(y){return 1e3*Number(y)}function In(y){const[f,g,C]=y.split(".");if(void 0===f||void 0===g||void 0===C)return ke("JWT malformed, contained fewer than 3 sections"),null;try{const D=(0,O.tV)(g);return D?JSON.parse(D):(ke("Failed to decode base64 JWT payload"),null)}catch(D){return ke("Caught error parsing JWT payload as JSON",D?.toString()),null}}function rt(y,f){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,s.Z)(function*(y,f,g=!1){if(g)return f;try{return yield f}catch(C){throw C instanceof O.ZR&&pn(C)&&y.auth.currentUser===y&&(yield y.auth.signOut()),C}})).apply(this,arguments)}function pn({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class as{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const D=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,D)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const C=this.getInterval(f);this.timerId=setTimeout((0,s.Z)(function*(){yield g.iteration()}),C)}iteration(){var f=this;return(0,s.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&f.schedule(!0))}f.schedule()})()}}class di{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bi(this.lastLoginAt),this.creationTime=Bi(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function er(y){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,s.Z)(function*(y){var f;const g=y.auth,C=yield y.getIdToken(),D=yield rt(y,ht(g,{idToken:C}));ne(D?.users.length,g,"internal-error");const N=D.users[0];y._notifyReloadListener(N);const B=null!==(f=N.providerUserInfo)&&void 0!==f&&f.length?rn(N.providerUserInfo):[],K=ta(y.providerData,B),it=!!y.isAnonymous&&!(y.email&&N.passwordHash||K?.length),et={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:K,metadata:new di(N.createdAt,N.lastLoginAt),isAnonymous:it};Object.assign(y,et)})).apply(this,arguments)}function hn(){return(hn=(0,s.Z)(function*(y){const f=(0,O.m9)(y);yield er(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function ta(y,f){return[...y.filter(C=>!f.some(D=>D.providerId===C.providerId)),...f]}function rn(y){return y.map(f=>{var{providerId:g}=f,C=(0,oe._T)(f,["providerId"]);return{providerId:g,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function Ar(){return(Ar=(0,s.Z)(function*(y,f){const g=yield Rt(y,{},(0,s.Z)(function*(){const C=(0,O.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:D,apiKey:N}=y.config,B=Rn(y,D,"/v1/token",`key=${N}`),K=yield y._getAdditionalHeaders();return K["Content-Type"]="application/x-www-form-urlencoded",X.fetch()(B,{method:"POST",headers:K,body:C})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class ji{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){ne(f.idToken,"internal-error"),ne(typeof f.idToken<"u","internal-error"),ne(typeof f.refreshToken<"u","internal-error");const g="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function nn(y){const f=In(y);return ne(f,"internal-error"),ne(typeof f.exp<"u","internal-error"),ne(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var C=this;return(0,s.Z)(function*(){return ne(!C.accessToken||C.refreshToken,f,"user-token-expired"),g||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(f,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var C=this;return(0,s.Z)(function*(){const{accessToken:D,refreshToken:N,expiresIn:B}=yield function cr(y,f){return Ar.apply(this,arguments)}(f,g);C.updateTokensAndExpiration(D,N,Number(B))})()}updateTokensAndExpiration(f,g,C){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(f,g){const{refreshToken:C,accessToken:D,expirationTime:N}=g,B=new ji;return C&&(ne("string"==typeof C,"internal-error",{appName:f}),B.refreshToken=C),D&&(ne("string"==typeof D,"internal-error",{appName:f}),B.accessToken=D),N&&(ne("number"==typeof N,"internal-error",{appName:f}),B.expirationTime=N),B}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new ji,this.toJSON())}_performRefresh(){return Nt("not implemented")}}function kn(y,f){ne("string"==typeof y||typeof y>"u","internal-error",{appName:f})}class Sr{constructor(f){var{uid:g,auth:C,stsTokenManager:D}=f,N=(0,oe._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new as(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=C,this.stsTokenManager=D,this.accessToken=D.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new di(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,s.Z)(function*(){const C=yield rt(g,g.stsTokenManager.getToken(g.auth,f));return ne(C,g.auth,"internal-error"),g.accessToken!==C&&(g.accessToken=C,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),C})()}getIdTokenResult(f){return function ea(y){return Ai.apply(this,arguments)}(this,f)}reload(){return function Dr(y){return hn.apply(this,arguments)}(this)}_assign(f){this!==f&&(ne(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const g=new Sr(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(f){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var C=this;return(0,s.Z)(function*(){let D=!1;f.idToken&&f.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(f),D=!0),g&&(yield er(C)),yield C.auth._persistUserIfCurrent(C),D&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var f=this;return(0,s.Z)(function*(){const g=yield f.getIdToken();return yield rt(f,function Xn(y,f){return Yn.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var C,D,N,B,K,Pe,Ze,it;const et=null!==(C=g.displayName)&&void 0!==C?C:void 0,On=null!==(D=g.email)&&void 0!==D?D:void 0,Xi=null!==(N=g.phoneNumber)&&void 0!==N?N:void 0,Ip=null!==(B=g.photoURL)&&void 0!==B?B:void 0,Dp=null!==(K=g.tenantId)&&void 0!==K?K:void 0,Ci=null!==(Pe=g._redirectEventId)&&void 0!==Pe?Pe:void 0,Ap=null!==(Ze=g.createdAt)&&void 0!==Ze?Ze:void 0,vl=null!==(it=g.lastLoginAt)&&void 0!==it?it:void 0,{uid:Sp,emailVerified:Um,isAnonymous:vh,providerData:Uo,stsTokenManager:Vm}=g;ne(Sp&&Vm,f,"internal-error");const Mp=ji.fromJSON(this.name,Vm);ne("string"==typeof Sp,f,"internal-error"),kn(et,f.name),kn(On,f.name),ne("boolean"==typeof Um,f,"internal-error"),ne("boolean"==typeof vh,f,"internal-error"),kn(Xi,f.name),kn(Ip,f.name),kn(Dp,f.name),kn(Ci,f.name),kn(Ap,f.name),kn(vl,f.name);const Ca=new Sr({uid:Sp,auth:f,email:On,emailVerified:Um,displayName:et,isAnonymous:vh,photoURL:Ip,phoneNumber:Xi,tenantId:Dp,stsTokenManager:Mp,createdAt:Ap,lastLoginAt:vl});return Uo&&Array.isArray(Uo)&&(Ca.providerData=Uo.map(Bn=>Object.assign({},Bn))),Ci&&(Ca._redirectEventId=Ci),Ca}static _fromIdTokenResponse(f,g,C=!1){return(0,s.Z)(function*(){const D=new ji;D.updateFromServerResponse(g);const N=new Sr({uid:g.localId,auth:f,stsTokenManager:D,isAnonymous:C});return yield er(N),N})()}}const us=new Map;function Zn(y){ut(y instanceof Function,"Expected a class definition");let f=us.get(y);return f?(ut(f instanceof y,"Instance stored in cache mismatched with class"),f):(f=new y,us.set(y,f),f)}function V(y,f,g){return`firebase:${y}:${f}:${g}`}function Y(y=(0,O.z$)()){const f=y.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Ft(y=(0,O.z$)()){return/android/i.test(y)}function ct(y=(0,O.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function mn(y=(0,O.z$)()){return ct(y)||Ft(y)||function Ue(y=(0,O.z$)()){return/webos/i.test(y)}(y)||function cn(y=(0,O.z$)()){return/blackberry/i.test(y)}(y)||/windows phone/i.test(y)||function St(y=(0,O.z$)()){return/iemobile/i.test(y)}(y)}function Yt(y){return(0,O.m9)(y)}class As{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return Nt("not implemented")}_getIdTokenResponse(f){return Nt("not implemented")}_linkToIdToken(f,g){return Nt("not implemented")}_getReauthenticationResolver(f){return Nt("not implemented")}}function Rd(y,f){return $l.apply(this,arguments)}function $l(){return($l=(0,s.Z)(function*(y,f){return ge(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Gl(y,f){return kd.apply(this,arguments)}function kd(){return(kd=(0,s.Z)(function*(y,f){return ge(y,"POST","/v1/accounts:sendOobCode",Se(y,f))})).apply(this,arguments)}function Mf(y,f){return Fd.apply(this,arguments)}function Fd(){return(Fd=(0,s.Z)(function*(y,f){return Gl(y,f)})).apply(this,arguments)}function wm(y,f){return cs.apply(this,arguments)}function cs(){return(cs=(0,s.Z)(function*(y,f){return Gl(y,f)})).apply(this,arguments)}function qi(y,f){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,s.Z)(function*(y,f){return vt(y,"POST","/v1/accounts:signInWithIdp",Se(y,f))})).apply(this,arguments)}class Mi extends As{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new Mi(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):Ce("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:C,signInMethod:D}=g,N=(0,oe._T)(g,["providerId","signInMethod"]);if(!C||!D)return null;const B=new Mi(C,D);return B.idToken=N.idToken||void 0,B.accessToken=N.accessToken||void 0,B.secret=N.secret,B.nonce=N.nonce,B.pendingToken=N.pendingToken||null,B}_getIdTokenResponse(f){return qi(f,this.buildRequest())}_linkToIdToken(f,g){const C=this.buildRequest();return C.idToken=g,qi(f,C)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,qi(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,O.xO)(g)}return f}}function Bd(y,f){return xa.apply(this,arguments)}function xa(){return(xa=(0,s.Z)(function*(y,f){return ge(y,"POST","/v1/accounts:sendVerificationCode",Se(y,f))})).apply(this,arguments)}function Ru(){return(Ru=(0,s.Z)(function*(y,f){return vt(y,"POST","/v1/accounts:signInWithPhoneNumber",Se(y,f))})).apply(this,arguments)}function Yl(){return(Yl=(0,s.Z)(function*(y,f){const g=yield vt(y,"POST","/v1/accounts:signInWithPhoneNumber",Se(y,f));if(g.temporaryProof)throw Hn(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Pu={USER_NOT_FOUND:"user-not-found"};function vr(){return(vr=(0,s.Z)(function*(y,f){return vt(y,"POST","/v1/accounts:signInWithPhoneNumber",Se(y,Object.assign(Object.assign({},f),{operation:"REAUTH"})),Pu)})).apply(this,arguments)}class Vr extends As{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new Vr({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new Vr({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function Kl(y,f){return Ru.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function Pf(y,f){return Yl.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Of(y,f){return vr.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:C,verificationCode:D}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:C,code:D}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:C,phoneNumber:D,temporaryProof:N}=f;return C||g||D||N?new Vr({verificationId:g,verificationCode:C,phoneNumber:D,temporaryProof:N}):null}}class Ms{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Fu extends Ms{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class xi extends Fu{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return ne("providerId"in g&&"signInMethod"in g,"argument-error"),Mi._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return ne(f.idToken||f.accessToken,"argument-error"),Mi._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return xi.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return xi.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:C,oauthTokenSecret:D,pendingToken:N,nonce:B,providerId:K}=f;if(!C&&!D&&!g&&!N||!K)return null;try{return new xi(K)._credential({idToken:g,accessToken:C,nonce:B,pendingToken:N})}catch{return null}}}let ei=(()=>{class y extends Fu{constructor(){super("facebook.com")}static credential(g){return Mi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Jl=(()=>{class y extends Fu{constructor(){super("google.com"),this.addScope("profile")}static credential(g,C){return Mi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:C})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:C,oauthAccessToken:D}=g;if(!C&&!D)return null;try{return y.credential(C,D)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Na=(()=>{class y extends Fu{constructor(){super("github.com")}static credential(g){return Mi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class $n extends As{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return qi(f,this.buildRequest())}_linkToIdToken(f,g){const C=this.buildRequest();return C.idToken=g,qi(f,C)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,qi(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:C,signInMethod:D,pendingToken:N}=g;return C&&D&&N&&C===D?new $n(C,N):null}static _create(f,g){return new $n(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let Ql=(()=>{class y extends Fu{constructor(){super("twitter.com")}static credential(g,C){return Mi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:C})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:C,oauthTokenSecret:D}=g;if(!C||!D)return null;try{return y.credential(C,D)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();class Nr{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,C,D=!1){return(0,s.Z)(function*(){const N=yield Sr._fromIdTokenResponse(f,C,D),B=Mt(C);return new Nr({user:N,providerId:B,_tokenResponse:C,operationType:g})})()}static _forOperation(f,g,C){return(0,s.Z)(function*(){yield f._updateTokensIfNecessary(C,!0);const D=Mt(C);return new Nr({user:f,providerId:D,_tokenResponse:C,operationType:g})})()}}function Mt(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}class Ra extends O.ZR{constructor(f,g,C,D){var N;super(g.code,g.message),this.operationType=C,this.user=D,Object.setPrototypeOf(this,Ra.prototype),this.customData={appName:f.name,tenantId:null!==(N=f.tenantId)&&void 0!==N?N:void 0,_serverResponse:g.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(f,g,C,D){return new Ra(f,g,C,D)}}function Zd(y,f,g,C){return("reauthenticate"===f?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?Ra._fromErrorAndOperation(y,N,f,C):N})}function qd(y){return new Set(y.map(({providerId:f})=>f).filter(f=>!!f))}function $i(){return($i=(0,s.Z)(function*(y,f){const g=(0,O.m9)(y);yield $t(!0,g,f);const{providerUserInfo:C}=yield ci(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),D=qd(C||[]);return g.providerData=g.providerData.filter(N=>D.has(N.providerId)),D.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function Lu(y,f){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,s.Z)(function*(y,f,g=!1){const C=yield rt(y,f._linkToIdToken(y.auth,yield y.getIdToken()),g);return Nr._forOperation(y,"link",C)})).apply(this,arguments)}function $t(y,f,g){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,s.Z)(function*(y,f,g){yield er(f);const D=!1===y?"provider-already-linked":"no-such-provider";ne(qd(f.providerData).has(g)===y,f.auth,D)})).apply(this,arguments)}function Xl(y,f){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,s.Z)(function*(y,f,g=!1){const{auth:C}=y,D="reauthenticate";try{const N=yield rt(y,Zd(C,D,f,y),g);ne(N.idToken,C,"internal-error");const B=In(N.idToken);ne(B,C,"internal-error");const{sub:K}=B;return ne(y.uid===K,C,"user-mismatch"),Nr._forOperation(y,D,N)}catch(N){throw"auth/user-not-found"===N?.code&&Ce(C,"user-mismatch"),N}})).apply(this,arguments)}function _o(){return(_o=(0,s.Z)(function*(y,f,g=!1){const C="signIn",D=yield Zd(y,C,f),N=yield Nr._fromIdTokenResponse(y,C,D);return g||(yield y._updateCurrentUser(N.user)),N})).apply(this,arguments)}function ec(y,f){return tc.apply(this,arguments)}function tc(){return(tc=(0,s.Z)(function*(y,f){const g=(0,O.m9)(y);return yield $t(!1,g,f.providerId),Lu(g,f)})).apply(this,arguments)}function Ln(y,f){return kf.apply(this,arguments)}function kf(){return(kf=(0,s.Z)(function*(y,f){return Xl((0,O.m9)(y),f)})).apply(this,arguments)}class xs{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?mi._fromServerResponse(f,g):"totpInfo"in g?Gd._fromServerResponse(f,g):Ce(f,"internal-error")}}class mi extends xs{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new mi(g)}}class Gd extends xs{constructor(f){super("totp",f)}static _fromServerResponse(f,g){return new Gd(g)}}function yo(y,f,g){var C;ne((null===(C=g.url)||void 0===C?void 0:C.length)>0,y,"invalid-continue-uri"),ne(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(ne(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(ne(g.android.packageName.length>0,y,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function Hu(){return(Hu=(0,s.Z)(function*(y,f){const g=(0,O.m9)(y),D={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};f&&yo(g.auth,D,f);const{email:N}=yield Mf(g.auth,D);N!==y.email&&(yield y.reload())})).apply(this,arguments)}function Co(){return(Co=(0,s.Z)(function*(y,f,g){const C=(0,O.m9)(y),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:f};g&&yo(C.auth,N,g);const{email:B}=yield wm(C.auth,N);B!==y.email&&(yield y.reload())})).apply(this,arguments)}function La(y,f){return la.apply(this,arguments)}function la(){return(la=(0,s.Z)(function*(y,f){return ge(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Ua(){return(Ua=(0,s.Z)(function*(y,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const C=(0,O.m9)(y),N={idToken:yield C.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},B=yield rt(C,La(C.auth,N));C.displayName=B.displayName||null,C.photoURL=B.photoUrl||null;const K=C.providerData.find(({providerId:Pe})=>"password"===Pe);K&&(K.displayName=C.displayName,K.photoURL=C.photoURL),yield C._updateTokensIfNecessary(B)})).apply(this,arguments)}function Va(y,f,g){return Zu.apply(this,arguments)}function Zu(){return(Zu=(0,s.Z)(function*(y,f,g){const{auth:C}=y,N={idToken:yield y.getIdToken(),returnSecureToken:!0};f&&(N.email=f),g&&(N.password=g);const B=yield rt(y,Rd(C,N));yield y._updateTokensIfNecessary(B,!0)})).apply(this,arguments)}class zi{constructor(f,g,C={}){this.isNewUser=f,this.providerId=g,this.profile=C}}class ac extends zi{constructor(f,g,C,D){super(f,g,C),this.username=D}}class Qd extends zi{constructor(f,g){super(f,"facebook.com",g)}}class Vf extends ac{constructor(f,g){super(f,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class uc extends zi{constructor(f,g){super(f,"google.com",g)}}class qu extends ac{constructor(f,g,C){super(f,"twitter.com",g,C)}}function $u(y){const{user:f,_tokenResponse:g}=y;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Uf(y){var f,g;if(!y)return null;const{providerId:C}=y,D=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},N=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!C&&y?.idToken){const B=null===(g=null===(f=In(y.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(B)return new zi(N,"anonymous"!==B&&"custom"!==B?B:null)}if(!C)return null;switch(C){case"facebook.com":return new Qd(N,D);case"github.com":return new Vf(N,D);case"google.com":return new uc(N,D);case"twitter.com":return new qu(N,D,y.screenName||null);case"custom":case"anonymous":return new zi(N,null);default:return new zi(N,C,D)}}(g)}class wo{constructor(f,g,C){this.type=f,this.credential=g,this.auth=C}static _fromIdtoken(f,g){return new wo("enroll",f,g)}static _fromMfaPendingCredential(f){return new wo("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,C;if(f?.multiFactorSession){if(null!==(g=f.multiFactorSession)&&void 0!==g&&g.pendingCredential)return wo._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(C=f.multiFactorSession)&&void 0!==C&&C.idToken)return wo._fromIdtoken(f.multiFactorSession.idToken)}return null}}class hs{constructor(f,g,C){this.session=f,this.hints=g,this.signInResolver=C}static _fromError(f,g){const C=Yt(f),D=g.customData._serverResponse,N=(D.mfaInfo||[]).map(K=>xs._fromServerResponse(C,K));ne(D.mfaPendingCredential,C,"internal-error");const B=wo._fromMfaPendingCredential(D.mfaPendingCredential);return new hs(B,N,function(){var K=(0,s.Z)(function*(Pe){const Ze=yield Pe._process(C,B);delete D.mfaInfo,delete D.mfaPendingCredential;const it=Object.assign(Object.assign({},D),{idToken:Ze.idToken,refreshToken:Ze.refreshToken});switch(g.operationType){case"signIn":const et=yield Nr._fromIdTokenResponse(C,g.operationType,it);return yield C._updateCurrentUser(et.user),et;case"reauthenticate":return ne(g.user,C,"internal-error"),Nr._forOperation(g.user,g.operationType,it);default:Ce(C,"internal-error")}});return function(Pe){return K.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,s.Z)(function*(){return g.signInResolver(f)})()}}function Ha(y,f){return ge(y,"POST","/v2/accounts/mfaEnrollment:start",Se(y,f))}class bo{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(C=>xs._fromServerResponse(f.auth,C)))})}static _fromUser(f){return new bo(f)}getSession(){var f=this;return(0,s.Z)(function*(){return wo._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,g){var C=this;return(0,s.Z)(function*(){const D=f,N=yield C.getSession(),B=yield rt(C.user,D._process(C.user.auth,N,g));return yield C.user._updateTokensIfNecessary(B),C.user.reload()})()}unenroll(f){var g=this;return(0,s.Z)(function*(){const C="string"==typeof f?f:f.uid,D=yield g.user.getIdToken();try{const N=yield rt(g.user,function dc(y,f){return ge(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Se(y,f))}(g.user.auth,{idToken:D,mfaEnrollmentId:C}));g.enrolledFactors=g.enrolledFactors.filter(({uid:B})=>B!==C),yield g.user._updateTokensIfNecessary(N),yield g.user.reload()}catch(N){throw N}})()}}const Eo=new WeakMap;class Wu{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem("__sak","1"),this.storage.removeItem("__sak"),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const fs=(()=>{class y extends Wu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,C)=>this.onStorageEvent(g,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Hf(){const y=(0,O.z$)();return Y(y)||ct(y)}()&&function Hi(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=mn(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const C of Object.keys(this.listeners)){const D=this.storage.getItem(C),N=this.localCache[C];D!==N&&g(C,N,D)}}onStorageEvent(g,C=!1){if(!g.key)return void this.forAllChangedKeys((K,Pe,Ze)=>{this.notifyListeners(K,Ze)});const D=g.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const K=this.storage.getItem(D);if(g.newValue!==K)null!==g.newValue?this.storage.setItem(D,g.newValue):this.storage.removeItem(D);else if(this.localCache[D]===g.newValue&&!C)return}const N=()=>{const K=this.storage.getItem(D);!C&&this.localCache[D]===K||this.notifyListeners(D,K)},B=this.storage.getItem(D);!function Mr(){return(0,O.w1)()&&10===document.documentMode}()||B===g.newValue||g.newValue===g.oldValue?N():setTimeout(N,10)}notifyListeners(g,C){this.localCache[g]=C;const D=this.listeners[g];if(D)for(const N of Array.from(D))N(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,C,D)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:C,newValue:D}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(C)}_removeListener(g,C){this.listeners[g]&&(this.listeners[g].delete(C),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,C){var D=()=>super._set,N=this;return(0,s.Z)(function*(){yield D().call(N,g,C),N.localCache[g]=JSON.stringify(C)})()}_get(g){var C=()=>super._get,D=this;return(0,s.Z)(function*(){const N=yield C().call(D,g);return D.localCache[g]=JSON.stringify(N),N})()}_remove(g){var C=()=>super._remove,D=this;return(0,s.Z)(function*(){yield C().call(D,g),delete D.localCache[g]})()}}return y.type="LOCAL",y})(),Io=(()=>{class y extends Wu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,C){}_removeListener(g,C){}}return y.type="SESSION",y})();function ps(y="",f=10){let g="";for(let C=0;C<f;C++)g+=Math.floor(10*Math.random());return y+g}function An(){return window}function tr(y,f){return ge(y,"POST","/v2/accounts/mfaSignIn:start",Se(y,f))}const el="recaptcha";class _c{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=Vr._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function rl(){return(rl=(0,s.Z)(function*(y,f,g){const C=(0,O.m9)(y);yield $t(!1,C,"phone");const D=yield sl(C.auth,f,(0,O.m9)(g));return new _c(D,N=>ec(C,N))})).apply(this,arguments)}function il(){return(il=(0,s.Z)(function*(y,f,g){const C=(0,O.m9)(y),D=yield sl(C.auth,f,(0,O.m9)(g));return new _c(D,N=>Ln(C,N))})).apply(this,arguments)}function sl(y,f,g){return nr.apply(this,arguments)}function nr(){return(nr=(0,s.Z)(function*(y,f,g){var C;const D=yield g.verify();try{let N;if(ne("string"==typeof D,y,"argument-error"),ne(g.type===el,y,"argument-error"),N="string"==typeof f?{phoneNumber:f}:f,"session"in N){const B=N.session;if("phoneNumber"in N)return ne("enroll"===B.type,y,"internal-error"),(yield Ha(y,{idToken:B.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:D}})).phoneSessionInfo.sessionInfo;{ne("signin"===B.type,y,"internal-error");const K=(null===(C=N.multiFactorHint)||void 0===C?void 0:C.uid)||N.multiFactorUid;return ne(K,y,"missing-multi-factor-info"),(yield tr(y,{mfaPendingCredential:B.credential,mfaEnrollmentId:K,phoneSignInInfo:{recaptchaToken:D}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:B}=yield Bd(y,{phoneNumber:N.phoneNumber,recaptchaToken:D});return B}}finally{g._reset()}})).apply(this,arguments)}function Ao(){return(Ao=(0,s.Z)(function*(y,f){yield Lu((0,O.m9)(y),f)})).apply(this,arguments)}let Qe=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=Yt(g)}verifyPhoneNumber(g,C){return sl(this.auth,g,(0,O.m9)(C))}static credential(g,C){return Vr._fromVerification(g,C)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:C,temporaryProof:D}=g;return C&&D?Vr._fromTokenResponse(C,D):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Cr(y,f){return f?Zn(f):(ne(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Tn extends As{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return qi(f,this._buildIdpRequest())}_linkToIdToken(f,g){return qi(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return qi(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function sh(y){return function Vu(y,f){return _o.apply(this,arguments)}(y.auth,new Tn(y),y.bypassAuthState)}function Ya(y){const{auth:f,user:g}=y;return ne(g,f,"internal-error"),Xl(g,new Tn(y),y.bypassAuthState)}function ti(y){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,s.Z)(function*(y){const{auth:f,user:g}=y;return ne(g,f,"internal-error"),Lu(g,new Tn(y),y.bypassAuthState)})).apply(this,arguments)}class So{constructor(f,g,C,D,N=!1){this.auth=f,this.resolver=C,this.user=D,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,s.Z)(function*(C,D){f.pendingPromise={resolve:C,reject:D};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(N){f.reject(N)}});return function(C,D){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,s.Z)(function*(){const{urlResponse:C,sessionId:D,postBody:N,tenantId:B,error:K,type:Pe}=f;if(K)return void g.reject(K);const Ze={auth:g.auth,requestUri:C,sessionId:D,tenantId:B||void 0,postBody:N||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Pe)(Ze))}catch(it){g.reject(it)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return sh;case"linkViaPopup":case"linkViaRedirect":return ti;case"reauthViaPopup":case"reauthViaRedirect":return Ya;default:Ce(this.auth,"internal-error")}}resolve(f){ut(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){ut(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Zr=new os(2e3,1e4);function eo(){return(eo=(0,s.Z)(function*(y,f,g){const C=(0,O.m9)(y);Be(C.auth,f,Ms);const D=Cr(C.auth,g);return new vc(C.auth,"reauthViaPopup",f,D,C).executeNotNull()})).apply(this,arguments)}function Mo(){return(Mo=(0,s.Z)(function*(y,f,g){const C=(0,O.m9)(y);Be(C.auth,f,Ms);const D=Cr(C.auth,g);return new vc(C.auth,"linkViaPopup",f,D,C).executeNotNull()})).apply(this,arguments)}let vc=(()=>{class y extends So{constructor(g,C,D,N,B){super(g,C,N,B),this.provider=D,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,s.Z)(function*(){const C=yield g.execute();return ne(C,g.auth,"internal-error"),C})()}onExecution(){var g=this;return(0,s.Z)(function*(){ut(1===g.filter.length,"Popup operations only handle one event");const C=ps();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],C),g.authWindow.associatedEvent=C,g.resolver._originValidation(g.auth).catch(D=>{g.reject(D)}),g.resolver._isIframeWebStorageSupported(g.auth,D=>{D||g.reject(me(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(me(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var C,D;this.pollId=null!==(D=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==D&&D.closed?window.setTimeout(()=>{this.pollId=null,this.reject(me(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,Zr.get())};g()}}return y.currentPopupAction=null,y})();const Qa=new Map;class hr extends So{constructor(f,g,C=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,C),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,s.Z)(function*(){let C=Qa.get(g.auth._key());if(!C){try{const N=(yield function xo(y,f){return al.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;C=()=>Promise.resolve(N)}catch(D){C=()=>Promise.reject(D)}Qa.set(g.auth._key(),C)}return g.bypassAuthState||Qa.set(g.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,C=this;return(0,s.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(C,f);if("unknown"!==f.type){if(f.eventId){const D=yield C.auth._redirectUserForId(f.eventId);if(D)return C.user=D,g().call(C,f);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,s.Z)(function*(){})()}cleanUp(){}}function al(){return(al=(0,s.Z)(function*(y,f){const g=Ro(f),C=ma(y);if(!(yield C._isAvailable()))return!1;const D="true"===(yield C._get(g));return yield C._remove(g),D})).apply(this,arguments)}function ga(y,f){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,s.Z)(function*(y,f){return ma(y)._set(Ro(f),"true")})).apply(this,arguments)}function No(y,f){Qa.set(y._key(),f)}function ma(y){return Zn(y._redirectPersistence)}function Ro(y){return V("pendingRedirect",y.config.apiKey,y.name)}function bc(){return(bc=(0,s.Z)(function*(y,f,g){const C=(0,O.m9)(y);Be(C.auth,f,Ms),yield C.auth._initializationPromise;const D=Cr(C.auth,g);yield ga(D,C.auth);const N=yield rr(C);return D._openRedirect(C.auth,f,"reauthViaRedirect",N)})).apply(this,arguments)}function Ec(){return(Ec=(0,s.Z)(function*(y,f,g){const C=(0,O.m9)(y);Be(C.auth,f,Ms),yield C.auth._initializationPromise;const D=Cr(C.auth,g);yield $t(!1,C,f.providerId),yield ga(D,C.auth);const N=yield rr(C);return D._openRedirect(C.auth,f,"linkViaRedirect",N)})).apply(this,arguments)}function Oo(y,f){return br.apply(this,arguments)}function br(){return(br=(0,s.Z)(function*(y,f,g=!1){const C=Yt(y),D=Cr(C,f),B=yield new hr(C,D,g).execute();return B&&!g&&(delete B.user._redirectEventId,yield C._persistUserIfCurrent(B.user),yield C._setRedirectUser(null,f)),B})).apply(this,arguments)}function rr(y){return no.apply(this,arguments)}function no(){return(no=(0,s.Z)(function*(y){const f=ps(`${y.uid}:::`);return y._redirectEventId=f,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),f})).apply(this,arguments)}class Tc{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(f,C)&&(g=!0,this.sendToConsumer(f,C),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function fr(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ms(y);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var C;if(f.error&&!ms(f)){const D=(null===(C=f.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";g.onError(me(this.auth,D))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const C=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&C}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(yi(f))}saveEventToCache(f){this.cachedEventUids.add(yi(f)),this.lastProcessedEventTime=Date.now()}}function yi(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(f=>f).join("-")}function ms({type:y,error:f}){return"unknown"===y&&"auth/no-auth-event"===f?.code}function ro(y){return ul.apply(this,arguments)}function ul(){return(ul=(0,s.Z)(function*(y,f={}){return ge(y,"GET","/v1/projects",f)})).apply(this,arguments)}const Ic=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uh=/^https?/;function ko(){return(ko=(0,s.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:f}=yield ro(y);for(const g of f)try{if(Xf(g))return}catch{}Ce(y,"unauthorized-domain")})).apply(this,arguments)}function Xf(y){const f=qt(),{protocol:g,hostname:C}=new URL(f);if(y.startsWith("chrome-extension://")){const B=new URL(y);return""===B.hostname&&""===C?"chrome-extension:"===g&&y.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&B.hostname===C}if(!uh.test(g))return!1;if(Ic.test(y))return C===y;const D=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+D+"|"+D+")$","i").test(C)}const lh=new os(3e4,6e4);function Gt(){const y=An().___jsl;if(y?.H)for(const f of Object.keys(y.H))if(y.H[f].r=y.H[f].r||[],y.H[f].L=y.H[f].L||[],y.H[f].r=[...y.H[f].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let cl=null;function vi(y){return cl=cl||function _s(y){return new Promise((f,g)=>{var C,D,N;function B(){Gt(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Gt(),g(me(y,"network-request-failed"))},timeout:lh.get()})}if(null!==(D=null===(C=An().gapi)||void 0===C?void 0:C.iframes)&&void 0!==D&&D.Iframe)f(gapi.iframes.getContext());else{if(null===(N=An().gapi)||void 0===N||!N.load){const K=function Si(y){return`__${y}${Math.floor(1e6*Math.random())}`}("iframefcb");return An()[K]=()=>{gapi.load?B():g(me(y,"network-request-failed"))},function xr(y){return new Promise((f,g)=>{const C=document.createElement("script");C.setAttribute("src",y),C.onload=f,C.onerror=D=>{const N=me("internal-error");N.customData=D,g(N)},C.type="text/javascript",C.charset="UTF-8",function Kt(){var y,f;return null!==(f=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==f?f:document}().appendChild(C)})}(`https://apis.google.com/js/api.js?onload=${K}`).catch(Pe=>g(Pe))}B()}}).catch(f=>{throw cl=null,f})}(y),cl}const Dc=new os(5e3,15e3),Ac={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ki=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tp(y){const f=y.config;ne(f.authDomain,y,"auth-domain-config-required");const g=f.emulator?re(f,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,C={apiKey:f.apiKey,appName:y.name,v:ae.SDK_VERSION},D=Ki.get(y.config.apiHost);D&&(C.eid=D);const N=y._getFrameworks();return N.length&&(C.fw=N.join(",")),`${g}?${(0,O.xO)(C).slice(1)}`}function T(){return T=(0,s.Z)(function*(y){const f=yield vi(y),g=An().gapi;return ne(g,y,"internal-error"),f.open({where:document.body,url:tp(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ac,dontclear:!0},C=>new Promise(function(){var D=(0,s.Z)(function*(N,B){yield C.restyle({setHideOnLeave:!1});const K=me(y,"network-request-failed"),Pe=An().setTimeout(()=>{B(K)},Dc.get());function Ze(){An().clearTimeout(Pe),N(C)}C.ping(Ze).then(Ze,()=>{B(K)})});return function(N,B){return D.apply(this,arguments)}}()))}),T.apply(this,arguments)}const M={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class $e{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function He(y,f,g,C=500,D=600){const N=Math.max((window.screen.availHeight-D)/2,0).toString(),B=Math.max((window.screen.availWidth-C)/2,0).toString();let K="";const Pe=Object.assign(Object.assign({},M),{width:C.toString(),height:D.toString(),top:N,left:B}),Ze=(0,O.z$)().toLowerCase();g&&(K=function Ge(y=(0,O.z$)()){return/crios\//i.test(y)}(Ze)?"_blank":g),function ue(y=(0,O.z$)()){return/firefox\//i.test(y)}(Ze)&&(f=f||"http://localhost",Pe.scrollbars="yes");const it=Object.entries(Pe).reduce((On,[Xi,Ip])=>`${On}${Xi}=${Ip},`,"");if(function gn(y=(0,O.z$)()){var f;return ct(y)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(Ze)&&"_self"!==K)return function at(y,f){const g=document.createElement("a");g.href=y,g.target=f;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(C)}(f||"",K),new $e(null);const et=window.open(f||"",K,it);ne(et,y,"popup-blocked");try{et.focus()}catch{}return new $e(et)}const ni=encodeURIComponent("fac");function Sn(y,f,g,C,D,N){return yn.apply(this,arguments)}function yn(){return(yn=(0,s.Z)(function*(y,f,g,C,D,N){ne(y.config.authDomain,y,"auth-domain-config-required"),ne(y.config.apiKey,y,"invalid-api-key");const B={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:C,v:ae.SDK_VERSION,eventId:D};if(f instanceof Ms){f.setDefaultLanguage(y.languageCode),B.providerId=f.providerId||"",(0,O.xb)(f.getCustomParameters())||(B.customParameters=JSON.stringify(f.getCustomParameters()));for(const[it,et]of Object.entries(N||{}))B[it]=et}if(f instanceof Fu){const it=f.getScopes().filter(et=>""!==et);it.length>0&&(B.scopes=it.join(","))}y.tenantId&&(B.tid=y.tenantId);const K=B;for(const it of Object.keys(K))void 0===K[it]&&delete K[it];const Pe=yield y._getAppCheckToken(),Ze=Pe?`#${ni}=${encodeURIComponent(Pe)}`:"";return`${Ut(y)}?${(0,O.xO)(K).slice(1)}${Ze}`})).apply(this,arguments)}function Ut({config:y}){return y.emulator?re(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}const Oi="webStorageSupport";function _a(){return window}function Rc(){return(Rc=(0,s.Z)(function*(y,f,g){var C;const{BuildInfo:D}=_a();ut(f.sessionId,"AuthEvent did not contain a session ID");const N=yield gw(f.sessionId),B={};return ct()?B.ibi=D.packageName:Ft()?B.apn=D.packageName:Ce(y,"operation-not-supported-in-this-environment"),D.displayName&&(B.appDisplayName=D.displayName),B.sessionId=N,Sn(y,g,f.type,void 0,null!==(C=f.eventId)&&void 0!==C?C:void 0,B)})).apply(this,arguments)}function Pc(){return(Pc=(0,s.Z)(function*(y){const{BuildInfo:f}=_a(),g={};ct()?g.iosBundleId=f.packageName:Ft()?g.androidPackageName=f.packageName:Ce(y,"operation-not-supported-in-this-environment"),yield ro(y,g)})).apply(this,arguments)}function Fo(){return(Fo=(0,s.Z)(function*(y,f,g){const{cordova:C}=_a();let D=()=>{};try{yield new Promise((N,B)=>{let K=null;function Pe(){var et;N();const On=null===(et=C.plugins.browsertab)||void 0===et?void 0:et.close;"function"==typeof On&&On(),"function"==typeof g?.close&&g.close()}function Ze(){K||(K=window.setTimeout(()=>{B(me(y,"redirect-cancelled-by-user"))},2e3))}function it(){"visible"===document?.visibilityState&&Ze()}f.addPassiveListener(Pe),document.addEventListener("resume",Ze,!1),Ft()&&document.addEventListener("visibilitychange",it,!1),D=()=>{f.removePassiveListener(Pe),document.removeEventListener("resume",Ze,!1),document.removeEventListener("visibilitychange",it,!1),K&&window.clearTimeout(K)}})}finally{D()}})).apply(this,arguments)}function gw(y){return sp.apply(this,arguments)}function sp(){return(sp=(0,s.Z)(function*(y){const f=qy(y),g=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(g)).map(D=>D.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function qy(y){if(ut(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const f=new ArrayBuffer(y.length),g=new Uint8Array(f);for(let C=0;C<y.length;C++)g[C]=y.charCodeAt(C);return g}class ru extends Tc{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(f)),super.onEvent(f)}initialized(){var f=this;return(0,s.Z)(function*(){yield f.initPromise})()}}function op(y){return fh.apply(this,arguments)}function fh(){return(fh=(0,s.Z)(function*(y){const f=yield Lo()._get(ph(y));return f&&(yield Lo()._remove(ph(y))),f})).apply(this,arguments)}function iu(){const y=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const C=Math.floor(Math.random()*f.length);y.push(f.charAt(C))}return y.join("")}function Lo(){return Zn(fs)}function ph(y){return V("authEvent",y.config.apiKey,y.name)}function Oc(y){if(!y?.includes("?"))return{};const[f,...g]=y.split("?");return(0,O.zd)(g.join("?"))}function lp(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:me("no-auth-event")}}function ki(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function mp(){return function Fc(y=(0,O.z$)()){return!("file:"!==ki()&&"ionic:"!==ki()&&"capacitor:"!==ki()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}()&&typeof document<"u"}function _l(){return(_l=(0,s.Z)(function*(){return!!mp()&&new Promise(y=>{const f=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),y(!0)})})})).apply(this,arguments)}const vp="persistence";function Vc(y){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,s.Z)(function*(y){yield y._initializationPromise;const f=_h(),g=V(vp,y.config.apiKey,y.name);f&&f.setItem(g,y._getPersistence())})).apply(this,arguments)}function _h(){var y;try{return(null===(y=function yp(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const Bc=ne;class so{constructor(){this.browserResolver=Zn(class Yi{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Io,this._completeRedirectFn=Oo,this._overrideRedirectResult=No}_openPopup(f,g,C,D){var N=this;return(0,s.Z)(function*(){var B;ut(null===(B=N.eventManagers[f._key()])||void 0===B?void 0:B.manager,"_initialize() not called before _openPopup()");const K=yield Sn(f,g,C,qt(),D);return He(f,K,ps())})()}_openRedirect(f,g,C,D){var N=this;return(0,s.Z)(function*(){return yield N._originValidation(f),function hc(y){An().location.href=y}(yield Sn(f,g,C,qt(),D)),new Promise(()=>{})})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:D,promise:N}=this.eventManagers[g];return D?Promise.resolve(D):(ut(N,"If manager is not set, promise should be"),N)}const C=this.initAndGetManager(f);return this.eventManagers[g]={promise:C},C.catch(()=>{delete this.eventManagers[g]}),C}initAndGetManager(f){var g=this;return(0,s.Z)(function*(){const C=yield function w(y){return T.apply(this,arguments)}(f),D=new Tc(f);return C.register("authEvent",N=>(ne(N?.authEvent,f,"invalid-auth-event"),{status:D.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:D},g.iframes[f._key()]=C,D})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(Oi,{type:Oi},D=>{var N;const B=null===(N=D?.[0])||void 0===N?void 0:N[Oi];void 0!==B&&g(!!B),Ce(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function ll(y){return ko.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return mn()||Y()||ct()}}),this.cordovaResolver=Zn(class Gy{constructor(){this._redirectPersistence=Io,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Oo,this._overrideRedirectResult=No}_initialize(f){var g=this;return(0,s.Z)(function*(){const C=f._key();let D=g.eventManagers.get(C);return D||(D=new ru(f),g.eventManagers.set(C,D),g.attachCallbackListeners(f,D)),D})()}_openPopup(f){Ce(f,"operation-not-supported-in-this-environment")}_openRedirect(f,g,C,D){var N=this;return(0,s.Z)(function*(){!function ip(y){var f,g,C,D,N,B,K,Pe,Ze,it;const et=_a();ne("function"==typeof(null===(f=et?.universalLinks)||void 0===f?void 0:f.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ne(typeof(null===(g=et?.BuildInfo)||void 0===g?void 0:g.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ne("function"==typeof(null===(N=null===(D=null===(C=et?.cordova)||void 0===C?void 0:C.plugins)||void 0===D?void 0:D.browsertab)||void 0===N?void 0:N.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ne("function"==typeof(null===(Pe=null===(K=null===(B=et?.cordova)||void 0===B?void 0:B.plugins)||void 0===K?void 0:K.browsertab)||void 0===Pe?void 0:Pe.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ne("function"==typeof(null===(it=null===(Ze=et?.cordova)||void 0===Ze?void 0:Ze.InAppBrowser)||void 0===it?void 0:it.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const B=yield N._initialize(f);yield B.initialized(),B.resetRedirect(),function Xa(){Qa.clear()}(),yield N._originValidation(f);const K=function gl(y,f,g=null){return{type:f,eventId:g,urlResponse:null,sessionId:iu(),postBody:null,tenantId:y.tenantId,error:me(y,"no-auth-event")}}(f,C,D);yield function ya(y,f){return Lo()._set(ph(y),f)}(f,K);const Pe=yield function fl(y,f,g){return Rc.apply(this,arguments)}(f,K,g),Ze=yield function pl(y){const{cordova:f}=_a();return new Promise(g=>{f.plugins.browsertab.isAvailable(C=>{let D=null;C?f.plugins.browsertab.openUrl(y):D=f.InAppBrowser.open(y,function _t(y=(0,O.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(D)})})}(Pe);return function Zy(y,f,g){return Fo.apply(this,arguments)}(f,B,Ze)})()}_isIframeWebStorageSupported(f,g){throw new Error("Method not implemented.")}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Rm(y){return Pc.apply(this,arguments)}(f)),this.originValidationPromises[g]}attachCallbackListeners(f,g){const{universalLinks:C,handleOpenURL:D,BuildInfo:N}=_a(),B=setTimeout((0,s.Z)(function*(){yield op(f),g.onEvent(lp())}),500),K=function(){var it=(0,s.Z)(function*(et){clearTimeout(B);const On=yield op(f);let Xi=null;On&&et?.url&&(Xi=function ap(y,f){var g,C;const D=function $y(y){const f=Oc(y),g=f.link?decodeURIComponent(f.link):void 0,C=Oc(g).link,D=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return Oc(D).link||D||C||g||y}(f);if(D.includes("/__/auth/callback")){const N=Oc(D),B=N.firebaseError?function up(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(N.firebaseError)):null,K=null===(C=null===(g=B?.code)||void 0===g?void 0:g.split("auth/"))||void 0===C?void 0:C[1],Pe=K?me(K):null;return Pe?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Pe,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:D,postBody:null}}return null}(On,et.url)),g.onEvent(Xi||lp())});return function(On){return it.apply(this,arguments)}}();typeof C<"u"&&"function"==typeof C.subscribe&&C.subscribe(null,K);const Pe=D,Ze=`${N.packageName.toLowerCase()}://`;_a().handleOpenURL=function(){var it=(0,s.Z)(function*(et){if(et.toLowerCase().startsWith(Ze)&&K({url:et}),"function"==typeof Pe)try{Pe(et)}catch(On){console.error(On)}});return function(et){return it.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Io,this._completeRedirectFn=Oo,this._overrideRedirectResult=No}_initialize(f){var g=this;return(0,s.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,g,C,D){var N=this;return(0,s.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openPopup(f,g,C,D)})()}_openRedirect(f,g,C,D){var N=this;return(0,s.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openRedirect(f,g,C,D)})()}_isIframeWebStorageSupported(f,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,g)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return mp()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Bc(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,s.Z)(function*(){if(f.underlyingResolver)return;const g=yield function _p(){return _l.apply(this,arguments)}();f.underlyingResolver=g?f.cordovaResolver:f.browserResolver})()}}function vn(y){return y.unwrap()}function km(y){return wp(y)}function wp(y){const{_tokenResponse:f}=y instanceof O.ZR?y.customData:y;if(!f)return null;if(!(y instanceof O.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return Qe.credentialFromResult(y);const g=f.providerId;if(!g||"password"===g)return null;let C;switch(g){case"google.com":C=Jl;break;case"facebook.com":C=ei;break;case"github.com":C=Na;break;case"twitter.com":C=Ql;break;default:const{oauthIdToken:D,oauthAccessToken:N,oauthTokenSecret:B,pendingToken:K,nonce:Pe}=f;return N||B||D||K?K?g.startsWith("saml.")?$n._create(g,K):Mi._fromParams({providerId:g,signInMethod:g,pendingToken:K,idToken:D,accessToken:N}):new xi(g).credential({idToken:D,accessToken:N,rawNonce:Pe}):null}return y instanceof O.ZR?C.credentialFromError(y):C.credentialFromResult(y)}function ri(y,f){return f.catch(g=>{throw g instanceof O.ZR&&function jc(y,f){var g;const C=null===(g=f.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===f?.code)f.resolver=new bp(y,function zu(y,f){var g;const C=(0,O.m9)(y),D=f;return ne(f.customData.operationType,C,"argument-error"),ne(null===(g=D.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,C,"argument-error"),hs._fromError(C,D)}(y,f));else if(C){const D=wp(f),N=f;D&&(N.credential=D,N.tenantId=C.tenantId||void 0,N.email=C.email||void 0,N.phoneNumber=C.phoneNumber||void 0)}}(y,g),g}).then(g=>{const D=g.user;return{operationType:g.operationType,credential:km(g),additionalUserInfo:$u(g),user:ii.getOrCreate(D)}})}function yh(y,f){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,s.Z)(function*(y,f){const g=yield f;return{verificationId:g.verificationId,confirm:C=>ri(y,g.confirm(C))}})).apply(this,arguments)}class bp{constructor(f,g){this.resolver=g,this.auth=function Cp(y){return y.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return ri(vn(this.auth),this.resolver.resolveSignIn(f))}}class ii{constructor(f){this._delegate=f,this.multiFactor=function Za(y){const f=(0,O.m9)(y);return Eo.has(f)||Eo.set(f,bo._fromUser(f)),Eo.get(f)}(f)}static getOrCreate(f){return ii.USER_MAP.has(f)||ii.USER_MAP.set(f,new ii(f)),ii.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var g=this;return(0,s.Z)(function*(){return ri(g.auth,ec(g._delegate,f))})()}linkWithPhoneNumber(f,g){var C=this;return(0,s.Z)(function*(){return yh(C.auth,function Mm(y,f,g){return rl.apply(this,arguments)}(C._delegate,f,g))})()}linkWithPopup(f){var g=this;return(0,s.Z)(function*(){return ri(g.auth,function At(y,f,g){return Mo.apply(this,arguments)}(g._delegate,f,so))})()}linkWithRedirect(f){var g=this;return(0,s.Z)(function*(){return yield Vc(Yt(g.auth)),function wr(y,f,g){return function ah(y,f,g){return Ec.apply(this,arguments)}(y,f,g)}(g._delegate,f,so)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var g=this;return(0,s.Z)(function*(){return ri(g.auth,Ln(g._delegate,f))})()}reauthenticateWithPhoneNumber(f,g){return yh(this.auth,function ih(y,f,g){return il.apply(this,arguments)}(this._delegate,f,g))}reauthenticateWithPopup(f){return ri(this.auth,function oh(y,f,g){return eo.apply(this,arguments)}(this._delegate,f,so))}reauthenticateWithRedirect(f){var g=this;return(0,s.Z)(function*(){return yield Vc(Yt(g.auth)),function Fs(y,f,g){return function Po(y,f,g){return bc.apply(this,arguments)}(y,f,g)}(g._delegate,f,so)})()}sendEmailVerification(f){return function Yd(y,f){return Hu.apply(this,arguments)}(this._delegate,f)}unlink(f){var g=this;return(0,s.Z)(function*(){return yield function $d(y,f){return $i.apply(this,arguments)}(g._delegate,f),g})()}updateEmail(f){return function Lf(y,f){return Va((0,O.m9)(y),f,null)}(this._delegate,f)}updatePassword(f){return function Rs(y,f){return Va((0,O.m9)(y),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function Xt(y,f){return Ao.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function Jd(y,f){return Ua.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,g){return function oc(y,f,g){return Co.apply(this,arguments)}(this._delegate,f,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ii.USER_MAP=new WeakMap;class Ep{constructor(){this.providerId="phone",this._delegate=new Qe(vn(ee.Z.auth()))}static credential(f,g){return Qe.credential(f,g)}verifyPhoneNumber(f,g){return this._delegate.verifyPhoneNumber(f,g)}unwrap(){return this._delegate}}Ep.PHONE_SIGN_IN_METHOD=Qe.PHONE_SIGN_IN_METHOD,Ep.PROVIDER_ID=Qe.PROVIDER_ID},1877:(yt,Ne,F)=>{F.d(Ne,{Am:()=>pe,Ub:()=>we,Yd:()=>de,in:()=>ee});const s=[];var ee=(()=>{return(Z=ee||(ee={}))[Z.DEBUG=0]="DEBUG",Z[Z.VERBOSE=1]="VERBOSE",Z[Z.INFO=2]="INFO",Z[Z.WARN=3]="WARN",Z[Z.ERROR=4]="ERROR",Z[Z.SILENT=5]="SILENT",ee;var Z})();const O={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},ae=ee.INFO,oe={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},he=(Z,H,...z)=>{if(H<Z.logLevel)return;const je=(new Date).toISOString(),xe=oe[H];if(!xe)throw new Error(`Attempted to log a message with an invalid logType (value: ${H})`);console[xe](`[${je}]  ${Z.name}:`,...z)};class de{constructor(H){this.name=H,this._logLevel=ae,this._logHandler=he,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(H){if(!(H in ee))throw new TypeError(`Invalid value "${H}" assigned to \`logLevel\``);this._logLevel=H}setLogLevel(H){this._logLevel="string"==typeof H?O[H]:H}get logHandler(){return this._logHandler}set logHandler(H){if("function"!=typeof H)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=H}get userLogHandler(){return this._userLogHandler}set userLogHandler(H){this._userLogHandler=H}debug(...H){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...H),this._logHandler(this,ee.DEBUG,...H)}log(...H){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...H),this._logHandler(this,ee.VERBOSE,...H)}info(...H){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...H),this._logHandler(this,ee.INFO,...H)}warn(...H){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...H),this._logHandler(this,ee.WARN,...H)}error(...H){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...H),this._logHandler(this,ee.ERROR,...H)}}function we(Z){s.forEach(H=>{H.setLogLevel(Z)})}function pe(Z,H){for(const z of s){let je=null;H&&H.level&&(je=O[H.level]),z.userLogHandler=null===Z?null:(xe,Te,...tt)=>{const ve=tt.map(ye=>{if(null==ye)return null;if("string"==typeof ye)return ye;if("number"==typeof ye||"boolean"==typeof ye)return ye.toString();if(ye instanceof Error)return ye.message;try{return JSON.stringify(ye)}catch{return null}}).filter(ye=>ye).join(" ");Te>=(je??xe.logLevel)&&Z({level:ee[Te].toLowerCase(),message:ve,args:tt,type:xe.name})}}}},5861:(yt,Ne,F)=>{function s(O,ae,oe,he,de,we,pe){try{var Z=O[we](pe),H=Z.value}catch(z){return void oe(z)}Z.done?ae(H):Promise.resolve(H).then(he,de)}function ee(O){return function(){var ae=this,oe=arguments;return new Promise(function(he,de){var we=O.apply(ae,oe);function pe(H){s(we,he,de,pe,Z,"next",H)}function Z(H){s(we,he,de,pe,Z,"throw",H)}pe(void 0)})}}F.d(Ne,{Z:()=>ee})},7582:(yt,Ne,F)=>{function ae(re,X){var Ie={};for(var Ee in re)Object.prototype.hasOwnProperty.call(re,Ee)&&X.indexOf(Ee)<0&&(Ie[Ee]=re[Ee]);if(null!=re&&"function"==typeof Object.getOwnPropertySymbols){var Se=0;for(Ee=Object.getOwnPropertySymbols(re);Se<Ee.length;Se++)X.indexOf(Ee[Se])<0&&Object.prototype.propertyIsEnumerable.call(re,Ee[Se])&&(Ie[Ee[Se]]=re[Ee[Se]])}return Ie}function z(re,X,Ie,Ee){return new(Ie||(Ie=Promise))(function(ge,lt){function Rt(Qt){try{vt(Ee.next(Qt))}catch(Rn){lt(Rn)}}function dn(Qt){try{vt(Ee.throw(Qt))}catch(Rn){lt(Rn)}}function vt(Qt){Qt.done?ge(Qt.value):function Se(ge){return ge instanceof Ie?ge:new Ie(function(lt){lt(ge)})}(Qt.value).then(Rt,dn)}vt((Ee=Ee.apply(re,X||[])).next())})}function ke(re){return this instanceof ke?(this.v=re,this):new ke(re)}function Ce(re,X,Ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Se,Ee=Ie.apply(re,X||[]),ge=[];return Se={},lt("next"),lt("throw"),lt("return"),Se[Symbol.asyncIterator]=function(){return this},Se;function lt(wn){Ee[wn]&&(Se[wn]=function(Hn){return new Promise(function(Xn,Yn){ge.push([wn,Hn,Xn,Yn])>1||Rt(wn,Hn)})})}function Rt(wn,Hn){try{!function dn(wn){wn.value instanceof ke?Promise.resolve(wn.value.v).then(vt,Qt):Rn(ge[0][2],wn)}(Ee[wn](Hn))}catch(Xn){Rn(ge[0][3],Xn)}}function vt(wn){Rt("next",wn)}function Qt(wn){Rt("throw",wn)}function Rn(wn,Hn){wn(Hn),ge.shift(),ge.length&&Rt(ge[0][0],ge[0][1])}}function qe(re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ie,X=re[Symbol.asyncIterator];return X?X.call(re):(re=function tt(re){var X="function"==typeof Symbol&&Symbol.iterator,Ie=X&&re[X],Ee=0;if(Ie)return Ie.call(re);if(re&&"number"==typeof re.length)return{next:function(){return re&&Ee>=re.length&&(re=void 0),{value:re&&re[Ee++],done:!re}}};throw new TypeError(X?"Object is not iterable.":"Symbol.iterator is not defined.")}(re),Ie={},Ee("next"),Ee("throw"),Ee("return"),Ie[Symbol.asyncIterator]=function(){return this},Ie);function Ee(ge){Ie[ge]=re[ge]&&function(lt){return new Promise(function(Rt,dn){!function Se(ge,lt,Rt,dn){Promise.resolve(dn).then(function(vt){ge({value:vt,done:Rt})},lt)}(Rt,dn,(lt=re[ge](lt)).done,lt.value)})}}}F.d(Ne,{FC:()=>Ce,KL:()=>qe,_T:()=>ae,mG:()=>z,qq:()=>ke}),"function"==typeof SuppressedError&&SuppressedError}},yt=>{yt(yt.s=8303)}]);